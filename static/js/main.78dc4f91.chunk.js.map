{"version":3,"sources":["components/Theme/index.js","components/Header/GithubIcon.js","components/StartingPage/templates.js","components/Header/index.js","components/CreateFromTemplateDialog/index.js","components/StartingPage/index.js","components/OHAEditor/default-oha-object.js","utils/get-task-description.js","components/SampleContainer/LinkButton.js","components/SampleContainer/index.js","components/TextClassification/index.js","components/TextEntityRecognition/index.js","components/ImageSegmentation/index.js","components/AudioTranscription/index.js","components/DataEntry/index.js","components/BadOHA/index.js","components/EmptySampleContainer/index.js","components/InterfaceIcon/index.js","components/Composite/index.js","components/UniversalDataViewer/index.js","components/OHAEditor/EditableTitleText.js","components/OHAEditor/index.js","components/ErrorToasts/index.js","utils/use-errors.js","components/LocalStorageApp/index.js","utils/use-local-storage.js","App.js","index.js"],"names":["useStyles","makeStyles","container","fontFamily","theme","createMuiTheme","typography","overrides","MuiButton","root","textTransform","Theme","_ref","children","classes","react_default","a","createElement","MuiThemeProvider_default","ThemeProvider","className","GitHub","props","SvgIcon","d","templates","name","Icon","RemoveRedEye","oha","interface","type","availableLabels","regionTypesAllowed","taskData","imageUrl","Edit","description","surveyjs","questions","title","pdfUrl","TextFormat","overlapAllowed","labels","id","displayName","document","Audiotrack","audioUrl","Category","fields","fieldName","headerButton","color","grow","flexGrow","list","width","HeaderContext","createContext","recentItems","Header","_ref$additionalButton","additionalButtons","_ref$title","c","_useState","useState","_useState2","Object","slicedToArray","drawerOpen","changeDrawerOpen","_useContext","useContext","onClickTemplate","onClickHome","onOpenFile","onOpenRecentItem","onDrop","useCallback","acceptedFiles","_useDropzone","useDropzone","getRootProps","getInputProps","Fragment","AppBar","position","Toolbar","IconButton","onClick","Menu_default","Typography","variant","noWrap","href","GithubIcon","Drawer","open","onClose","List","ListItem","button","ListItemIcon","Home_default","ListItemText","assign","NoteAdd_default","ListSubheader","length","style","textAlign","colors","map","ri","key","fileName","InsertDriveFile_default","template","window","location","bigButton","padding","height","border","margin","bigIcon","CreateFromTemplateDialog","onSelect","Dialog","DialogTitle","DialogContent","Button","DialogActions","contentTitle","paddingTop","paddingLeft","paddingRight","contentSubtitle","wordWrap","fontSize","concat","bigButtonContent","display","lineHeight","paddingBottom","flexDirection","alignItems","justifyContent","content","flexWrap","StartingPage","onFileDrop","onOpenTemplate","createFromTemplateDialogOpen","changeCreateFromTemplateDialogOpen","useMemo","isDragActive","Grid","item","xs","Description_default","default_oha_object","trim","getTaskDescription","taskDataItem","url","replace","linkButtonContainer","marginLeft","marginRight","linkButton","cursor","textDecoration","LinkButton","text","footer","backgroundColor","marginTop","footerContent","footerBorder","borderTop","footerCount","allSamplesButton","sampleIcon","menuButton","buttons","& > *","& img","maxWidth","maxHeight","sectionHeader","fontWeight","SampleContainer","_ref$hideDescription","hideDescription","defaultHideDescription","onExit","lastSampleExitText","_ref$requireCompleteT","requireCompleteToPressNext","minContentHeight","currentSampleIndex","totalSamples","onChangeSample","_ref$taskOutput","taskOutput","changeHideDescription","_useState3","_useState4","sampleDrawerOpen","changeSampleDrawerOpen","sm","md","react_markdown_default","escapeHtml","source","minHeight","KeyboardArrowLeft_default","disabled","KeyboardArrowRight_default","anchor","minWidth","range","i","undefined","CheckCircle_default","RadioButtonUnchecked_default","TextClassification","changeCurrentSampleIndex","initialLabels","label","components_SampleContainer","containerProps","sampleIndex","NLPAnnotator","multipleLabels","multiple","onFinish","result","onSaveTaskOutputItem","simpleSequenceToEntitySequence","simpleSeq","entSeq","charsPassed","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","Symbol","iterator","next","done","seq","value","push","start","end","err","return","TextEntityRecognition","initialSequence","doc","toConsumableArray","sort","b","nextEntity","entitySequenceToSimpleSeq","entities","getRandomColor","min","max","h","Math","floor","random","rid","toString","split","convertToRIARegionFmt","region","regionType","cls","classification","x","centerX","y","centerY","w","points","p","Error","JSON","stringify","convertFromRIARegionFmt","riaRegion","_ref2","regionTypeToTool","bounding-box","polygon","full-segmentation","point","ImageSegmentation","_ref4","iface","_ref4$taskData","_ref4$taskOutput","_ref4$containerProps","selectedIndex","_iface$regionTypesAll","labelProps","Boolean","multipleRegionLabels","regionClsList","regionTagList","react_image_annotate","selectedImage","src","taskDescription","enabledTools","rt","filter","images","taskDatum","index","_ref3","td","output","regions","Array","isArray","convertToRIAImageFmt","regionMat","img","riaRegions","multipleRegions","AudioTranscription","audio","phraseBank","initialTranscriptionText","DataEntry","console","log","Survey_default","form","defaultAnswers","completeText","answers","explain","BadOHA","component","EmptySampleContainer","InterfaceIcon","objectWithoutProperties","RemoveRedEye_default","Audiotrack_default","Edit_default","TextFormat_default","Help_default","Title","styled","borderBottom","marginBottom","StyledButton","Composite","selectedField","changeSelectedField","components_UniversalDataViewer","indexZero","_objectSpread","defineProperty","field","fullWidth","Box","Checkbox","checked","UniversalDataViewer","hideHeader","datasetName","components_DataEntry","components_TextClassification","components_TextEntityRecognition","components_Composite","textField","EditableTitleText","onChange","editing","_useState2$","newValue","changeEditing","useEffect","listener","e","addEventListener","removeEventListener","timeout","setTimeout","SAVE_WAIT","clearTimeout","TextField","autoFocus","InputProps","inputProps","target","saveIcon","editIcon","OHAEditor","_ref$fileName","onChangeFileName","_ref$onChangeContent","onChangeContent","_ref$onChangeOHA","onChangeOHA","_ref$initialMode","initialMode","mode","changeMode","defaultOHAObject","jsonText","changeJSONText","parse","lib_default","editorProps","$blockScrolling","Infinity","t","newOHA","OHAEditor_objectSpread","bottom","left","right","pointerEvents","errorBox","red","ErrorToasts","errors","Collapse","in","life","Fade","message","use_errors","changeErrors","interval","setInterval","use_errors_objectSpread","clearInterval","empty","LocalStorageApp","pageName","changePageName","currentFile","changeCurrentFile","_useState5","_useState6","changeOHA","_useErrors","useErrors","_useErrors2","addError","_useLocalStorage","defaultValue","localStorage","getItem","state","changeState","setItem","useLocalStorage","_useLocalStorage2","changeRecentItems","onCreateTemplate","openRecentItem","handleOpenFile","file","reader","FileReader","onload","readAsText","Provider","newName","LocalStorageApp_objectSpread","newContent","newFile","includes","slice","App","ReactDOM","render","src_App","getElementById"],"mappings":"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","file":"static/js/main.78dc4f91.chunk.js","sourcesContent":["import React from \"react\"\nimport { makeStyles } from \"@material-ui/core/styles\"\nimport createMuiTheme from \"@material-ui/core/styles/createMuiTheme\"\nimport MuiThemeProvider from \"@material-ui/core/styles/MuiThemeProvider\"\nimport ThemeProvider from \"@material-ui/styles/ThemeProvider\"\nimport \"./theme.css\"\n\nconst useStyles = makeStyles({\n  container: {\n    fontFamily: '\"Inter\", sans-serif'\n  }\n})\n\nconst theme = createMuiTheme({\n  typography: {\n    fontFamily: '\"Inter\", \"Roboto\", sans-serif'\n  },\n  overrides: {\n    MuiButton: {\n      root: {\n        textTransform: \"none\"\n      }\n    }\n  }\n})\n\nexport default ({ children }: any) => {\n  const classes = useStyles()\n  return (\n    <MuiThemeProvider theme={theme}>\n      <ThemeProvider theme={theme}>\n        <div className={classes.container}>{children}</div>\n      </ThemeProvider>\n    </MuiThemeProvider>\n  )\n}\n","// @flow\n\nimport React from \"react\"\nimport SvgIcon from \"@material-ui/core/SvgIcon\"\n\nfunction GitHub(props: Object) {\n  return (\n    <SvgIcon {...props}>\n      <path d=\"M12.007 0C6.12 0 1.1 4.27.157 10.08c-.944 5.813 2.468 11.45 8.054 13.312.19.064.397.033.555-.084.16-.117.25-.304.244-.5v-2.042c-3.33.735-4.037-1.56-4.037-1.56-.22-.726-.694-1.35-1.334-1.756-1.096-.75.074-.735.074-.735.773.103 1.454.557 1.846 1.23.694 1.21 2.23 1.638 3.45.96.056-.61.327-1.178.766-1.605-2.67-.3-5.462-1.335-5.462-6.002-.02-1.193.42-2.35 1.23-3.226-.327-1.015-.27-2.116.166-3.09 0 0 1.006-.33 3.3 1.23 1.966-.538 4.04-.538 6.003 0 2.295-1.5 3.3-1.23 3.3-1.23.445 1.006.49 2.144.12 3.18.81.877 1.25 2.033 1.23 3.226 0 4.607-2.805 5.627-5.476 5.927.578.583.88 1.386.825 2.206v3.29c-.005.2.092.393.26.507.164.115.377.14.565.063 5.568-1.88 8.956-7.514 8.007-13.313C22.892 4.267 17.884.007 12.008 0z\" />\n    </SvgIcon>\n  )\n}\n\nexport default GitHub\n","// @flow\n\nimport RemoveRedEye from \"@material-ui/icons/RemoveRedEye\"\nimport TextFormat from \"@material-ui/icons/TextFormat\"\nimport Edit from \"@material-ui/icons/Edit\"\nimport Audiotrack from \"@material-ui/icons/Audiotrack\"\nimport Category from \"@material-ui/icons/Category\"\n\nexport default [\n  {\n    name: \"Computer Vision\",\n    Icon: RemoveRedEye,\n    oha: {\n      interface: {\n        type: \"image_segmentation\",\n        availableLabels: [\"valid\", \"invalid\"],\n        regionTypesAllowed: [\n          \"bounding-box\",\n          \"polygon\",\n          \"full-segmentation\",\n          \"point\",\n          \"pixel-mask\"\n        ]\n      },\n      taskData: [\n        {\n          imageUrl:\n            \"https://s3.amazonaws.com/asset.workaround.online/example-jobs/sticky-notes/image1.jpg\"\n        },\n        {\n          imageUrl:\n            \"https://s3.amazonaws.com/asset.workaround.online/example-jobs/sticky-notes/image2.jpg\"\n        }\n      ]\n    }\n  },\n  {\n    name: \"Data Entry\",\n    Icon: Edit,\n    oha: {\n      interface: {\n        type: \"data_entry\",\n        description: \"# Markdown description here\",\n        surveyjs: {\n          questions: [\n            {\n              type: \"text\",\n              name: \"document_title\",\n              title: \"Title of Document\"\n            }\n          ]\n        }\n      },\n      taskData: [\n        {\n          pdfUrl: \"https://arxiv.org/pdf/1906.01969.pdf\"\n        },\n        {\n          pdfUrl: \"https://arxiv.org/pdf/1908.07069.pdf\"\n        }\n      ]\n    }\n  },\n  {\n    name: \"Natural Language\",\n    Icon: TextFormat,\n    oha: {\n      interface: {\n        type: \"text_entity_recognition\",\n        overlapAllowed: false,\n        labels: [\n          {\n            id: \"food\",\n            displayName: \"Food\",\n            description: \"Edible item.\"\n          },\n          {\n            id: \"hat\",\n            displayName: \"Hat\",\n            description: \"Something worn on the head.\"\n          }\n        ]\n      },\n      taskData: [\n        {\n          document:\n            \"This strainer makes a great hat, I'll wear it while I serve spaghetti!\"\n        }\n      ]\n    }\n  },\n  {\n    name: \"Audio Transcription\",\n    Icon: Audiotrack,\n    oha: {\n      interface: {\n        type: \"audio_transcription\",\n        description: \"# Markdown description here\"\n      },\n      taskData: [\n        {\n          audioUrl: \"https://html5tutorial.info/media/vincent.mp3\"\n        }\n      ]\n    }\n  },\n  {\n    name: \"Composite\",\n    Icon: Category,\n    oha: {\n      description: \"# Markdown description here\",\n      interface: {\n        type: \"composite\",\n        fields: [\n          {\n            fieldName: \"textInfo\",\n            interface: {\n              type: \"data_entry\",\n              surveyjs: {\n                questions: [\n                  {\n                    type: \"text\",\n                    name: \"group_letter\",\n                    title: \"Letter of Group\"\n                  }\n                ]\n              }\n            }\n          },\n          {\n            fieldName: \"segmentation\",\n            interface: {\n              type: \"image_segmentation\",\n              availableLabels: [\"group text\"],\n              regionTypesAllowed: [\"bounding-box\"]\n            }\n          }\n        ]\n      },\n      taskData: [\n        {\n          imageUrl:\n            \"https://s3.amazonaws.com/asset.workaround.online/example-jobs/sticky-notes/image1.jpg\"\n        },\n        {\n          imageUrl:\n            \"https://s3.amazonaws.com/asset.workaround.online/example-jobs/sticky-notes/image2.jpg\"\n        }\n      ]\n    }\n  }\n]\n","// @flow\n\nimport React, { useState, createContext, useContext, useCallback } from \"react\"\nimport AppBar from \"@material-ui/core/AppBar\"\nimport Toolbar from \"@material-ui/core/Toolbar\"\nimport IconButton from \"@material-ui/core/IconButton\"\nimport MenuIcon from \"@material-ui/icons/Menu\"\nimport CodeIcon from \"@material-ui/icons/Code\"\nimport HomeIcon from \"@material-ui/icons/Home\"\nimport Typography from \"@material-ui/core/Typography\"\nimport Drawer from \"@material-ui/core/Drawer\"\nimport Button from \"@material-ui/core/Button\"\nimport FileIcon from \"@material-ui/icons/InsertDriveFile\"\nimport NoteAddIcon from \"@material-ui/icons/NoteAdd\"\nimport List from \"@material-ui/core/List\"\nimport ListItem from \"@material-ui/core/ListItem\"\nimport ListItemText from \"@material-ui/core/ListItemText\"\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\"\nimport ListSubheader from \"@material-ui/core/ListSubheader\"\nimport * as colors from \"@material-ui/core/colors\"\nimport GithubIcon from \"./GithubIcon\"\nimport templates from \"../StartingPage/templates\"\nimport { useDropzone } from \"react-dropzone\"\nimport { makeStyles } from \"@material-ui/core/styles\"\n\nconst useStyles = makeStyles({\n  headerButton: {\n    color: \"#fff\"\n  },\n  grow: { flexGrow: 1 },\n  list: {\n    width: 300\n  }\n})\n\nexport const HeaderContext = createContext({ recentItems: [] })\n\nexport default ({\n  additionalButtons = [],\n  title = \"Universal Data Tool - Welcome!\"\n}) => {\n  const c = useStyles()\n  const [drawerOpen, changeDrawerOpen] = useState(false)\n  let {\n    recentItems,\n    onClickTemplate,\n    onClickHome,\n    onOpenFile,\n    onOpenRecentItem\n  } = useContext(HeaderContext)\n  if (!recentItems) recentItems = []\n\n  const onDrop = useCallback(acceptedFiles => {\n    onOpenFile(acceptedFiles[0])\n  }, [])\n\n  const { getRootProps, getInputProps } = useDropzone({ onDrop })\n\n  return (\n    <>\n      <AppBar position=\"static\">\n        <Toolbar>\n          <IconButton\n            onClick={() => changeDrawerOpen(true)}\n            className={c.headerButton}\n          >\n            <MenuIcon />\n          </IconButton>\n          <Typography className={c.title} variant=\"h6\" noWrap>\n            {title}\n          </Typography>\n          <div className={c.grow} />\n          {additionalButtons}\n          <IconButton\n            href=\"https://github.com/openhumanannotation/universal-data-tool\"\n            className={c.headerButton}\n          >\n            <GithubIcon />\n          </IconButton>\n        </Toolbar>\n      </AppBar>\n      <Drawer open={drawerOpen} onClose={() => changeDrawerOpen(false)}>\n        <List className={c.list}>\n          <ListItem onClick={onClickHome} button>\n            <ListItemIcon>\n              <HomeIcon />\n            </ListItemIcon>\n            <ListItemText>Home</ListItemText>\n          </ListItem>\n          <ListItem {...getRootProps()} button>\n            <ListItemIcon>\n              <NoteAddIcon />\n            </ListItemIcon>\n            <ListItemText>Open File</ListItemText>\n            <input {...getInputProps()} />\n          </ListItem>\n          <ListSubheader>Recent Files</ListSubheader>\n          {recentItems.length === 0 ? (\n            <ListItem>\n              <ListItemText\n                style={{ textAlign: \"center\", color: colors.grey[500] }}\n              >\n                No Recent Items\n              </ListItemText>\n            </ListItem>\n          ) : (\n            recentItems.map(ri => (\n              <ListItem\n                key={ri.fileName}\n                button\n                onClick={() => {\n                  onOpenRecentItem(ri)\n                }}\n              >\n                <ListItemIcon>\n                  <FileIcon />\n                </ListItemIcon>\n                <ListItemText>{ri.fileName}</ListItemText>\n              </ListItem>\n            ))\n          )}\n          <ListSubheader>Create From Template</ListSubheader>\n          {templates.map(template => (\n            <ListItem\n              key={template.name}\n              button\n              onClick={() => onClickTemplate(template)}\n            >\n              <ListItemIcon>\n                <template.Icon />\n              </ListItemIcon>\n              <ListItemText>{template.name}</ListItemText>\n            </ListItem>\n          ))}\n          <ListSubheader>Explore More</ListSubheader>\n          {/* <ListItem button>\n            <ListItemIcon>\n              <CodeIcon />\n            </ListItemIcon>\n            <ListItemText>Integrate</ListItemText>\n          </ListItem> */}\n          <ListItem\n            button\n            onClick={() => {\n              window.location.href =\n                \"https://github.com/OpenHumanAnnotation/universal-data-tool/releases\"\n            }}\n          >\n            <ListItemIcon>\n              <GithubIcon />\n            </ListItemIcon>\n            <ListItemText>Github</ListItemText>\n          </ListItem>\n        </List>\n      </Drawer>\n    </>\n  )\n}\n","// @flow\n\nimport React from \"react\"\nimport Button from \"@material-ui/core/Button\"\nimport Dialog from \"@material-ui/core/Dialog\"\nimport DialogTitle from \"@material-ui/core/DialogTitle\"\nimport DialogContent from \"@material-ui/core/DialogContent\"\nimport DialogActions from \"@material-ui/core/DialogActions\"\nimport { makeStyles } from \"@material-ui/core/styles\"\nimport templates from \"../StartingPage/templates\"\nimport { grey } from \"@material-ui/core/colors\"\n\nconst useStyles = makeStyles({\n  bigButton: {\n    padding: 10,\n    width: 150,\n    height: 120,\n    border: \"1px solid #ccc\",\n    margin: 10\n  },\n  bigIcon: {\n    width: 48,\n    height: 48\n  }\n})\n\nexport default ({ open, onClose, onSelect }) => {\n  const c = useStyles()\n  return (\n    <Dialog open={open} onClose={onClose}>\n      <DialogTitle>Create from Template</DialogTitle>\n      <DialogContent>\n        {templates.map(template => (\n          <Button onClick={() => onSelect(template)} className={c.bigButton}>\n            <div>\n              <div>{template.name}</div>\n              <div>\n                <template.Icon className={c.bigIcon} />\n              </div>\n            </div>\n          </Button>\n        ))}\n      </DialogContent>\n      <DialogActions>\n        <Button onClick={() => onClose()}>Close</Button>\n      </DialogActions>\n    </Dialog>\n  )\n}\n","// @flow\n\nimport React, { useState, useMemo } from \"react\"\nimport { makeStyles } from \"@material-ui/core/styles\"\nimport Grid from \"@material-ui/core/Grid\"\nimport Header from \"../Header\"\nimport Button from \"@material-ui/core/Button\"\nimport Typography from \"@material-ui/core/Typography\"\nimport templates from \"./templates\"\nimport * as colors from \"@material-ui/core/colors\"\nimport VideoIcon from \"@material-ui/icons/OndemandVideo\"\nimport FileIcon from \"@material-ui/icons/InsertDriveFile\"\nimport TemplateIcon from \"@material-ui/icons/Description\"\nimport { useDropzone } from \"react-dropzone\"\nimport CreateFromTemplateDialog from \"../CreateFromTemplateDialog\"\n\nconst useStyles = makeStyles({\n  title: {},\n  contentTitle: {\n    paddingTop: 50,\n    paddingLeft: 20,\n    paddingRight: 20,\n    textAlign: \"center\"\n  },\n  contentSubtitle: {\n    textAlign: \"center\",\n    wordWrap: \"normal\",\n    paddingLeft: 40,\n    paddingRight: 40,\n    padding: 30\n  },\n  bigButton: {\n    width: 240,\n    fontSize: 24,\n    margin: 20,\n    border: `1px dashed ${colors.grey[500]}`\n  },\n  bigButtonContent: {\n    display: \"flex\",\n    lineHeight: 1.5,\n    height: 160,\n    paddingTop: 20,\n    paddingBottom: 20,\n    flexDirection: \"column\",\n    alignItems: \"center\",\n    justifyContent: \"center\"\n  },\n  bigIcon: {\n    margin: 20,\n    width: 64,\n    height: 64\n  },\n  grow: { flexGrow: 1 },\n  content: {\n    display: \"flex\",\n    justifyContent: \"center\",\n    flexWrap: \"wrap\"\n  },\n  headerButton: { color: \"#fff\" }\n})\n\nexport default ({ onFileDrop, onOpenTemplate }) => {\n  const c = useStyles()\n  const [\n    createFromTemplateDialogOpen,\n    changeCreateFromTemplateDialogOpen\n  ] = useState(false)\n  const onDrop = useMemo(\n    () => {\n      return acceptedFiles => {\n        onFileDrop(acceptedFiles[0])\n      }\n    },\n    [onFileDrop]\n  )\n  const { getRootProps, getInputProps, isDragActive } = useDropzone({ onDrop })\n\n  return (\n    <div>\n      <CreateFromTemplateDialog\n        open={createFromTemplateDialogOpen}\n        onSelect={template => onOpenTemplate(template)}\n        onClose={() => changeCreateFromTemplateDialogOpen(false)}\n      />\n      <Header\n        additionalButtons={[\n          <Button\n            href=\"https://github.com/OpenHumanAnnotation/universal-data-tool/releases\"\n            className={c.headerButton}\n          >\n            Download Universal Data Tool\n          </Button>\n        ]}\n      />\n      <Grid container>\n        <Grid item xs={12}>\n          <Typography className={c.contentTitle} variant=\"h3\" noWrap>\n            Universal Data Tool\n          </Typography>\n        </Grid>\n        <Grid item xs={12}>\n          <Typography className={c.contentSubtitle} variant=\"h5\">\n            Annotate data for Computer Vision, Natural Language Processing, Data\n            Entry and More.\n          </Typography>\n        </Grid>\n        <Grid item xs={12}>\n          <div className={c.content}>\n            <Button {...getRootProps()} className={c.bigButton}>\n              <div className={c.bigButtonContent}>\n                <div>{!isDragActive ? \"Open File\" : \"Drop File Here\"}</div>\n                <FileIcon className={c.bigIcon} />\n                <input {...getInputProps()} />\n              </div>\n            </Button>\n            <Button\n              onClick={() => {\n                changeCreateFromTemplateDialogOpen(true)\n              }}\n              className={c.bigButton}\n            >\n              <div className={c.bigButtonContent}>\n                <div>Create from Template</div>\n                <TemplateIcon className={c.bigIcon} />\n              </div>\n            </Button>\n            {/* <Button className={c.bigButton}>\n              <div className={c.bigButtonContent}>\n                <div>Watch Tutorials</div>\n                <VideoIcon className={c.bigIcon} />\n              </div>\n            </Button> */}\n          </div>\n        </Grid>\n      </Grid>\n    </div>\n  )\n}\n","export default `\n{\n  \"interface\": {\n    \"type\": \"data_entry\",\n    \"description\": \"# Markdown description here\",\n    \"surveyjs\": {\n      \"questions\": [\n        {\n          \"type\": \"text\",\n          \"name\": \"question1\",\n          \"title\": \"Some question title here\"\n        }\n      ]\n    }\n  },\n  \"taskData\": []\n}\n`.trim()\n","export default function getTaskDescription(taskDataItem) {\n  const { description, imageUrl, url, pdfUrl } = taskDataItem\n  if (description) return description\n  if (imageUrl) return `![${imageUrl}](${imageUrl})`\n  if (pdfUrl)\n    return (\n      `[PDF Link](${pdfUrl})` +\n      `<object data=\"${pdfUrl.replace(\n        \"http://\",\n        \"https://\"\n      )}\" type=\"application/pdf\" width=\"100%\" height=\"600px\"></object>`\n    )\n  if (url) return `Use this [Link](${url})`\n  return null\n}\n","// @flow\nimport React from \"react\"\nimport { makeStyles } from \"@material-ui/core/styles\"\n\nconst useStyles = makeStyles({\n  linkButtonContainer: {\n    marginLeft: 8,\n    marginRight: 8\n  },\n  linkButton: {\n    textTransform: \"none\",\n    cursor: \"pointer\",\n    textDecoration: \"underline\"\n  }\n})\n\nexport default ({ onClick, text }: { onClick: Function, text: string }) => {\n  const c = useStyles()\n  return (\n    <span className={c.linkButtonContainer}>\n      (\n      <span onClick={onClick} className={c.linkButton}>\n        {text}\n      </span>\n      )\n    </span>\n  )\n}\n","// @flow\n\nimport React, { useState } from \"react\"\nimport { makeStyles } from \"@material-ui/core\"\nimport Grid from \"@material-ui/core/Grid\"\nimport Button from \"@material-ui/core/Button\"\nimport ReactMarkdown from \"react-markdown\"\nimport AppBar from \"@material-ui/core/AppBar\"\nimport Toolbar from \"@material-ui/core/Toolbar\"\nimport IconButton from \"@material-ui/core/IconButton\"\nimport MenuIcon from \"@material-ui/icons/Menu\"\nimport ScatterPlotIcon from \"@material-ui/icons/ScatterPlot\"\nimport RightIcon from \"@material-ui/icons/KeyboardArrowRight\"\nimport LeftIcon from \"@material-ui/icons/KeyboardArrowLeft\"\nimport InnerCircleIcon from \"@material-ui/icons/RadioButtonChecked\"\nimport CircleIcon from \"@material-ui/icons/RadioButtonUnchecked\"\nimport CheckCircle from \"@material-ui/icons/CheckCircle\"\nimport Typography from \"@material-ui/core/Typography\"\nimport GithubIcon from \"../Header/GithubIcon.js\"\nimport * as colors from \"@material-ui/core/colors\"\nimport Drawer from \"@material-ui/core/Drawer\"\nimport Divider from \"@material-ui/core/Divider\"\nimport List from \"@material-ui/core/List\"\nimport ListItem from \"@material-ui/core/ListItem\"\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\"\nimport ListItemText from \"@material-ui/core/ListItemText\"\nimport ListSubheader from \"@material-ui/core/ListSubheader\"\nimport LinkButton from \"./LinkButton\"\nimport range from \"lodash/range\"\n\nconst useStyles = makeStyles(theme => ({\n  footer: {\n    backgroundColor: \"#fff\",\n    marginTop: 40\n  },\n  footerContent: {\n    alignItems: \"center\",\n    padding: 20,\n    display: \"flex\",\n    justifyContent: \"space-between\"\n  },\n  footerBorder: {\n    borderTop: \"1px solid #ccc\",\n    marginLeft: 20,\n    marginRight: 20\n  },\n  footerCount: {\n    display: \"inline-flex\"\n  },\n  allSamplesButton: {\n    color: \"#fff\",\n    border: \"1px solid rgba(255,255,255,0.5)\",\n    marginRight: 10,\n    paddingLeft: 8\n  },\n  sampleIcon: {\n    marginRight: 8\n  },\n  menuButton: {\n    marginRight: 8,\n    color: \"#fff\"\n  },\n  grow: {\n    flexGrow: 1\n  },\n  buttons: {\n    \"& > *\": {\n      margin: 4\n    }\n  },\n  description: {\n    padding: 10,\n    \"& img\": {\n      maxWidth: \"calc(100% - 16px)\",\n      marginLeft: 8,\n      marginRight: 8,\n      maxHeight: 600\n    }\n  },\n  sectionHeader: {\n    fontWeight: 700,\n    fontSize: 12,\n    padding: 10,\n    paddingTop: 16,\n    textTransform: \"uppercase\",\n    color: colors.grey[600]\n  },\n  content: {\n    padding: 10\n    // minHeight: \"calc(100vh - 200px)\"\n  }\n}))\n\nexport const SampleContainer = ({\n  hideDescription: defaultHideDescription = false,\n  lastSampleExitText,\n  onExit,\n  requireCompleteToPressNext = false,\n  taskData,\n  minContentHeight,\n  currentSampleIndex,\n  totalSamples,\n  onChangeSample,\n  taskOutput = [],\n  description,\n  children\n}) => {\n  const c = useStyles()\n  const [hideDescription, changeHideDescription] = useState(\n    defaultHideDescription\n  )\n  const [sampleDrawerOpen, changeSampleDrawerOpen] = useState(false)\n  return (\n    <>\n      <Grid container>\n        {!hideDescription && (\n          <Grid item xs={12} sm={12} md={6}>\n            <div className={c.sectionHeader}>\n              Description\n              <LinkButton\n                onClick={() => changeHideDescription(true)}\n                text=\"hide\"\n              />\n            </div>\n            <div className={c.description}>\n              <ReactMarkdown escapeHtml={false} source={description} />\n            </div>\n          </Grid>\n        )}\n        <Grid item xs={12} sm={12} md={hideDescription ? 12 : 6}>\n          <div className={c.sectionHeader}>\n            Sample {currentSampleIndex + 1}/{totalSamples}\n            {hideDescription && (\n              <LinkButton\n                onClick={() => changeHideDescription(false)}\n                text=\"show description\"\n              />\n            )}\n            {totalSamples > 1 && (\n              <LinkButton\n                onClick={() => changeSampleDrawerOpen(true)}\n                text=\"view all\"\n              />\n            )}\n            {onExit && (\n              <LinkButton onClick={() => onExit()} text=\"exit without saving\" />\n            )}\n          </div>\n          <div style={{ minHeight: minContentHeight }} className={c.content}>\n            {children}\n          </div>\n        </Grid>\n        {totalSamples > 1 && (\n          <Grid item xs={12}>\n            <div className={c.footer}>\n              <div className={c.footerBorder} />\n              <div className={c.footerContent}>\n                <Button\n                  onClick={() =>\n                    onChangeSample(\n                      (currentSampleIndex - 1 + totalSamples) % totalSamples\n                    )\n                  }\n                >\n                  <LeftIcon /> Prev Sample\n                </Button>\n                <Button\n                  onClick={() => changeSampleDrawerOpen(true)}\n                  className={c.footerCount}\n                >\n                  {currentSampleIndex + 1} / {totalSamples}\n                </Button>\n                <Button\n                  disabled={\n                    requireCompleteToPressNext &&\n                    !taskOutput[currentSampleIndex]\n                  }\n                  onClick={() =>\n                    onChangeSample((currentSampleIndex + 1) % totalSamples)\n                  }\n                >\n                  {requireCompleteToPressNext && !taskOutput[currentSampleIndex]\n                    ? \"Save to Continue\"\n                    : \"Next Sample\"}\n                  <RightIcon />\n                </Button>\n              </div>\n            </div>\n          </Grid>\n        )}\n      </Grid>\n      <Drawer\n        open={sampleDrawerOpen}\n        anchor=\"left\"\n        onClose={() => changeSampleDrawerOpen(false)}\n      >\n        <List style={{ minWidth: 300 }}>\n          <ListSubheader>Samples</ListSubheader>\n          {range(0, totalSamples).map(i => (\n            <ListItem\n              style={{\n                backgroundColor:\n                  i === currentSampleIndex ? colors.grey[200] : undefined\n              }}\n              button\n              onClick={() => onChangeSample(i)}\n            >\n              <ListItemIcon\n                style={{\n                  color: i === currentSampleIndex ? colors.blue[500] : undefined\n                }}\n              >\n                {taskOutput[i] ? <CheckCircle /> : <CircleIcon />}\n              </ListItemIcon>\n              <ListItemText>Sample {i + 1}</ListItemText>\n            </ListItem>\n          ))}\n        </List>\n      </Drawer>\n    </>\n  )\n}\n\nexport default SampleContainer\n","import React, { useState } from \"react\"\nimport getTaskDescription from \"../../utils/get-task-description.js\"\nimport SampleContainer from \"../SampleContainer\"\nimport NLPAnnotator from \"react-nlp-annotate/components/NLPAnnotator\"\n\nexport const TextClassification = props => {\n  const [currentSampleIndex, changeCurrentSampleIndex] = useState(0)\n  const initialLabels =\n    props.taskOutput && props.taskOutput[currentSampleIndex]\n      ? [props.taskOutput[currentSampleIndex].label] ||\n        props.taskOutput[currentSampleIndex].labels\n      : undefined\n  return (\n    <SampleContainer\n      {...props.containerProps}\n      currentSampleIndex={currentSampleIndex}\n      totalSamples={props.taskData.length}\n      taskOutput={props.taskOutput}\n      description={\n        getTaskDescription(props.taskData[currentSampleIndex]) ||\n        props.interface.description\n      }\n      onChangeSample={sampleIndex => changeCurrentSampleIndex(sampleIndex)}\n    >\n      <NLPAnnotator\n        key={currentSampleIndex}\n        type=\"label-document\"\n        labels={props.interface.labels}\n        multipleLabels={props.interface.multiple}\n        document={props.taskData[currentSampleIndex].document}\n        initialLabels={initialLabels}\n        onFinish={result => {\n          props.onSaveTaskOutputItem(currentSampleIndex, result)\n        }}\n      />\n    </SampleContainer>\n  )\n}\n\nexport default TextClassification\n","import React, { useState } from \"react\"\nimport getTaskDescription from \"../../utils/get-task-description.js\"\nimport SampleContainer from \"../SampleContainer\"\nimport NLPAnnotator from \"react-nlp-annotate/components/NLPAnnotator\"\n\nconst simpleSequenceToEntitySequence = simpleSeq => {\n  const entSeq = []\n  let charsPassed = 0\n  for (const seq of simpleSeq) {\n    if (seq.label) {\n      entSeq.push({\n        text: seq.text,\n        label: seq.label,\n        start: charsPassed,\n        end: charsPassed + seq.text.length\n      })\n    }\n    charsPassed += seq.text.length\n  }\n  return entSeq\n}\n\nconst entitySequenceToSimpleSeq = (doc, entSeq) => {\n  if (!entSeq) return undefined\n  const simpleSeq = []\n  entSeq = [...entSeq]\n  entSeq.sort((a, b) => a.start - b.start)\n  let nextEntity = 0\n  for (let i = 0; i < doc.length; i++) {\n    if ((entSeq[nextEntity] || {}).start === i) {\n      simpleSeq.push({\n        text: entSeq[nextEntity].text,\n        label: entSeq[nextEntity].label\n      })\n      i = entSeq[nextEntity].end\n      nextEntity += 1\n    } else {\n      if (simpleSeq.length === 0 || simpleSeq[simpleSeq.length - 1].label) {\n        simpleSeq.push({ text: doc[i] })\n      } else {\n        simpleSeq[simpleSeq.length - 1].text += doc[i]\n      }\n    }\n  }\n  return simpleSeq\n}\n\nexport const TextEntityRecognition = props => {\n  const [currentSampleIndex, changeCurrentSampleIndex] = useState(0)\n  const initialSequence =\n    props.taskOutput && props.taskOutput[currentSampleIndex]\n      ? entitySequenceToSimpleSeq(\n          props.taskData[currentSampleIndex].document,\n          props.taskOutput[currentSampleIndex].entities\n        )\n      : undefined\n\n  return (\n    <SampleContainer\n      {...props.containerProps}\n      currentSampleIndex={currentSampleIndex}\n      totalSamples={props.taskData.length}\n      taskOutput={props.taskOutput}\n      description={\n        getTaskDescription(props.taskData[currentSampleIndex]) ||\n        props.interface.description\n      }\n      onChangeSample={sampleIndex => changeCurrentSampleIndex(sampleIndex)}\n    >\n      <NLPAnnotator\n        key={currentSampleIndex}\n        type=\"label-sequence\"\n        document={props.taskData[currentSampleIndex].document}\n        labels={props.interface.labels}\n        initialSequence={initialSequence}\n        onFinish={result => {\n          props.onSaveTaskOutputItem(currentSampleIndex, {\n            entities: simpleSequenceToEntitySequence(result)\n          })\n        }}\n      />\n    </SampleContainer>\n  )\n}\n\nexport default TextEntityRecognition\n","// @flow\n\nimport React, { useState } from \"react\"\nimport { makeStyles } from \"@material-ui/core/styles\"\nimport Annotator from \"react-image-annotate\"\nimport isEqual from \"lodash/isEqual\"\n\nconst useStyles = makeStyles({})\n\nfunction getRandomInt(min, max) {\n  return Math.floor(Math.random() * (max - min + 1)) + min\n}\n\nfunction getRandomColor() {\n  var h = getRandomInt(0, 360)\n  var s = 100\n  var l = 50\n  return \"hsl(\"\n    .concat(h, \",\")\n    .concat(s, \"%,\")\n    .concat(l, \"%)\")\n}\n\nconst rid = () =>\n  Math.random()\n    .toString()\n    .split(\".\")[1]\n\nconst convertToRIARegionFmt = region => {\n  switch (region.regionType) {\n    case \"bounding-box\": {\n      return {\n        id: rid(),\n        cls: region.classification,\n        color: region.color || getRandomColor(),\n        type: \"box\",\n        x: region.centerX - region.width / 2,\n        y: region.centerY - region.height / 2,\n        w: region.width,\n        h: region.height\n      }\n    }\n    case \"point\": {\n      return {\n        id: rid(),\n        type: \"point\",\n        cls: region.classification,\n        color: region.color || getRandomColor(),\n        x: region.x,\n        y: region.y\n      }\n    }\n    case \"polygon\": {\n      return {\n        id: rid(),\n        type: \"polygon\",\n        cls: region.classification,\n        color: region.color || getRandomColor(),\n        open: false,\n        points: region.points.map(p => [p.x, p.y])\n      }\n    }\n    case \"line\":\n    case \"pixel-mask\": {\n      throw new Error(`Unsupported region \"${JSON.stringify(region)}\"`)\n    }\n  }\n}\n\nconst convertFromRIARegionFmt = riaRegion => {\n  switch (riaRegion.type) {\n    case \"point\": {\n      return {\n        regionType: \"point\",\n        x: riaRegion.x,\n        y: riaRegion.y,\n        classification: riaRegion.cls,\n        color: riaRegion.color\n      }\n    }\n    case \"box\": {\n      return {\n        regionType: \"bounding-box\",\n        centerX: riaRegion.x + riaRegion.w / 2,\n        centerY: riaRegion.y + riaRegion.h / 2,\n        width: riaRegion.w,\n        height: riaRegion.h,\n        classification: riaRegion.cls,\n        color: riaRegion.color\n      }\n    }\n    case \"polygon\": {\n      return {\n        regionType: \"polygon\",\n        classification: riaRegion.cls,\n        color: riaRegion.color,\n        points: riaRegion.points.map(([x, y]) => ({ x, y }))\n      }\n    }\n  }\n  throw new Error(`Unsupported riaRegion \"${JSON.stringify(riaRegion)}\"`)\n}\n\nconst convertToRIAImageFmt = ({ taskDatum: td, index: i, output }) => {\n  if ((td || {}).imageUrl) {\n    return {\n      src: td.imageUrl,\n      name: `Sample ${i + 1}`,\n      regions: !output\n        ? undefined\n        : Array.isArray(output)\n        ? output.map(convertToRIARegionFmt)\n        : [convertToRIARegionFmt(output)]\n    }\n  }\n  throw new Error(`Task Datum not supported \"${JSON.stringify(td)}\"`)\n}\n\nconst regionTypeToTool = {\n  \"bounding-box\": \"create-box\",\n  polygon: \"create-polygon\",\n  \"full-segmentation\": \"create-polygon\",\n  point: \"create-point\"\n}\n\nexport default ({\n  interface: iface,\n  taskData = [],\n  taskOutput = [],\n  containerProps: { onExit } = {},\n  onSaveTaskOutputItem\n}) => {\n  const c = useStyles()\n  const [selectedIndex, changeSelectedIndex] = useState(0)\n\n  const { regionTypesAllowed = [\"bounding-box\"] } = iface\n\n  const isClassification = Boolean(iface.multipleRegionLabels)\n\n  const labelProps = isClassification\n    ? {\n        regionClsList: iface.availableLabels\n      }\n    : {\n        regionTagList: iface.availableLabels\n      }\n\n  return (\n    <Annotator\n      selectedImage={taskData[selectedIndex].src}\n      taskDescription={iface.description}\n      {...labelProps}\n      enabledTools={[\"select\"].concat(\n        regionTypesAllowed.map(rt => regionTypeToTool[rt]).filter(Boolean)\n      )}\n      images={taskData.map((taskDatum, index) =>\n        convertToRIAImageFmt({\n          taskDatum,\n          output: taskOutput[index],\n          index\n        })\n      )}\n      onExit={output => {\n        const regionMat = (output.images || [])\n          .map(img => img.regions)\n          .map(riaRegions => (riaRegions || []).map(convertFromRIARegionFmt))\n        for (let i = 0; i < regionMat.length; i++) {\n          if (iface.multipleRegions) {\n            onSaveTaskOutputItem(i, regionMat[i])\n          } else {\n            onSaveTaskOutputItem(i, regionMat[i][0])\n          }\n        }\n        if (onExit) onExit()\n      }}\n    />\n  )\n}\n","// @flow weak\n\nimport React, { useState } from \"react\"\nimport getTaskDescription from \"../../utils/get-task-description.js\"\nimport SampleContainer from \"../SampleContainer\"\nimport NLPAnnotator from \"react-nlp-annotate/components/NLPAnnotator\"\n\nexport default props => {\n  const [currentSampleIndex, changeCurrentSampleIndex] = useState(0)\n\n  return (\n    <SampleContainer\n      {...props.containerProps}\n      currentSampleIndex={currentSampleIndex}\n      totalSamples={props.taskData.length}\n      taskOutput={props.taskOutput}\n      description={\n        getTaskDescription(props.taskData[currentSampleIndex]) ||\n        props.interface.description\n      }\n      onChangeSample={sampleIndex => changeCurrentSampleIndex(sampleIndex)}\n    >\n      <NLPAnnotator\n        key={currentSampleIndex}\n        type=\"transcribe\"\n        audio={props.taskData[currentSampleIndex].audioUrl}\n        phraseBank={props.phraseBank}\n        initialTranscriptionText={\n          (props.taskOutput || [])[currentSampleIndex] || \"\"\n        }\n        onFinish={result => {\n          props.onSaveTaskOutputItem(currentSampleIndex, result)\n        }}\n      />\n    </SampleContainer>\n  )\n}\n","import React, { useState } from \"react\"\nimport Survey from \"material-survey/components/Survey\"\nimport getTaskDescription from \"../../utils/get-task-description.js\"\nimport SampleContainer from \"../SampleContainer\"\n\nexport const DataEntry = props => {\n  const [currentSampleIndex, changeCurrentSampleIndex] = useState(0)\n  console.log({ props })\n  return (\n    <SampleContainer\n      {...props.containerProps}\n      currentSampleIndex={currentSampleIndex}\n      totalSamples={props.taskData.length}\n      taskOutput={props.taskOutput}\n      description={\n        getTaskDescription(props.taskData[currentSampleIndex]) ||\n        props.interface.description\n      }\n      onChangeSample={sampleIndex => changeCurrentSampleIndex(sampleIndex)}\n    >\n      <Survey\n        key={currentSampleIndex}\n        variant=\"flat\"\n        form={\n          props.taskData[currentSampleIndex].surveyjs ||\n          props.interface.surveyjs\n        }\n        defaultAnswers={\n          props.taskOutput && props.taskOutput[currentSampleIndex]\n            ? props.taskOutput[currentSampleIndex]\n            : undefined\n        }\n        completeText=\"Save\"\n        onFinish={answers => {\n          props.onSaveTaskOutputItem(currentSampleIndex, answers)\n        }}\n      />\n    </SampleContainer>\n  )\n}\n\nexport default DataEntry\n","// @flow\n\nimport React from \"react\"\nimport Typography from \"@material-ui/core/Typography\"\nimport { makeStyles } from \"@material-ui/core/styles\"\n\nconst useStyles = makeStyles({\n  root: {\n    padding: 50,\n    textAlign: \"center\"\n  },\n  title: {\n    margin: 50\n  },\n  explain: {}\n})\n\nexport default ({ title, description, children }) => {\n  const c = useStyles()\n  return (\n    <div className={c.root}>\n      <Typography variant=\"h3\" component=\"div\" className={c.title}>\n        {title}\n      </Typography>\n      <Typography variant=\"h5\" component=\"div\" className={c.explain}>\n        {description || children}\n      </Typography>\n    </div>\n  )\n}\n","// @flow\n\nimport React from \"react\"\nimport BadOHA from \"../BadOHA\"\n\nexport default () => {\n  return (\n    <BadOHA title=\"No Samples to Show\">\n      Make sure that <code>taskData</code> is defined and not empty.\n      <br />\n      <br />\n      Need help setting up? <a href=\"#\">Check out this tutorial.</a>\n    </BadOHA>\n  )\n}\n","import React from \"react\"\n\nimport RemoveRedEye from \"@material-ui/icons/RemoveRedEye\"\nimport TextFormat from \"@material-ui/icons/TextFormat\"\nimport Edit from \"@material-ui/icons/Edit\"\nimport OndemandVideo from \"@material-ui/icons/OndemandVideo\"\nimport Audiotrack from \"@material-ui/icons/Audiotrack\"\nimport Help from \"@material-ui/icons/Help\"\n\nexport default ({ type, ...props }) => {\n  switch (type) {\n    case \"image_label\":\n    case \"image_segmentation\":\n      return <RemoveRedEye {...props} />\n    case \"audio_transcription\":\n      return <Audiotrack {...props} />\n    case \"data_entry\":\n      return <Edit {...props} />\n    case \"text_entity_recognition\":\n      return <TextFormat {...props} />\n    default:\n      return <Help {...props} />\n  }\n}\n","import React, { useState } from \"react\"\nimport getTaskDescription from \"../../utils/get-task-description.js\"\nimport SampleContainer from \"../SampleContainer\"\nimport UniversalDataViewer from \"../UniversalDataViewer\"\nimport Button from \"@material-ui/core/Button\"\nimport * as colors from \"@material-ui/core/colors\"\nimport { styled } from \"@material-ui/core/styles\"\nimport InterfaceIcon from \"../InterfaceIcon\"\nimport KeyboardArrowRightIcon from \"@material-ui/icons/KeyboardArrowRight\"\nimport Checkbox from \"@material-ui/core/Checkbox\"\nimport Box from \"@material-ui/core/Box\"\n\nconst Title = styled(\"div\")({\n  fontSize: 18,\n  fontWeight: \"bold\",\n  color: colors.grey[700],\n  borderBottom: `1px solid ${colors.grey[300]}`,\n  paddingBottom: 8,\n  marginBottom: 8,\n  paddingLeft: 8\n})\nconst StyledButton = styled(Button)({\n  display: \"flex\",\n  textAlign: \"left\",\n  justifyContent: \"flex-start\",\n  marginTop: 8\n})\n\nexport const Composite = props => {\n  const [currentSampleIndex, changeCurrentSampleIndex] = useState(0)\n  const {\n    interface: { fields }\n  } = props\n  const [selectedField, changeSelectedField] = useState()\n\n  if (selectedField) {\n    return (\n      <UniversalDataViewer\n        onExit={() => changeSelectedField(null)}\n        oha={{\n          interface: selectedField.interface,\n          taskOutput: [\n            props.taskOutput\n              ? (props.taskOutput[currentSampleIndex] || {})[\n                  selectedField.fieldName\n                ]\n              : null\n          ],\n          taskData: [props.taskData[currentSampleIndex]]\n        }}\n        onSaveTaskOutputItem={(indexZero, output) => {\n          props.onSaveTaskOutputItem(currentSampleIndex, {\n            ...(props.taskOutput ? props.taskOutput[currentSampleIndex] : {}),\n            [selectedField.fieldName]: output\n          })\n          changeSelectedField(null)\n        }}\n      />\n    )\n  }\n\n  return (\n    <SampleContainer\n      {...props.containerProps}\n      currentSampleIndex={currentSampleIndex}\n      totalSamples={props.taskData.length}\n      taskOutput={props.taskOutput}\n      description={\n        getTaskDescription(props.taskData[currentSampleIndex]) ||\n        props.interface.description\n      }\n      onChangeSample={sampleIndex => changeCurrentSampleIndex(sampleIndex)}\n    >\n      <Title>Fields</Title>\n      {fields.map((field, index) => (\n        <StyledButton\n          key={field.fieldName}\n          onClick={() => {\n            changeSelectedField({ ...field, index })\n          }}\n          fullWidth\n          variant=\"outlined\"\n        >\n          <InterfaceIcon\n            style={{ color: colors.grey[500], marginRight: 16 }}\n            type={field.interface.type}\n          />\n          {field.fieldName}\n          <Box flexGrow={1} />\n          <Checkbox\n            checked={Boolean(\n              (props.taskOutput\n                ? props.taskOutput[currentSampleIndex] || {}\n                : {})[field.fieldName]\n            )}\n          />\n          <KeyboardArrowRightIcon />\n        </StyledButton>\n      ))}\n    </SampleContainer>\n  )\n}\n\nexport default Composite\n","// @flow\n\nimport React, { useMemo } from \"react\"\nimport TextClassification from \"../TextClassification\"\nimport TextEntityRecognition from \"../TextEntityRecognition\"\nimport ImageSegmentation from \"../ImageSegmentation\"\nimport AudioTranscription from \"../AudioTranscription\"\nimport DataEntry from \"../DataEntry\"\nimport EmptySampleContainer from \"../EmptySampleContainer\"\nimport Composite from \"../Composite\"\nimport BadOHA from \"../BadOHA\"\n\nexport const UniversalDataViewer = ({\n  oha,\n  onExit,\n  hideHeader,\n  hideDescription,\n  datasetName,\n  requireCompleteToPressNext,\n  onSaveTaskOutputItem\n}) => {\n  // TODO type check w/ superstruct against oha\n  const containerProps = useMemo(\n    () => ({\n      hideHeader,\n      hideDescription,\n      datasetName,\n      requireCompleteToPressNext,\n      onExit\n    }),\n    [\n      hideHeader,\n      hideDescription,\n      requireCompleteToPressNext,\n      datasetName,\n      onExit\n    ]\n  )\n\n  if (!oha) {\n    return (\n      <BadOHA\n        title=\"Null OHA\"\n        description=\"Your OHA file isn't defined for some reason.\"\n      />\n    )\n  }\n\n  if (!oha.taskData || oha.taskData.length === 0) {\n    return <EmptySampleContainer />\n  }\n\n  switch (oha.interface.type) {\n    case \"data_entry\":\n      return (\n        <DataEntry\n          containerProps={containerProps}\n          {...oha}\n          onSaveTaskOutputItem={onSaveTaskOutputItem}\n        />\n      )\n    case \"text_classification\":\n      return (\n        <TextClassification\n          containerProps={containerProps}\n          {...oha}\n          onSaveTaskOutputItem={onSaveTaskOutputItem}\n        />\n      )\n    case \"text_entity_recognition\":\n      return (\n        <TextEntityRecognition\n          containerProps={containerProps}\n          {...oha}\n          onSaveTaskOutputItem={onSaveTaskOutputItem}\n        />\n      )\n    case \"image_segmentation\":\n      return (\n        <ImageSegmentation\n          containerProps={containerProps}\n          {...oha}\n          onExit={onExit}\n          onSaveTaskOutputItem={onSaveTaskOutputItem}\n        />\n      )\n    case \"composite\":\n      return (\n        <Composite\n          containerProps={containerProps}\n          {...oha}\n          oha={oha}\n          onSaveTaskOutputItem={onSaveTaskOutputItem}\n        />\n      )\n    case \"audio_transcription\":\n      return (\n        <AudioTranscription\n          containerProps={containerProps}\n          {...oha}\n          onSaveTaskOutputItem={onSaveTaskOutputItem}\n        />\n      )\n    default:\n      return `\"${oha.interface.type}\" not supported`\n  }\n}\n\nexport default UniversalDataViewer\n","// @flow\nimport React, { useState, useEffect } from \"react\"\nimport TextField from \"@material-ui/core/TextField\"\nimport { makeStyles } from \"@material-ui/core/styles\"\n\nconst useStyles = makeStyles({\n  textField: {\n    color: \"#fff\"\n  }\n})\n\nconst SAVE_WAIT = 2000\n\nexport default ({ value, onChange }) => {\n  const c = useStyles()\n  const [{ editing, newValue }, changeEditing] = useState({\n    editing: false\n  })\n\n  useEffect(() => {\n    let listener = e => {\n      if (e.key === \"Enter\") {\n        onChange(newValue)\n        changeEditing({ editing: false })\n      }\n    }\n    window.addEventListener(\"keydown\", listener)\n    return () => {\n      window.removeEventListener(\"keydown\", listener)\n    }\n  }, [editing, newValue])\n\n  useEffect(() => {\n    if (editing) {\n      let timeout = setTimeout(\n        () => {\n          onChange(newValue)\n          changeEditing({ editing: false })\n        },\n        value === newValue ? SAVE_WAIT * 5 : SAVE_WAIT\n      )\n\n      return () => {\n        if (timeout) clearTimeout(timeout)\n      }\n    } else {\n      return () => {}\n    }\n  }, [editing, newValue])\n\n  return editing ? (\n    <TextField\n      autoFocus\n      className={c.textField}\n      InputProps={{\n        inputProps: { style: { color: \"#fff\" } }\n      }}\n      onChange={e => {\n        changeEditing({\n          editing: true,\n          newValue: e.target.value\n        })\n      }}\n      value={newValue}\n    />\n  ) : (\n    <span\n      onClick={() => {\n        if (onChange) {\n          changeEditing({ editing: true, newValue: value })\n        }\n      }}\n    >\n      {value}\n    </span>\n  )\n}\n","// @flow\n\nimport React, { useState, useEffect } from \"react\"\nimport { makeStyles } from \"@material-ui/core/styles\"\n\nimport Grid from \"@material-ui/core/Grid\"\nimport Button from \"@material-ui/core/Button\"\nimport IconButton from \"@material-ui/core/IconButton\"\nimport Typography from \"@material-ui/core/Typography\"\nimport GithubIcon from \"../Header/GithubIcon.js\"\nimport Header from \"../Header\"\nimport brace from \"brace\"\nimport AceEditor from \"react-ace\"\nimport NextIcon from \"@material-ui/icons/KeyboardArrowRight\"\nimport EditIcon from \"@material-ui/icons/Edit\"\nimport SaveIcon from \"@material-ui/icons/Save\"\nimport defaultOHAObject from \"./default-oha-object\"\nimport UniversalDataViewer from \"../UniversalDataViewer\"\nimport EditableTitleText from \"./EditableTitleText.js\"\n\nimport \"brace/mode/javascript\"\nimport \"brace/theme/github\"\n\nconst useStyles = makeStyles({\n  headerButton: {\n    color: \"#fff\"\n  },\n  saveIcon: {\n    marginRight: 4\n  },\n  editIcon: {\n    marginLeft: 4\n  }\n})\n\nexport default ({\n  datasetName = \"Universal Data Tool\",\n  oha,\n  content,\n  fileName = \"unnamed\",\n  onChangeFileName,\n  onChangeContent = () => null,\n  onChangeOHA = () => null,\n  onFileDrop,\n  initialMode = \"json\"\n}) => {\n  const c = useStyles()\n  const [mode, changeMode] = useState(initialMode)\n  const [jsonText, changeJSONText] = useState(content || defaultOHAObject)\n\n  useEffect(\n    () => {\n      onChangeContent(jsonText)\n      try {\n        // schema validation etc.\n        onChangeOHA(JSON.parse(jsonText))\n      } catch (e) {}\n    },\n    [jsonText]\n  )\n\n  return (\n    <div>\n      <Header\n        title={\n          <>\n            {(mode === \"json\" ? \"JSON Editor\" : \"Sample Editor\") + \" - \"}\n            <EditableTitleText onChange={onChangeFileName} value={fileName} />\n          </>\n        }\n        additionalButtons={[\n          // <IconButton disabled className={c.headerButton}>\n          //   <SaveIcon className={c.saveIcon} />\n          // </IconButton>,\n          mode === \"json\" ? (\n            <Button\n              onClick={() => changeMode(\"sample\")}\n              className={c.headerButton}\n            >\n              Switch to Sample Editor\n              <NextIcon />\n            </Button>\n          ) : (\n            <Button\n              onClick={() => changeMode(\"json\")}\n              className={c.headerButton}\n            >\n              Switch to JSON Editor\n              <EditIcon className={c.editIcon} />\n            </Button>\n          )\n        ]}\n      />\n      <div>\n        {mode === \"json\" ? (\n          <AceEditor\n            theme=\"github\"\n            mode=\"javascript\"\n            width=\"100%\"\n            value={jsonText}\n            editorProps={{ $blockScrolling: Infinity }}\n            onChange={t => changeJSONText(t)}\n          />\n        ) : (\n          <UniversalDataViewer\n            onSaveTaskOutputItem={(index, output) => {\n              const newOHA = { ...oha }\n              if (!newOHA.taskOutput)\n                newOHA.taskOutput = newOHA.taskData.map(td => null)\n              newOHA.taskOutput[index] = output\n              changeJSONText(JSON.stringify(newOHA, null, \"  \"))\n            }}\n            oha={oha}\n          />\n        )}\n      </div>\n    </div>\n  )\n}\n","// @flow\nimport React from \"react\"\nimport { makeStyles } from \"@material-ui/core/styles\"\nimport { red } from \"@material-ui/core/colors\"\nimport Collapse from \"@material-ui/core/Collapse\"\nimport Fade from \"@material-ui/core/Fade\"\n\nconst useStyles = makeStyles({\n  root: {\n    position: \"fixed\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    bottom: 0,\n    left: 0,\n    right: 0,\n    alignItems: \"center\",\n    pointerEvents: \"none\"\n  },\n  errorBox: {\n    display: \"flex\",\n    backgroundColor: red[700],\n    color: \"#fff\",\n    padding: 4,\n    marginBottom: 4\n  }\n})\n\nexport default ({ errors }) => {\n  const c = useStyles()\n  return (\n    <div className={c.root}>\n      {errors.map(err => (\n        <Collapse key={err.id} in={err.life < 5000}>\n          <Fade in={err.life > 500}>\n            <div className={c.errorBox}>{err.message}</div>\n          </Fade>\n        </Collapse>\n      ))}\n    </div>\n  )\n}\n","// @flow\n\nimport { useState, useEffect } from \"react\"\n\nconst REFRESH_INTERVAL = 100\n\nexport default () => {\n  const [errors, changeErrors] = useState([])\n  useEffect(() => {\n    if (errors.length === 0) return () => {}\n    let interval = setInterval(() => {\n      changeErrors(\n        errors\n          .map(err => ({\n            ...err,\n            life: err.life - REFRESH_INTERVAL\n          }))\n          .filter(err => err.life > 0)\n      )\n    }, REFRESH_INTERVAL)\n    return () => clearInterval(interval)\n  }, [errors])\n\n  function addError(message: string) {\n    changeErrors(\n      errors.concat([\n        {\n          id: Math.random()\n            .toString()\n            .split(\".\")[1],\n          message,\n          life: 5000\n        }\n      ])\n    )\n  }\n\n  return [errors, addError]\n}\n","// @flow\nimport React, { useState, useMemo } from \"react\"\nimport { HeaderContext } from \"../Header\"\nimport StartingPage from \"../StartingPage\"\nimport OHAEditor from \"../OHAEditor\"\nimport { makeStyles } from \"@material-ui/core/styles\"\nimport ErrorToasts from \"../ErrorToasts\"\nimport useErrors from \"../../utils/use-errors.js\"\nimport useLocalStorage from \"../../utils/use-local-storage.js\"\n\nconst useStyles = makeStyles({\n  empty: {\n    textAlign: \"center\",\n    padding: 100,\n    color: \"#666\",\n    fontSize: 28\n  }\n})\n\nexport default () => {\n  const c = useStyles()\n  const [pageName, changePageName] = useState(\"welcome\")\n  const [currentFile, changeCurrentFile] = useState()\n  const [oha, changeOHA] = useState()\n  const [errors, addError] = useErrors()\n  let [recentItems, changeRecentItems] = useLocalStorage(\"recentItems\", [])\n  if (!recentItems) recentItems = []\n\n  const onCreateTemplate = useMemo(\n    () => template => {\n      changeCurrentFile({\n        fileName: \"unnamed\",\n        content: JSON.stringify(template.oha, null, \"  \"),\n        id: Math.random()\n          .toString()\n          .split(\".\")[1]\n      })\n      changeOHA(template.oha)\n      changePageName(\"edit\")\n    },\n    []\n  )\n\n  const openRecentItem = useMemo(() => item => {\n    changeCurrentFile(item)\n    try {\n      changeOHA(JSON.parse(item.content))\n    } catch (e) {\n      addError(\"Couldn't parse content into JSON\")\n    }\n    changePageName(\"edit\")\n  })\n\n  const onClickHome = useMemo(\n    () => () => {\n      changePageName(\"welcome\")\n    },\n    []\n  )\n\n  const handleOpenFile = useMemo(\n    () => file => {\n      const fileName = file.name\n      const reader = new FileReader()\n      reader.onload = e => {\n        const content = e.target.result\n        try {\n          const oha = JSON.parse(content)\n          // TODO validate OHA and prompt to open anyway if invalid\n          changeCurrentFile({\n            fileName,\n            content,\n            id: Math.random()\n              .toString()\n              .split(\".\")[1]\n          })\n          changeOHA(oha)\n          changePageName(\"edit\")\n        } catch (e) {\n          console.log(e.toString())\n          addError(`Could not read file \"${file.name}\"`)\n        }\n      }\n      reader.readAsText(file)\n    },\n    []\n  )\n\n  return (\n    <>\n      <HeaderContext.Provider\n        value={{\n          recentItems,\n          onClickTemplate: onCreateTemplate,\n          onClickHome,\n          onOpenFile: handleOpenFile,\n          onOpenRecentItem: openRecentItem\n        }}\n      >\n        {pageName === \"welcome\" ? (\n          <StartingPage\n            onFileDrop={handleOpenFile}\n            onOpenTemplate={onCreateTemplate}\n          />\n        ) : pageName === \"edit\" && currentFile ? (\n          <OHAEditor\n            key={currentFile.id}\n            {...currentFile}\n            oha={oha}\n            onChangeFileName={newName => {\n              changeCurrentFile({ ...currentFile, fileName: newName })\n            }}\n            onChangeContent={newContent => {\n              const newFile = { ...currentFile, content: newContent }\n              changeCurrentFile(newFile)\n              if (recentItems.map(item => item.id).includes(newFile.id)) {\n                changeRecentItems(\n                  recentItems.map(ri => (ri.id === newFile.id ? newFile : ri))\n                )\n              } else {\n                changeRecentItems([newFile].concat(recentItems).slice(0, 3))\n              }\n            }}\n            onChangeOHA={changeOHA}\n          />\n        ) : (\n          <div className={c.empty}>Unknown Page \"{pageName}\"</div>\n        )}\n      </HeaderContext.Provider>\n      <ErrorToasts errors={errors} />\n    </>\n  )\n}\n","// @flow\n\nimport { useState } from \"react\"\n\nexport default (key: string, defaultValue: Object) => {\n  const [state, changeState] = useState(() => {\n    try {\n      return JSON.parse(window.localStorage.getItem(key))\n    } catch (e) {\n      return defaultValue\n    }\n  })\n\n  const changeValue = newValue => {\n    window.localStorage.setItem(key, JSON.stringify(newValue))\n    changeState(newValue)\n  }\n\n  return [state, changeValue]\n}\n","import React from \"react\"\nimport Theme from \"./components/Theme\"\nimport LocalStorageApp from \"./components/LocalStorageApp\"\n\nfunction App() {\n  return (\n    <Theme>\n      <LocalStorageApp />\n    </Theme>\n  )\n}\n\nexport default App\n","import React from \"react\"\nimport ReactDOM from \"react-dom\"\nimport App from \"./App\"\n\nReactDOM.render(<App />, document.getElementById(\"root\"))\n"],"sourceRoot":""}