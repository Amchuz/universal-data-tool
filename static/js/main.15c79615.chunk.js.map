{"version":3,"sources":["components/Theme/index.js","components/HotkeyStorage/index.js","components/AppConfig/index.js","utils/auth-handlers/cognito-handler.js","utils/auth-handlers/use-auth.js","components/LoginDrawer/SignIn.js","components/LoginDrawer/CompleteSignUp.js","components/LoginDrawer/index.js","utils/use-electron.js","utils/use-posthog.js","components/CollaborateButton/index.js","components/HeaderPopupBox/index.js","components/DownloadButton/index.js","components/Header/GithubIcon.js","utils/get-brush-color-palette.js","components/BrushButton/index.js","components/HeaderToolbar/index.js","components/StartingPage/templates.js","components/HeaderDrawer/index.js","components/Header/index.js","components/SimpleDialog/index.js","components/CreateFromTemplateDialog/index.js","components/AddAuthFromTemplateDialog/authTemplates.js","components/ErrorToasts/index.js","utils/use-errors.js","components/AddAuthFromTemplateDialog/index.js","components/StartingPage/index.js","components/DatasetEditor/EditableTitleText.js","components/SampleGrid/index.js","components/PasteUrlsDialog/index.js","utils/get-sample-name-from-url.js","utils/RecognizeFileExtension.js","utils/dataset-helper.js","components/ImportFromS3Dialog/get-annotation-from-aws.js","components/ImportFromS3Dialog/get-images-from-aws.js","utils/from-udt-csv.js","components/ImportFromS3Dialog/check-interface-and-sample-type.js","components/ImportFromS3Dialog/set-annotation-from-aws.js","components/ImportFromS3Dialog/index.js","components/ImportFromS3Dialog/init-config-import.js","components/ImportFromS3Dialog/set-type-of-file-to-load-and-disable.js","components/ImportFromS3Dialog/set-button-add-sample-name.js","components/TextAreaWithUpload/index.js","components/ImportTextSnippetsDialog/index.js","components/ImportPage/S3Icon.js","components/ImportFromGoogleDriveDialog/index.js","components/ImportUDTFileDialog/index.js","components/ImportToyDatasetDialog/index.js","components/ImportFromYoutubeUrls/download-youtube-video.js","components/ProgressBar/index.js","components/ImportFromYoutubeUrls/progress.js","components/ImportFromYoutubeUrls/get-youtube-video-information.js","components/ImportFromYoutubeUrls/split-urls-from-text-area.js","components/ImportFromYoutubeUrls/index.js","components/ImportPage/prompt-and-get-samples-from-local-directory.js","components/ImportPage/index.js","utils/use-is-desktop.js","components/TransformVideoKeyframesDialog/index.js","components/DownloadURLsDialog/index.js","components/TransformVideoFramesToImagesDialog/index.js","components/TransformLocalFilesToWebURLs/functions/upload-file-to-transfersh.js","components/TransformLocalFilesToWebURLs/functions/split-file-name-from-file-url.js","components/TransformLocalFilesToWebURLs/functions/get-file-url-key.js","components/TransformLocalFilesToWebURLs/functions/transform-file-urls-to-web-urls.js","components/TransformLocalFilesToWebURLs/index.js","components/TransformPage/index.js","components/SamplesView/index.js","components/ConfigureImageSegmentation/index.js","components/ConfigureImageClassification/index.js","components/ConfigureTextClassification/index.js","components/ConfigureAudioTranscription/index.jsx","components/ConfigureNLP/index.js","components/ConfigureDataEntry/index.js","components/ConfigureComposite/index.js","components/Configure3D/index.js","components/ConfigureVideoSegmentation/index.js","utils/get-task-description.js","components/SampleContainer/LinkButton.js","components/SampleContainer/index.js","components/TextClassification/index.js","components/TextEntityRecognition/index.js","utils/ria-format.js","components/ImageSegmentation/index.js","components/ImageClassification/index.js","components/VideoSegmentation/index.js","components/AudioTranscription/index.js","components/DataEntry/index.js","components/BadOHA/index.js","components/EmptySampleContainer/index.js","components/InterfaceIcon/index.js","components/Composite/index.js","components/UniversalDataViewer/index.js","utils/sentry.js","components/LabelErrorBoundary/index.js","components/ConfigureInterface/index.js","components/PaperContainer/index.js","components/KeyboardShortcutManagerDialog/index.js","components/AdvancedOptionsView/index.js","components/InterfacePage/index.js","components/EditSampleDialog/index.js","components/Toasts/index.js","components/Stats/index.js","components/LabelHelpView/api-key-entry.js","components/FileContext/use-active-dataset.js","components/FileContext/index.js","components/LabelHelpView/label-help-dialog-content.js","components/LabelHelpView/LabelHelpProvider.js","utils/use-is-label-only-mode.js","utils/compute-dataset-variable.js","components/LabelHelpView/use-label-help.js","components/LabelHelpView/index.js","components/ActiveLearningView/index.js","components/LabelView/index.js","components/DatasetEditor/index.js","utils/use-time-to-complete-sample.js","utils/file-handlers/use-server/get-human-readable-log.js","utils/file-handlers/use-server/apply-seamless-patch.js","utils/file-handlers/use-server/server-hash.js","utils/file-handlers/use-server/index.js","utils/file-handlers/use-server/handler.js","utils/to-udt-csv.js","utils/file-handlers/use-filesystem.js","utils/file-handlers/use-file-telemetry.js","utils/file-handlers/use-aws-cognito/index.js","utils/file-handlers/use-aws-cognito/update-aws-storage.js","utils/file-handlers/index.js","utils/file-handlers/use-local-storage.js","components/AppErrorBoundary/index.js","utils/use-prevent-navigation.js","components/LocalStorageApp/index.js","components/DesktopApp/index.js","App.js","index.js"],"names":["theme","createMuiTheme","palette","primary","colors","secondary","typography","fontFamily","button","textTransform","children","ThemeProvider","defaultHotkeys","id","description","binding","HotkeyContext","createContext","hotkeys","changeHotkey","newBinding","HotkeyStorageProvider","useAppConfig","fromConfig","setInConfig","useMemo","map","item","contextValue","keyMap","Provider","value","configKeyNames","AppConfigContext","appConfig","setAppConfig","newConfig","key","useContext","AppConfigProvider","useLocalStorage","includes","Error","undefined","JSON","stringify","CognitoHandler","authProvider","setUser","userHandle","user","isLoggedIn","Boolean","hasChanged","login","tryUser","a","Amplify","configure","authConfig","Auth","currentAuthenticatedUser","logout","signOut","getState","this","identityPoolId","region","userPoolId","userPoolWebClientId","mandatorySignIn","authenticationFlowType","Storage","AWSS3","bucket","AuthContext","AuthProvider","useState","handler","setHandler","forceUpdate","useUpdate","useEffect","interval","setInterval","clearInterval","useAuth","ErrorText","styled","padding","color","useStyles","makeStyles","form","width","marginTop","spacing","submit","margin","onUserChange","onRequireCompleteSignUp","onClose","classes","error","setError","username","password","notAuthorizedException","state","setState","handleTextFieldChange","event","persist","prevState","target","name","signIn","then","challengeName","catch","err","code","console","log","toString","Typography","component","variant","className","noValidate","TextField","required","fullWidth","label","autoComplete","helperText","autoFocus","onChange","type","FormControlLabel","control","Checkbox","onClick","isEmpty","SignInAWS","requiredAttributes","requiredAttributesDict","requiredAttributesErrorDict","forEach","requiredAttribute","newPassword","newPasswordNotValid","newPasswordConfirmation","newPasswordNotEqualsConfirmation","capitalizeFirstLetter","string","charAt","toUpperCase","slice","_handleAttributesTextFieldChange","_handleTextFieldChange","newPasswordError","checkIfPasswordEqualsConfirmationPassword","_handleCantBeNull","e","allGood","onBlur","completeNewPassword","drawer","root","height","paper","display","flexDirection","alignItems","close","cursor","main","avatar","backgroundColor","loginDrawerOpen","signingIn","completeSignUp","Drawer","anchor","open","role","Grid","container","xs","sm","md","Paper","elevation","square","Avatar","SignIn","challengeParam","toggleCompleteSignUp","CompleteSignUp","window","require","posthogInitialized","isDesktop","useElectron","posthog","init","api_host","autocapture","domain","location","origin","capture","people","set","is_desktop","Container","position","marginLeft","borderColor","popupBoxBeforeAndAfter","bottom","left","border","content","pointerEvents","PopupBox","zIndex","top","boxSizing","borderRadius","minHeight","boxShadow","borderBottomColor","borderWidth","fontSize","opacity","transition","transform","CreateNewButton","Button","justifyContent","marginRight","ExitButton","fileOpen","inSession","onJoinSession","onCreateSession","onLeaveSession","sessionBoxOpen","changeSessionBoxOpen","loadingSession","changeLoadingSession","sessionUrl","changeSessionUrl","userName","changeUserName","usePosthog","setTimeout","onMouseEnter","onMouseLeave","IconButton","style","InputProps","endAdornment","InputAdornment","disabled","CircularProgress","size","StyledButton","paddingTop","fontWeight","onDownload","changeOpen","HeaderPopupBox","GitHub","props","SvgIcon","d","fadedGrey","isFaded","availableColors","colorMap","complete","incomplete","faded","review","brush","seed","length","BrushCircle","OtherColorContainers","flexWrap","StyledIconButton","iconcolor","selected","marginBottom","paddingBottom","selectedBrush","onChangeSelectedBrush","handleClick","useEventCallback","memoize","getBrushColorPalette","headerButton","grow","flexGrow","list","tab","fullHeightTab","mixins","toolbar","breakpoints","down","minWidth","tabWrapper","getIcon","t","memo","s","tabs","currentTab","onChangeTab","additionalButtons","onOpenDrawer","title","isSmall","changeLoginDrawerOpen","collaborateError","isWelcomePage","c","AppBar","Toolbar","packageJSON","version","CollaborateButton","BrushButton","DownloadButton","Tabs","newTab","toLowerCase","Tab","wrapper","icon","href","GithubIcon","templates","Icon","CropFree","dataset","interface","samples","ImageSearch","labels","regionTypesAllowed","imageUrl","Image","OndemandVideoIcon","videoUrl","Edit","surveyjs","questions","pdfUrl","TextFormat","overlapAllowed","displayName","document","ContactSupport","Audiotrack","audioUrl","Category","fields","fieldName","ThreeDRotation","templateMap","reduce","acc","recentItems","changeRecentItems","onClickHome","onCloseDrawer","drawerOpen","onOpenFile","onOpenRecentItem","onClickTemplate","onDrop","useCallback","acceptedFiles","useDropzone","getRootProps","getInputProps","List","ListItem","ListItemIcon","ListItemText","ListSubheader","textAlign","ri","index","fileName","i","filter","oneRecentFile","template","HeaderContext","logoutUser","emptyArray","changeDrawerOpen","headerContext","useMediaQuery","HeaderDrawer","LoginDrawer","StyledDialogTitle","DialogTitle","grey","borderBottom","StyledDialogContent","DialogContent","StyledDialogActions","DialogActions","borderTop","markdownContent","redOn","red","noActionBar","actions","fullScreen","changeFullScreen","Dialog","Box","maxWidth","lineHeight","source","action","blue","text","bigButton","bigIcon","onSelect","SimpleDialog","provider","viewBox","data-name","fill","x","y","right","errorBox","errors","Collapse","in","life","Fade","message","changeErrors","concat","Math","random","split","cognitoIcon","howToSetupText","textDecoration","forms","cognito","placeholder","isRequired","onFinish","onAuthConfigured","setAuthProvider","dialogTitle","setDialogTitle","useErrors","addError","validateAuthProvider","answers","config","authTemplates","onQuestionChange","questionId","newValue","defaultAnswers","ErrorToasts","ContentContainer","overflowY","Content","Title","Subtitle","ActionList","Action","ActionTitle","ActionText","Actionless","BottomSpacer","onFileDrop","onOpenTemplate","showDownloadLink","onClickOpenSession","newVersionAvailable","changeNewVersionAvailable","fetch","r","json","newPackage","packageInfo","checkNewVersion","createFromTemplateDialogOpen","changeCreateFromTemplateDialogOpen","addAuthFromDialogOpen","changeAddAuthFromDialogOpen","CreateFromTemplateDialog","clicked_template","AddAuthFromTemplateDialog","Header","find","textField","editing","changeEditing","listener","addEventListener","removeEventListener","timeout","SAVE_WAIT","clearTimeout","inputProps","onKeyDown","preventDefault","stopPropagation","blur","onKeyPress","EmptyState","SampleDiv","fontVariantNumeric","userSelect","Sample","completed","onMouseDown","onMouseUp","classNames","p","n","count","samplesPerPage","changeSamplesPerPage","sampleOffset","changeSampleOffset","useReducer","min","max","selectRange","changeSelectRange","startSelectRange","moveSelectRange","endSelectRange","checkAndNullifySelectRange","buttons","onClickMemo","range","TablePagination","rowsPerPageOptions","rowsPerPage","page","floor","labelRowsPerPage","onChangePage","newPage","onChangeRowsPerPage","SelectContainer","TextArea","autoDetectOptions","onAddSamples","changeContent","urlType","changeURLType","l","trim","extension","replace","options","defaultValue","opt","v","sample","sampleName","decodeURI","match","UrlOfAFile","typeOfFile","fileExtension","getSampleName","getSampleNameFromURL","getSampleUrl","createOneNewSample","url","annotation","RecognizeFileExtension","getSampleWithThisSampleName","nameToSearch","setSamplesName","oldsample","renameSampleFromUrl","setIn","sampleToChange","boolName","sampletocompare1","eraseAnnotation","samplesWithoutAnnotation","Newsample","push","fileHasChanged","objectOfRef","objectToCheck","resultSet","mode","any","CheckIfAnnotationExist","result","folderToFetch","element","GetSampleFromAnnotation","newSamples","datasetHelper","sampleFound","get","expires","level","data","setUrl","configImport","loadProjectIsSelected","typeOfFileToLoad","fetchTextInFile","texte","urlSource","method","response","typeAuthorize","file","contentOldFile","actualSamples","annotationToKeep","Tabsamples","Tabsamples2","selectedStyle","tableStyle","expandedDataColumns","selector","sortable","expandedAnnotationsColumns","columns","customStyles","headCells","paddingLeft","cells","ExpandedRow","rowData","rowAnnotations","paddingRight","dense","striped","noHeader","noDataComponent","pagination","paginationPerPage","paginationRowsPerPageOptions","onChangeFile","textButtonAdd","changetextButtonAdd","s3Content","changeS3Content","dataForTable","changeDataForTable","setFolderToFetch","checkInterfaceAndsamples","typeOfFileToDisable","Video","Audio","PDF","Texte","contentDialogBoxIsSetting","projectStarted","initConfigImport","setConfigImport","lastObjectRef","useRef","hasProjectStarted","current","configToSet","changes","setTypeOfFileToLoadAndDisable","handleAddSample","GetImageFromAFolderAWS","GetAnnotationFromAFolderAWS","setAnnotationFromAws","changeLoadProjectIsSelected","textToSet","folderName","numberOfSamples","isSelected","folder","setButtonNameAddSample","_dataForTable","obj","endsWith","rowDataContent","startsWith","lastModified","toDateString","rowAnnotationsContent","FormControl","FormLabel","RadioGroup","aria-label","Radio","checked","expandableRows","expandableRowsComponent","selectableRows","selectableRowsHighlight","selectableRowsNoSelectAll","selectableRowsComponent","noTableHead","onSelectedRowsChange","whatsChanging","selectedRows","row","selectableRowSelected","UploadHover","emptyFunc","onChangeContent","reader","FileReader","onload","fileContent","readAsText","lastClickTime","changeLastClickTime","Date","now","isDragActive","ImportTextSnippetsDialog","TextAreaWithUpload","ExplainText","GoogleDriveScreenshot","credentials","web","client_id","process","app_id","developer_key","googleScriptLoaded","setGoogleScriptLoaded","pickerApiLoaded","setPickerApiLoaded","oauthToken","setOAuthToken","userSelectedItemsFromDrive","setUserSelectedItemsFromDrive","isPickerOpen","setIsPickerOpen","scriptElement","createElement","src","async","body","appendChild","remove","googlePickerActionCallback","google","picker","PICKED","docs","googleDriveDocument","mimeType","createPicker","view","View","ViewId","Docs","setMimeTypes","PickerBuilder","enableFeature","Feature","NAV_HIDDEN","MULTISELECT_ENABLED","setAppId","addView","DOCS","setDeveloperKey","setCallback","build","setVisible","handleAuthenticationResponse","authenticationResponse","access_token","onAuthApiLoad","gapi","auth","authorize","scope","immediate","onPickerApiLoad","onLoadPicker","load","callback","badSpellingMap","Object","entries","correct","badSpellings","badSpelling","convertTaskDatumMistakes","normalizedKey","correction","csv","JAC","fromCSV","derivePath","taskOutput","output","InfoText","whiteSpace","ImportUDTFileDialog","changeError","setContent","parse","e1","udt","fromUDTCSV","e2","jsonError","stack","csvError","datasets","getSamples","datasetName","datasetUrl","taskData","ImportToyDatasetDialog","TableContainer","Table","TableHead","TableRow","TableCell","TableBody","data-import-toy-dataset-name","idify","youtubeUrl","videoTitle","remote","videoQuality","downloadPath","onProgress","onComplete","onChangeOverallProgress","ytdl","path","videoName","fullVideoPath","join","writableVideoFile","createWriteStream","youtubeVideoWithOptions","format","quality","pipe","on","chunkLength","downloaded","total","percent","progress","cancel","destroy","Text","Bar","ProgressContainer","TotalPercentageWrapper","Progress","unitProgress","overallProgress","completedVideoTitles","ProgressBar","ExpansionPanel","ExpansionPanelSummary","expandIcon","ExpansionPanelDetails","getYoutubeVideoInformation","splittedURLsArray","progressCallback","checkedVideos","Promise","resolve","reject","getBasicInfo","info","errorText","video","splitURLsFromTextArea","stringURLs","urlsHasHTTPS","splittedURLsByNewLines","SelectVideoQualityHeader","SelectVideoQuality","LoadingText","CompletedVideoTitle","qualityOptions","ImportFromYoutubeUrls","urlsFromTextArea","setUrlsFromTextArea","setVideoQuality","setUnitProgress","setOverallProgress","isDownloading","setIsDownloading","setCompletedVideoTitles","cancelRef","setDefaultState","closeDialog","dialog","showOpenDialog","buttonLabel","properties","canceled","filePaths","errorMessage","youtubeVideoInfos","completedVideoPaths","completedVideoTitlesArray","youtubeVideosCount","youtubeVideoInfo","downloadYoutubeVideo","currentProgress","progressText","filePath","videoPath","Array","isArray","Fragment","convertToSamplesObject","fp","ext","electron","dirPaths","dirPath","fs","promises","readdir","fn","promptAndGetSamplesLocalDirectory","ButtonBase","MuiButton","DesktopOnlyText","SelectDialogContext","desktopOnly","authConfiguredOnly","signedInOnly","Consumer","onChangeDialog","import_button","classnames","onChangeDataset","selectedDialog","changeDialog","promptAndGetSamplesFromLocalDirectory","localSamples","samplesToAdd","AssignmentReturnedIcon","CreateNewFolderIcon","TextFieldsIcon","PetsIcon","FaYoutube","S3Icon","FaGoogleDrive","DescriptionIcon","PasteUrlsDialog","ImportFromS3Dialog","ImportFromGoogleDriveDialog","Code","StyledExpansionPanel","StyledExpansionPanelSummary","flatMap","videoFrameAt","keyframes","keys","kf","parseInt","regions","immutable","ErrorBox","downloadFile","urlToDownload","directoryPath","md5","existsSync","directory","filename","changeProgress","cancelled","td","urlKey","pathToFile","getFfmpegTimeCode","ms","cs","ss","mn","padStart","pathToFfmpeg","shell","exec","newsamples","transformsPerformed","imageOutputPath","ffmpegCommand","without","uploadFileToTransferSh","fileURL","remoteURL","axios","exactFilePath","fsFileBuffer","readFileSync","put","status","uploadedFileURL","splitFileNameFromFileURL","splittedFullFileName","getFileURLKey","transformFileURLsToWebURLs","setProgress","progressUnit","samplesIndex","samplesItem","fileURLKey","warn","webURLOfUploadedFile","TransformLocalFilesToWebURLs","Icon1","Icon2","useIsDesktop","transform_button","CollectionsIcon","ComputerIcon","LanguageIcon","GetAppIcon","ImageIcon","TransformVideoKeyframesDialog","DownloadURLsDialog","TransformVideoFramesToImagesDialog","SampleCounter","ExpandedRowContainer","borderTopLeftRadius","borderTopRightRadius","ExpandedRowTitle","ExpandedRowCode","input","openSampleInputEditor","openSampleLabelEditor","deleteSample","localStorage","lastSampleTab","changeTabState","changeTab","knownKeys","Set","has","add","cell","raised","ImportPage","onImportPageShouldExit","newOHA","TransformPage","shouldViewChange","SampleGrid","sampleIndex","choices","cellType","iface","multipleRegions","multipleRegionLabels","noActions","allowMultiple","multiple","hasOther","column","ButtonsContainer","NoQuestions","Question","borderLeft","PreviewHeader","anchorEl","menuOpen","changeMenuOpen","q","multiline","rows","ref","MenuItem","Fields","f","fieldIndex","isNested","newFieldInterface","field","fieldOrder","ExplanationTextHeader","ExplanationText","GithubLink","Configure3D","rel","getTaskDescription","linkButtonContainer","linkButton","footer","footerContent","footerBorder","footerCount","allSamplesButton","sampleIcon","menuButton","maxHeight","sectionHeader","SampleContainer","hideDescription","defaultHideDescription","getItem","onExit","lastSampleExitText","requireCompleteToPressNext","minContentHeight","currentSampleIndex","totalSamples","onChangeSample","changeHideDescriptionState","changeHideDescription","hide","setItem","sampleDrawerOpen","changeSampleDrawerOpen","LinkButton","escapeHtml","TextClassification","changeCurrentSampleIndex","availableLabels","initialLabels","containerProps","NLPAnnotator","multipleLabels","onSaveTaskOutputItem","simpleSequenceToEntitySequence","simpleSeq","entSeq","charsPassed","seq","start","end","TextEntityRecognition","initialSequence","doc","sort","b","nextEntity","entitySequenceToSimpleSeq","entities","getRandomColor","h","rid","convertToRIARegionFmt","regionType","cls","classification","tags","centerX","centerY","w","points","convertFromRIARegionFmt","riaRegion","convertToRIAImageFmt","taskDatum","frameTime","convertToRIAKeyframes","newKeyframes","regionTypeToTool","polygon","point","emptyObj","emptyArr","globalSampleIndex","selectedIndex","changeSelectedIndex","showTags","changeShowTags","selectedTool","changeSelectedTool","isClassification","saveCurrentIndexAnnotation","img","images","labelProps","regionClsList","regionTagList","nextAction","onNextImage","onPrevImage","enabledTools","rt","selectedImage","taskDescription","brightColors","letters","hashInt","indexOf","ImageContainer","objectFit","Nav","flexShrink","NavItem","NavButton","CheckButton","changeSampleIndex","enlargedLabel","changeEnlargedLabel","currentOutput","changeCurrentOutput","onDone","onNextNoSave","onNext","newOutput","onPrev","onClickLabel","hotkeyMap","backspace","enter","rightarrow","leftarrow","labelKeyMap","nextAvailableLetter","customId","videoTime","videoSrc","audio","phraseBank","initialTranscriptionText","DataEntry","completeText","explain","BadOHA","Composite","selectedField","changeSelectedField","indexZero","InterfaceIcon","UniversalDataViewer","hideHeader","onClickSetup","EmptySampleContainer","ImageSegmentation","ImageClassification","VideoSegmentation","AudioTranscription","Sentry","dsn","whitelistUrls","ErrorBoundary","hasError","errorInfo","withScope","setExtras","eventId","captureException","errorString","React","Component","noop","BigButton","NoOptions","TypeButton","Heading","PreviewContainer","mouseEvents","PreviewContent","SelectType","currentlySelected","ConfigureInterface","onChangeProp","onClickEditJSON","previewChangedTime","changePreviewChangedTime","previewLoading","changePreviewLoading","hidden","lg","LabelErrorBoundary","ConfigureImageSegmentation","ConfigureImageClassification","ConfigureComposite","ConfigureDataEntry","ConfigureAudioTranscription","ConfigureNLP","ConfigureTextClassification","ConfigureVideoSegmentation","PaperContainer","table","hotkeyIconStyle","onChangeHotkey","hotkeyList","selectedHotKey","setSelectedHotKey","modifier","setCurrentKeyCombo","keyListener","align","hotkey","AdvancedOptionsView","onClearLabelData","hotkeyDialogOpen","setHotkeyDialogOpen","confirm","has_opted_out_capturing","opt_in_capturing","opt_out_capturing","prompt","reload","KeyboardShortcutManagerDialog","isNotNested","sampleInput","changeText","newText","editorProps","$blockScrolling","Infinity","msgBox","ToastContext","useToasts","addToast","ToastProvider","fullLife","messageType","msg","toasts","changeToasts","Stat","Label","Value","stats","verifying","setVerifying","textFieldValue","setTextFieldValue","headers","apikey","useActiveDataset","useFileContext","setFile","setDataset","newDataset","FileContext","Link","usdFormatter","Intl","NumberFormat","currency","preciseUSDFormatter","maximumFractionDigits","minimumFractionDigits","steps","useLabelHelp","labelHelpEnabled","labelHelpError","loadMyCredits","variables","totalCost","formulaFunc","myCredits","labelHelp","labelHelpInfo","setLabelHelpInfo","collabUrl","encodeURIComponent","loaded","loadJob","activeStep","Stepper","step","Step","StepLabel","varName","sample_count","price","api_key","custom_id","toFixed","LabelHelpContext","LabelHelpProvider","loadingPricingConfig","setLoadingPricingConfig","pricingConfig","setPricingConfig","loadingMyTeam","setLoadingMyTeam","setMyCredits","loadPricingConfig","apiKey","credit","search","isLabelOnlyMode","useIsLabelOnlyMode","remoteFile","labelHelpDisabled","hasLabelHelpAPIKey","formula","variableDescriptions","variableName","computeDatasetVariable","funcArgs","formulaFuncPos","Function","ak","labelHelpAPIKey","LabelHelpView","hasAPIKey","ActiveLearningView","OverviewContainer","singleSampleDataset","onChangeSingleSampleDataset","onChangeSampleTimeToComplete","sampleTimeToComplete","setTab","labelOnlyMode","percentComplete","relativeIndex","startTime","interface_type","Stats","duration","saveIcon","editIcon","initialMode","valueDisplay","setValueDisplay","changeMode","setSingleSampleDataset","sampleInputEditor","changeSampleInputEditor","jsonText","changeJSONText","ipcRenderer","headerTabs","newTimeToComplete","newSamplesInWindow","samplesInWindow","timeToCompleteSample","useTimeToCompleteSample","changeSampleTimeToComplete","onOpenSettingsPage","onOpenSamplesPage","onOpenLabelPage","removeListener","shortcutHandlers","switch_to_label","switch_to_setup","switch_to_samples","handlers","EditableTitleText","newName","InterfacePage","some","SamplesView","annotationStartTime","splice","LabelView","EditSampleDialog","newInput","changeLog","humanReadableChangeLog","op","sampleMatch","seamless","getIn","updateIn","addToArray","withoutIn","parentPath","parentObj","object","patches","patch","from","isNaN","o","hash","charCodeAt","hashString","collab","serverUrl","getJSON","payload","opts","postJSON","patchJSON","sessionId","bent","initialContent","short_id","res","udt_json","getLatestState","updateToLatestState","hashOfLatestState","latestVersion","humanReadableLog","getHumanReadableLog","newState","applySeamlessPatch","rfc6902","CUSTOM_COLLABORATION_SERVER","convertToCollaborativeFile","createSession","joinSession","AddSamplesKeys","k","sampleKeys","flatten","toCSV","webReturn","saveFile","workingInterfaces","shouldUpdateAWSStorage","fetchAFile","blob","fileNameExist","createOrReplaceProjectFile","createOrReplaceAnnotations","imageOrVideoName","createOrReplaceImages","UpdateAWSStorage","changeFile","saveAs","saveFileAsync","showSaveDialog","filters","extensions","newFilePath","writeFile","toUDTCSV","useFilesystem","checkForLatestPatch","applyLatestPatches","doPatch","useServer","useAWSCognito","last_used_interface_type","dataset_size","numCompleted","samples_completed","percent_completed","openFile","fsFile","handleLoadedFile","openUrl","decodeURIComponent","labelOnly","history","replaceState","makeSession","newFile","Buttons","errorDetails","detect","preventNavigation","confirmationMessage","returnValue","useFileHandler","shouldPreventNavigation","usePreventNavigation","setSelectedBrush","onCreateTemplate","openRecentItem","outputName","download","sessionName","AppErrorBoundary","DatasetEditor","StartingPage","onOpenWelcomePage","onNewFile","arg0","templateName","saveFileAs","exportToCSV","onOpenFileFromToolbar","onChangeFileName","App","Theme","DesktopApp","LocalStorageApp","ReactDOM","render","getElementById"],"mappings":"qwIAMMA,EAAQC,IAAe,CAC3BC,QAAS,CACPC,QAASC,IACTC,UAAWD,KAEbE,WAAY,CACVC,WAAY,gCACZC,OAAQ,CACNC,cAAe,WAKN,cAAwB,IAArBC,EAAoB,EAApBA,SAChB,OAAO,kBAACC,EAAA,EAAD,CAAeX,MAAOA,GAAQU,I,oRChB1BE,EAAiB,CAC5B,CACEC,GAAI,kBACJC,YAAa,mBACbC,QAAS,WAEX,CACEF,GAAI,kBACJC,YAAa,kBACbC,QAAS,WAEX,CACEF,GAAI,oBACJC,YAAa,oBACbC,QAAS,WAEX,CACEF,GAAI,cACJC,YAAa,4BACbC,QAAS,UAEX,CACEF,GAAI,YACJC,YAAa,uBACbC,QAAS,KAEX,CACEF,GAAI,eACJC,YAAa,kBAEf,CACED,GAAI,WACJC,YAAa,uBAEf,CACED,GAAI,iBACJC,YAAa,oBAEf,CACED,GAAI,eACJC,YAAa,uBAEf,CACED,GAAI,2BACJC,YAAa,kCAEf,CACED,GAAI,uBACJC,YAAa,8BAEf,CACED,GAAI,uBACJC,YAAa,gCAEf,CACED,GAAI,cACJC,YAAa,+BAIJE,EAAgBC,wBAAc,CACzCC,QAASN,EACTO,aAAc,SAACN,EAAIO,GAAL,OAAoB,QAKvBC,EAAwB,SAAC,GAAkB,IAAhBX,EAAe,EAAfA,SAAe,EACjBY,IAA5BC,EAD6C,EAC7CA,WAAYC,EADiC,EACjCA,YAEdN,EAAUO,mBACd,kBACEb,EAAec,KAAI,SAACC,GAClB,OAAIJ,EAAW,WAAD,OAAYI,EAAKd,KACtB,eAAKc,EAAZ,CAAkBZ,QAASQ,EAAW,WAAD,OAAYI,EAAKd,OAE/Cc,OAGb,CAACJ,IAGGK,EAAeH,mBACnB,iBAAO,CACLP,UACAC,aAAc,SAACN,EAAIO,GAAL,OACZI,EAAY,WAAD,OAAYX,GAAMO,OAEjC,CAACI,EAAaN,IAGVW,EAASJ,mBAAQ,WACrB,IAD2B,EACrBI,EAAS,GADY,cAEGX,GAFH,IAE3B,0CAAaL,EAAb,EAAaA,GAAIE,EAAjB,EAAiBA,QAAsBc,EAAOhB,GAAME,GAFzB,8BAG3B,OAAOc,IACN,CAACX,IAEJ,OACE,kBAACF,EAAcc,SAAf,CAAwBC,MAAOH,GAC7B,kBAAC,UAAD,CAASC,OAAQA,GAASnB,KCnG1BsB,EAAc,CAClB,gBACA,gCACA,sBACA,4BACA,uCACA,iCACA,wCACA,qCACA,qCACA,qBACA,oBAXkB,mBAYfpB,EAAec,KAAI,gBAAGb,EAAH,EAAGA,GAAH,wBAAuBA,QAIlCoB,EAAmBhB,wBAAc,CAC5CiB,UAAW,GACXC,aAAc,SAACC,KACfb,WAAY,SAACc,KACbb,YAAa,SAACa,EAAKN,OAGRT,EAAe,kBAAMgB,qBAAWL,IAEhCM,EAAoB,SAAC,GAAkB,IAAhB7B,EAAe,EAAfA,SAAe,EACf8B,YAAgB,aAAc,IADf,mBAC1CN,EAD0C,KAC/BC,EAD+B,KAE3CP,EAAeH,mBAAQ,WAC3B,MAAO,CACLS,YACAC,eACAZ,WAAY,SAACc,GACX,IAAKL,EAAeS,SAASJ,GAC3B,MAAM,IAAIK,MAAJ,mCAAsCL,EAAtC,MAER,OAAOH,EAAUG,IAEnBb,YAAa,SAACa,EAAKN,GACjB,GACmB,kBAAVA,GACU,kBAAVA,GACU,mBAAVA,QACGY,IAAVZ,GACU,OAAVA,EAEA,MAAM,IAAIW,MAAJ,yGAC8FL,EAD9F,gBACyGO,KAAKC,UAChHd,KAIN,IAAKC,EAAeS,SAASJ,GAC3B,MAAM,IAAIK,MAAJ,mCAAsCL,EAAtC,MAERF,EAAa,eAAKD,EAAN,eAAkBG,EAAMN,SAGvC,CAACG,EAAWC,IACf,OACE,kBAACF,EAAiBH,SAAlB,CAA2BC,MAAOH,GAC/BlB,I,QCfQoC,EA7Cb,WAAYZ,GAAY,IAAD,gCADvBa,aAAe,UACQ,KAmBvBC,QAAU,SAACC,GACT,EAAKC,KAAOD,EACZ,EAAKE,WAAaC,QAAQH,GAC1B,EAAKI,YAAa,GAtBG,KAwBvBC,MAxBuB,uCAwBf,WAAOC,GAAP,eAAAC,EAAA,6DACNC,UAAQC,UAAU,EAAKC,YADjB,SAGmBC,IAAKC,2BAHxB,OAGAZ,EAHA,OAKN,EAAKC,KAAOD,EACZ,EAAKI,YAAa,EANZ,2CAxBe,2DAgCvBS,OAAS,WACP,EAAKZ,KAAO,KACZ,EAAKC,YAAa,EAClB,EAAKE,YAAa,EAClBO,IAAKG,WApCgB,KAsCvBC,SAAW,iBAAO,CAChBd,KAAM,EAAKA,KACXC,WAAY,EAAKA,WACjBQ,WAAY,EAAKA,aAxCjBM,KAAKN,WAAa,CAChBC,KAAM,CACJM,eAAgBhC,EAAU,iCAC1BiC,OAAQjC,EAAU,uBAClBkC,WAAYlC,EAAU,6BACtBmC,oBAAqBnC,EAAU,wCAC/BoC,iBAAiB,EACjBC,uBAAwB,sBAE1BC,QAAS,CACPC,MAAO,CACLC,OAAQxC,EAAU,sCAClBiC,OAAQjC,EAAU,yCAIxB+B,KAAKd,YAAa,G,UCRhBwB,GAAc1D,wBAAc,CAAE8B,aAAc,SAErC6B,GAAe,SAAC,GAAkB,IAAhBlE,EAAe,EAAfA,SAAe,EACVY,IAA1BY,EADoC,EACpCA,UAAWX,EADyB,EACzBA,WADyB,EAEdsD,mBAAS,CAAE9B,aAAc,SAFX,mBAErC+B,EAFqC,KAE5BC,EAF4B,KAGtChC,EAAexB,EAAW,iBAC1ByD,EAAcC,cAEpBC,qBAAU,WACJJ,GAAWA,EAAQ/B,eAAiBA,GACnB,YAAjBA,GACFgC,EAAW,IAAIjC,EAAeZ,MAE/B,CAACa,EAAcb,EAAW4C,IAE7BI,qBAAU,WACR,GAAKJ,EAAL,CACA,IAAMK,EAAWC,aAAY,WACvBN,EAAQzB,aACV2B,IACAF,EAAQzB,YAAa,KAEtB,KACH,OAAO,WACLgC,cAAcF,OAEf,CAACL,EAASE,IAEb,IAAMpD,EAAeH,mBACnB,+BACEsB,aAAc+B,EAAQ/B,cAClB+B,EAAQd,SAAWc,EAAQd,WAAa,GAF9C,CAIEhB,QAAS8B,EAAQ9B,QACjBc,OAAQgB,EAAQhB,OAChBR,MAAOwB,EAAQxB,UAEjB,CAACwB,IAGH,OACE,kBAACH,GAAY7C,SAAb,CAAsBC,MAAOH,GAAelB,IAInC4E,GAAU,kBAAMhD,qBAAWqC,KAEzBW,MC/CTC,GAAYC,YAAO,MAAPA,CAAc,CAC9BC,QAAS,GACTC,MAAOtF,IAAW,OAGduF,GAAYC,aAAW,SAAC5F,GAAD,MAAY,CACvC6F,KAAM,CACJC,MAAO,OACPC,UAAW/F,EAAMgG,QAAQ,IAE3BC,OAAQ,CACNC,OAAQlG,EAAMgG,QAAQ,EAAG,EAAG,QAIjB,eAAyD,IAAtDG,EAAqD,EAArDA,aAAcC,EAAuC,EAAvCA,wBAAyBC,EAAc,EAAdA,QAAc,EACrCf,KAAxB3B,EAD6D,EAC7DA,WAAYX,EADiD,EACjDA,QACdsD,EAAUX,KAFqD,EAI3Cd,qBAJ2C,mBAI9D0B,EAJ8D,KAIvDC,EAJuD,OAM3C3B,mBAAS,CACjC4B,SAAU,GACVC,SAAU,GACVC,wBAAwB,IAT2C,mBAM9DC,EAN8D,KAMvDC,EANuD,KAuB/DC,EAAwB,SAACC,GAC7BA,EAAMC,UACNH,GAAS,SAACI,GAAD,4BACJA,GADI,mBAENF,EAAMG,OAAOC,KAAOJ,EAAMG,OAAOnF,OAF3B,wCAGiB,GAHjB,QAzB0D,4CAgCrE,WAAyB0E,EAAUC,GAAnC,SAAAlD,EAAA,6DACEgD,EAAS,MADX,kBAGU/C,UAAQC,UAAUC,GAH5B,uBAIUC,IAAKwD,OAAOX,EAAUC,GACzBW,MAAK,SAACnE,GAQL,OAPAF,EAAQE,GACmB,0BAAvBA,EAAKoE,cACPlB,EAAwBlD,IAExBiD,EAAajD,GACbmD,KAEKnD,KAERqE,OAAM,SAACC,GAuBN,MAtBiB,8BAAbA,EAAIC,KACNC,QAAQC,IAAI,4BAIU,mCAAbH,EAAIC,KACbC,QAAQC,IAAI,2BAIU,2BAAbH,EAAIC,MACbC,QAAQC,IAAI,wBACZd,EAAS,eAAKD,EAAN,CAAaD,wBAAwB,EAAMD,SAAU,OAEvC,0BAAbc,EAAIC,KACbC,QAAQC,IAAI,2BAGZD,QAAQC,IAAI,mCACZD,QAAQC,IAAIH,EAAIC,OAElBjB,EAASgB,EAAII,YACNJ,KAtCf,uDAyCIhB,EAAS,KAAEoB,YAzCf,0DAhCqE,sBA6ErE,OACE,kBAAC,WAAD,KACE,kBAACC,EAAA,EAAD,CAAYC,UAAU,KAAKC,QAAQ,MAAnC,WAGCxB,GAAS,kBAAChB,GAAD,KAAYgB,GACtB,0BAAMyB,UAAW1B,EAAQT,KAAMoC,YAAU,GACvC,kBAACC,EAAA,EAAD,CACE3B,MAAOK,EAAMD,uBACboB,QAAQ,WACR7B,OAAO,SACPiC,UAAQ,EACRC,WAAS,EACTvH,GAAG,WACHwH,MAAM,WACNlB,KAAK,WACLmB,aAAa,WACbC,WACE3B,EAAMD,uBACF,yCACA,GAEN6B,WAAS,EACTC,SAAU3B,IAEZ,kBAACoB,EAAA,EAAD,CACEH,QAAQ,WACR7B,OAAO,SACPiC,UAAQ,EACRC,WAAS,EACTjB,KAAK,WACLkB,MAAM,WACNK,KAAK,WACL7H,GAAG,WACHyH,aAAa,mBACbvG,MAAO6E,EAAMF,SACb+B,SAAU3B,IAEZ,kBAAC6B,EAAA,EAAD,CACEC,QAAS,kBAACC,EAAA,EAAD,CAAU9G,MAAM,WAAW2D,MAAM,YAC1C2C,MAAM,gBAER,kBAAC,IAAD,CACES,QA5GkB,WACpBC,IAAQnC,EAAMH,WAAasC,IAAQnC,EAAMF,UAC3CG,GAAS,SAACI,GAAD,sBACJA,EADI,CAEPN,wBAAwB,OAhBuC,sCAmBjEqC,CAAUpC,EAAMH,SAAUG,EAAMF,WAsG5B0B,WAAS,EACTL,QAAQ,YACRrC,MAAM,UACNsC,UAAW1B,EAAQL,QALrB,cC7IFN,GAAYC,aAAW,SAAC5F,GAAD,MAAY,CACvC6F,KAAM,CACJC,MAAO,OACPC,UAAW/F,EAAMgG,QAAQ,IAE3BC,OAAQ,CACNC,OAAQlG,EAAMgG,QAAQ,EAAG,EAAG,QAIjB,eAAoD,IAAjDiD,EAAgD,EAAhDA,mBAAoB9C,EAA4B,EAA5BA,aAAcE,EAAc,EAAdA,QAC1CnD,EAASoC,KAATpC,KACFgG,EAAyB,GACzBC,EAA8B,GACpCF,EAAmBG,SAAQ,SAACC,GAC1BH,EAAuBG,GAAqB,GAC5CF,EAA4BE,IAAqB,KANa,MAStCxE,mBAAS,CACjCyE,YAAa,GACbC,qBAAqB,EACrBC,wBAAyB,GACzBC,kCAAkC,EAClCP,uBAAwBA,EACxBC,4BAA6BA,IAfiC,mBASzDvC,EATyD,KASlDC,EATkD,KAkB1DP,EAAUX,KAEV+D,EAAwB,SAACC,GAC7B,OAAOA,EAAOC,OAAO,GAAGC,cAAgBF,EAAOG,MAAM,IAgBjDC,EAAmC,SAAChD,GACxCF,EAAS,eACJD,EADG,CAENsC,uBAAuB,eAClBtC,EAAMsC,uBADW,eAEnBnC,EAAMG,OAAOC,KAAOJ,EAAMG,OAAOnF,YAKlCiI,EAAyB,SAACjD,GAC9BF,EAAS,eACJD,EADG,aAENqD,iBAAkB,KAClBV,qBAAqB,EACrBE,kCAAkC,GACjC1C,EAAMG,OAAOC,KAAOJ,EAAMG,OAAOnF,UAIhCmI,EAA4C,WAChD,OAAItD,EAAM0C,cAAgB1C,EAAM4C,yBAC9B3C,EAAS,eAAKD,EAAN,CAAa6C,kCAAkC,MAChD,IAEP5C,EAAS,eAAKD,EAAN,CAAa6C,kCAAkC,MAChD,IAILU,EAAoB,SAACC,GACzB,IAAIC,GAAU,EAiCd,MAhCU,aAAND,EACFnB,EAAmBG,SAAQ,SAACC,GAC8B,KAApDzC,EAAMsC,uBAAuBG,KAC/BxC,EAAS,eACJD,EADG,CAENuC,4BAA4B,eACvBvC,EAAMuC,4BADgB,eAExBE,GAAoB,OAGzBgB,GAAU,MAIS,KAAnBD,EAAElD,OAAOnF,MACX8E,EAAS,eACJD,EADG,CAENuC,4BAA4B,eACvBvC,EAAMuC,4BADgB,eAExBiB,EAAElD,OAAOC,MAAO,OAIrBN,EAAS,eACJD,EADG,CAENuC,4BAA4B,eACvBvC,EAAMuC,4BADgB,eAExBiB,EAAElD,OAAOC,MAAO,OAKlBkD,GAkBT,OACE,kBAAC,WAAD,KACE,kBAACxC,EAAA,EAAD,CAAYC,UAAU,KAAKC,QAAQ,MAAnC,yBAGA,0BAAMC,UAAW1B,EAAQT,KAAMoC,YAAU,GACvC,kBAACC,EAAA,EAAD,CACE3B,MAAOK,EAAM2C,oBACbxB,QAAQ,WACR7B,OAAO,SACPiC,UAAQ,EACRC,WAAS,EACTjB,KAAK,cACLkB,MAAM,eACNK,KAAK,WACL7H,GAAG,WACHkB,MAAO6E,EAAM0C,YACbb,SAAUuB,EACVzB,WAAY3B,EAAMqD,kBAAoB,KAExC,kBAAC/B,EAAA,EAAD,CACE3B,MAAOK,EAAM6C,iCACb1B,QAAQ,WACR7B,OAAO,SACPiC,UAAQ,EACRC,WAAS,EACTjB,KAAK,0BACLkB,MAAM,uBACNK,KAAK,WACL7H,GAAG,mBACH4H,SAAUuB,EACVjI,MAAO6E,EAAM4C,wBACbc,OAAQJ,EACR3B,WACE3B,EAAM6C,iCACF,0DACA,KAGPR,EAAmBvH,KAAI,SAAC2H,GACvB,OACE,kBAACnB,EAAA,EAAD,CACE3B,MAAOK,EAAMuC,4BAA4BE,GACzCtB,QAAQ,WACR7B,OAAO,SACPiC,UAAQ,EACRC,WAAS,EACTjB,KAAMkC,EAAkBzB,WACxBvF,IAAKgH,EAAkBzB,WACvBS,MAAOqB,EAAsBL,EAAkBzB,YAC/Cc,KAAK,OACL7H,GAAIwI,EAAkBzB,WACtBa,SAAUsB,EACVhI,MAAO6E,EAAMsC,uBAAuBG,kBACpCiB,OAAQH,EACR5B,WACE3B,EAAMuC,4BAA4BE,GAAlC,UACOK,EACDL,EAAkBzB,YAFxB,kBAII,QAKZ,kBAAC,IAAD,CACEkB,QAjK0B,WAE9BoB,KACAC,EAAkB,YA8EpBvG,IAAK2G,oBACHrH,EACA0D,EAAM0C,YACN1C,EAAMsC,wBAEL7B,MAAK,SAACnE,GACLiD,EAAajD,GACbmD,OAEDkB,OAAM,SAACC,GACNX,EAAS,eAAKD,EAAN,CAAaqD,iBAAkBzC,EAAII,iBApF7CF,QAAQC,IAAI,sBA2JRS,WAAS,EACTL,QAAQ,YACRrC,MAAM,UACNsC,UAAW1B,EAAQL,QALrB,uBC5LFN,GAAYC,aAAW,SAAC5F,GAAD,MAAY,CACvCwK,OAAQ,CACN1E,MAAO,KAET2E,KAAM,CACJC,OAAQ,SAEVC,MAAO,CACLzE,OAAQlG,EAAMgG,QAAQ,EAAG,GACzB4E,QAAS,OACTC,cAAe,SACfC,WAAY,UAEdC,MAAO,CACLC,OAAQ,UACRtF,MAAO1F,EAAME,QAAQG,UAAU4K,MAEjCC,OAAQ,CACNhF,OAAQlG,EAAMgG,QAAQ,GACtBmF,gBAAiBnL,EAAME,QAAQG,UAAU4K,UAI9B,eAAmC,IAAhCG,EAA+B,EAA/BA,gBAAiB/E,EAAc,EAAdA,QAC3BC,EAAUX,KAD+B,EAEvBd,mBAAS,IAFc,mBAExC3B,EAFwC,KAElCF,EAFkC,OAIrB6B,mBAAS,CACjCwG,WAAW,EACXC,gBAAgB,EAChBpI,KAAM,KAPuC,mBAIxC0D,EAJwC,KAIjCC,EAJiC,KAkE/C,OACE,oCACE,kBAAC0E,EAAA,EAAD,CAAQC,OAAO,QAAQC,KAAML,EAAiB/E,QAASA,GA/CzD,yBAAK2B,UAAW1B,EAAQkE,OAAQkB,KAAK,gBACnC,kBAACC,EAAA,EAAD,CAAMC,WAAS,EAAC9D,UAAU,OAAOE,UAAW1B,EAAQmE,MAClD,kBAACkB,EAAA,EAAD,CACEhK,MAAI,EACJkK,GAAI,GACJC,GAAI,GACJC,GAAI,GACJjE,UAAWkE,IACXC,UAAW,EACXC,QAAM,GAEN,yBAAKlE,UAAW1B,EAAQqE,OACtB,kBAACgB,EAAA,EAAD,CAAMC,WAAS,GACb,kBAACD,EAAA,EAAD,CAAMhK,MAAI,EAACkK,IAAE,GACX,kBAAC,IAAD,CAAkB/C,QAASzC,EAAS2B,UAAW1B,EAAQyE,UAG3D,kBAACoB,EAAA,EAAD,CAAQnE,UAAW1B,EAAQ4E,QACzB,kBAAC,IAAD,OAEDtE,EAAMyE,WACL,kBAACe,GAAD,CACEhG,wBAAyB,SAAClD,GAAD,OAjCV,SAACA,GAC5B2D,GAAS,SAACI,GAAD,sBACJA,EADI,CAEPoE,WAAW,EACXC,gBAAgB,EAChBpI,KAAMA,EACN+F,mBAAoB/F,EAAKmJ,eAAepD,wBA2BKqD,CAAqBpJ,IACxDiD,aAAc,SAACjD,GACbF,EAAQE,IAEVmD,QAASA,IAGZO,EAAM0E,gBACL,kBAACiB,GAAD,CACEtD,mBAAoBrC,EAAMqC,mBAC1B/F,KAAMA,EACNmD,QAASA,EACTF,aAAc,SAACjD,GACbF,EAAQE,a,6PCzFX,cACb,OAAIsJ,OAAOC,QACFD,OAAOC,QAAQ,YAEjB,MCHTD,OAAOE,oBAAqB,EACb,kBACb,IAAMC,EAAYvJ,QAAQwJ,MAC1B,IAAKJ,OAAOE,mBAAoB,CAC9BG,KAAQC,KAAK,8CAA+C,CAC1DC,SAAU,wCACVC,aAAa,IAEfR,OAAOK,QAAUA,KACjB,IAAMI,EAASN,EAAY,UAAYH,OAAOU,SAASC,OACvDN,KAAQO,QAAQ,SAAU,CAAEH,WAC5BJ,KAAQO,QAAQ,aAAc,CAAET,UAAWA,IAC3CE,KAAQQ,OAAOC,IAAI,CAAEC,WAAYZ,EAAWM,WAC5CT,OAAOE,oBAAqB,EAE9B,OAAOG,MCDHW,GAAYhI,YAAO,MAAPA,CAAc,CAAEiI,SAAU,WAAYC,WAAY,IAE9DC,GAAcvN,KAAY,KAC1BwN,GAAyB,CAC7BC,OAAQ,OACRC,KAAM,MACNC,OAAQ,oBACRC,QAAS,MACTtD,OAAQ,EACR5E,MAAO,EACP2H,SAAU,WACVQ,cAAe,QAEXC,GAAW1I,YAAO,MAAPA,CAAc,CAC7BiI,SAAU,WACVU,OAAQ,GACRC,IAAK,GACL3I,QAAS,GACT4I,UAAW,aACXC,aAAc,EACdR,MAAM,GACN3C,gBAAiB,OACjB4C,OAAO,aAAD,OAAeJ,IACrB7H,MAtBY,IAuBZyI,UAAW,IACXC,UAAW,+BACX,WAAW,eACNZ,GADL,CAEED,YAAa,iBACbc,kBAAmBd,GACnBe,YAAa,GACbhB,YAAa,KAEf,UAAU,eACLE,GADL,CAEED,YAAa,uBACbc,kBAAmB,OACnBC,YAAa,GACbhB,YAAa,KAEf,OAAQ,CACNiB,SAAU,GACV5I,UAAW,EACXL,MAAOtF,IAAY,MAErB,OAAQ,CACNuO,SAAU,GACVjJ,MAAOtF,KAAY,MAErBwO,QAAS,EACTC,WAAY,6CACZ,WAAY,CACVD,QAAS,EACTE,UAAW,qBACXb,cAAe,UAGb1I,GAAYC,YAAO,MAAPA,CAAc,CAC9BE,MAAOtF,IAAW,KAClBqF,QAAS,EACTkJ,SAAU,KAGNI,GAAkBvJ,YAAOwJ,IAAPxJ,CAAe,CACrCO,UAAW,GACXkJ,eAAgB,aAChBvJ,MAAOtF,IAAY,KACnB,UAAW,CACT8O,YAAa,EACbN,QAAS,MAGPO,GAAa3J,YAAOwJ,IAAPxJ,CAAe,CAChCO,UAAW,GACXkJ,eAAgB,aAChB,UAAW,CACTC,YAAa,EACbN,QAAS,GACTlJ,MAAOtF,IAAW,QAIP,eASR,IAAD,IARJgP,gBAQI,aAPJC,iBAOI,SANJ9I,EAMI,EANJA,MACA+I,EAKI,EALJA,cACAC,EAII,EAJJA,gBACAC,EAGI,EAHJA,eACAC,EAEI,EAFJA,eACAC,EACI,EADJA,qBACI,EAC2C7K,oBAAS,GADpD,mBACG8K,EADH,KACmBC,EADnB,OAEmC/K,mBAAS,IAF5C,mBAEGgL,EAFH,KAEeC,EAFf,OAG+BtN,YAAgB,WAAY,aAH3D,mBAGGuN,EAHH,KAGaC,EAHb,KAIEnD,EAAUoD,KAUhB,OARA/K,qBAAU,WACJyK,GACFO,YAAW,WACTN,GAAqB,KACpB,OAEJ,CAACD,IAGF,kBAACnC,GAAD,CACE2C,aAAc,kBAAMT,GAAqB,IACzCU,aAAc,kBAAMV,GAAqB,KAEzC,kBAACW,GAAA,EAAD,CAAYC,MAAO,CAAE5K,MAAO2J,EAAYjP,IAAY,UAAOuC,IACzD,kBAAC,KAAD,OAEF,kBAACuL,GAAD,CAAUlG,UAAWyH,EAAiB,GAAK,UACzC,2CACEJ,EA4CA,oCACE,kBAACnH,EAAA,EAAD,CACEoI,MAAO,CAAEvK,UAAW,IACpBgC,QAAQ,WACRM,MAAM,YACNtG,MAAOgO,EACPtH,SAAU,SAAC2B,GAAD,OAAO4F,EAAe5F,EAAElD,OAAOnF,UAE3C,kBAACoN,GAAD,CAAY/G,WAAS,EAACU,QAAS0G,GAC7B,kBAAC,KAAD,CAAexH,UAAU,SAD3B,kBAnDF,oCACE,8CACA,kBAACE,EAAA,EAAD,CACEH,QAAQ,WACRM,MAAM,iBACNtG,MAAO8N,EACPpH,SAAU,SAAC2B,GAAD,OAAO0F,EAAiB1F,EAAElD,OAAOnF,QAC3CwO,WAAY,CACVC,aACE,kBAACC,GAAA,EAAD,CAAgBhD,SAAS,OACvB,kBAAC4C,GAAA,EAAD,CACE3K,MAAM,UACNoD,QAAS,WACP+D,EAAQO,QAAQ,8BAChBkC,EAAcO,IAEhBa,UAAWb,GAEX,kBAAC,IAAD,WAMTtJ,GAAS,kBAAC,GAAD,KAAYA,GACtB,kBAACwI,GAAD,CACE3G,WAAS,EACTsI,UAAWtB,GAAYO,GAAkBpJ,EACzCuC,QAAS,WACP+D,EAAQO,QAAQ,gCAChBmC,IACAK,GAAqB,KAGtBD,EACC,kBAACgB,GAAA,EAAD,CAAkB3I,UAAU,OAAO4I,KAAM,KAEzC,kBAAC,KAAD,CAAe5I,UAAU,SAZ7B,0B,+BCvJN2F,GAAcvN,KAAY,KAC1BwN,GAAyB,CAC7BC,OAAQ,OACRC,KAAM,MACNC,OAAQ,oBACRC,QAAS,MACTtD,OAAQ,EACR5E,MAAO,EACP2H,SAAU,WACVQ,cAAe,QAEXC,GAAW1I,YAAO,MAAPA,CAAc,CAC7BiI,SAAU,WACVU,OAAQ,GACRC,IAAK,GACL3I,QAAS,GACT4I,UAAW,aACXC,aAAc,EACdR,MAAM,GACN3C,gBAAiB,OACjB4C,OAAO,aAAD,OAAeJ,IACrB7H,MAtBY,IAuBZyI,UAAW,IACXC,UAAW,+BACX,WAAW,eACNZ,GADL,CAEED,YAAa,iBACbc,kBAAmBd,GACnBe,YAAa,GACbhB,YAAa,KAEf,UAAU,eACLE,GADL,CAEED,YAAa,uBACbc,kBAAmB,OACnBC,YAAa,GACbhB,YAAa,KAEf,OAAQ,CACNiB,SAAU,GACV5I,UAAW,EACXL,MAAOtF,IAAY,MAErB,OAAQ,CACNuO,SAAU,GACVjJ,MAAOtF,KAAY,MAErBwO,QAAS,EACTC,WAAY,6CACZ,WAAY,CACVD,QAAS,EACTE,UAAW,qBACXb,cAAe,UAIJ,eAAyB,IAAtBxC,EAAqB,EAArBA,KAAM/K,EAAe,EAAfA,SACtB,OAAO,kBAAC,GAAD,CAAUsH,UAAWyD,EAAO,GAAK,UAAW/K,ICtD/C8M,GAAYhI,YAAO,MAAPA,CAAc,CAAEiI,SAAU,aAEtCoD,GAAerL,YAAOwJ,IAAPxJ,CAAe,CAClCyJ,eAAgB,aAChB,cAAe,CACbrE,QAAS,SACTsE,YAAa,EACbzJ,QAAS,EACTqL,WAAY,EACZnC,SAAU,GACVoC,WAAY,OACZrL,MAAO,OACPyF,gBAAiB/K,KAAY,KAC7BkO,aAAc,EACdxI,MAAO,GACP,SAAU,CACRqF,gBAAiB/K,IAAY,MAE/B,UAAW,CACT+K,gBAAiB/K,KAAa,SAKrB,eAAqB,IAAlB4Q,EAAiB,EAAjBA,WAAiB,EACNnM,oBAAS,GADH,mBAC1B4G,EAD0B,KACpBwF,EADoB,KAGjC,OACE,kBAAC,GAAD,CACEd,aAAc,kBAAMc,GAAW,IAC/Bb,aAAc,kBAAMa,GAAW,KAE/B,kBAACZ,GAAA,EAAD,KACE,kBAAC,KAAD,OAEF,kBAACa,GAAD,CAAgBzF,KAAMA,GACpB,wCACA,kBAACoF,GAAD,CAAczI,WAAS,EAACU,QAAS,kBAAMkI,EAAW,SAChD,yBAAKhJ,UAAU,kBAAf,OADF,gBAIA,kBAAC6I,GAAD,CAAczI,WAAS,EAACU,QAAS,kBAAMkI,EAAW,UAChD,yBAAKhJ,UAAU,iBAAf,QADF,oB,UCtCOmJ,OARf,SAAgBC,GACd,OACE,kBAACC,GAAA,EAAYD,EACX,0BAAME,EAAE,4sB,uJCHRC,GAAS,eACVnR,KADU,CAQboR,SAAS,IAGLC,GAAkB,CACtBrR,IACAA,KACAA,KACAA,KACAA,KACAA,KACAA,KACAA,MAGIsR,GAAQ,eACTtR,GADS,CAEZuR,SAAUvR,IACVwR,WAAYL,GACZM,MAAON,GACPO,OAAQ1R,OAGK,YAAC2R,GACd,OACEL,GAASK,IAAUN,GAAgBO,KAAKD,GAASN,GAAgBQ,SCxB/DzE,GAAYhI,YAAO,MAAPA,CAAc,CAAEiI,SAAU,aACtCyE,GAAc1M,YAAO,MAAPA,EAAc,kBAAgB,CAChDoF,QAAS,SACTsE,YAAa,EACb/D,gBAHgC,EAAGzF,MAGZ,KACvBI,MAAO,GACP4E,OAAQ,GACR4D,aAAc,OAGV6D,GAAuB3M,YAAO,MAAPA,CAAc,CACzCsL,WAAY,GACZrL,QAAS,EACTmF,QAAS,OACTwH,SAAU,SAGNC,GAAmB7M,YAAO6K,KAAP7K,EAAmB,gBAAG8M,EAAH,EAAGA,UAAWC,EAAd,EAAcA,SAAd,MAA8B,CACxE3H,QAAS,OACTqE,eAAgB,SAChBnE,WAAY,SACZK,gBAAiBmH,EAAU,KAC3BvE,OAAQwE,EAAQ,oBAAgBD,EAAS,MAAa,iBACtDjE,UAAW,cACXnI,OAAQ,EACR2I,WAAY,yBACZ,UAAW,CACT1D,gBAAiBmH,EAAU,KAC3BxD,UAAW,kBAEb,WAAY,CACVD,WAAY,yBACZC,UAAW,sBAIT+B,GAAerL,YAAOwJ,IAAPxJ,EAAe,gBAAG+M,EAAH,EAAGA,SAAUD,EAAb,EAAaA,UAAb,MAA8B,CAChErD,eAAgB,aAChBlJ,UAAW,EACXyM,aAAc,EACd1B,WAAY,EACZ2B,cAAe,EACftH,gBAAiBoH,EAAWD,EAAU,IAAM,OAC5CvE,OAAQwE,EAAQ,oBAAgBD,EAAU,MAAS,iBACnD,UAAW,CACTnH,gBAAiBoH,EAAWD,EAAU,KAAO,YAIlC,eAA+C,IAA5CI,EAA2C,EAA3CA,cAAeC,EAA4B,EAA5BA,sBAA4B,EAChC9N,oBAAS,GADuB,mBACpD4G,EADoD,KAC9CwF,EAD8C,KAErD2B,EAAcC,cAAiB,SAACnN,GAAD,OACnCoN,MAAQ,kBAAMH,EAAsBjN,SAGtC,OACE,kBAAC,GAAD,CACEyK,aAAc,kBAAMc,GAAW,IAC/Bb,aAAc,kBAAMa,GAAW,KAE/B,kBAACZ,GAAA,EAAD,KACE,kBAAC,KAAD,CACEC,MAAO,CAAE5K,MAAOqN,GAAqBL,GAAe,SAGxD,kBAACxB,GAAD,CAAgBzF,KAAMA,GACpB,8CACA,kBAAC,GAAD,CACE8G,SAA4B,aAAlBG,GAAkD,SAAlBA,EAC1CJ,UAAWlS,IACXgI,WAAS,EACTU,QAAS8J,EAAY,aAErB,kBAACV,GAAD,CAAaxM,MAAOtF,MANtB,YASA,kBAAC,GAAD,CACEmS,SACoB,WAAlBG,GAAgD,eAAlBA,EAEhCJ,UAAWlS,KACXgI,WAAS,EACTU,QAAS8J,EAAY,WAErB,kBAACV,GAAD,CAAaxM,MAAOtF,OARtB,UAWA,kBAAC+R,GAAD,KACE,kBAACE,GAAD,CACEvJ,QAAS8J,EAAY,SACrBL,SAA4B,UAAlBG,EACVJ,UAAWlS,OAEb,kBAACiS,GAAD,CACEvJ,QAAS8J,EAAY,UACrBL,SAA4B,WAAlBG,EACVJ,UAAWlS,OAEb,kBAACiS,GAAD,CACEvJ,QAAS8J,EAAY,QACrBL,SAA4B,SAAlBG,EACVJ,UAAWlS,OAEb,kBAACiS,GAAD,CACEvJ,QAAS8J,EAAY,QACrBL,SAA4B,SAAlBG,EACVJ,UAAWlS,OAEb,kBAACiS,GAAD,CACEvJ,QAAS8J,EAAY,UACrBL,SAA4B,WAAlBG,EACVJ,UAAWlS,OAEb,kBAACiS,GAAD,CACEvJ,QAAS8J,EAAY,UACrBL,SAA4B,WAAlBG,EACVJ,UAAWlS,WCxGjBuF,GAAYC,aAAW,SAAC5F,GAAD,MAAY,CACvCgT,aAAc,CACZtF,WAAY,IAEduF,KAAM,CAAEC,SAAU,GAClBC,KAAM,CACJrN,MAAO,KAETsN,IAAK,CACH1N,MAAO,OACP,UAAW,IAEb2N,cAAc,eACTrT,EAAMsT,OAAOC,QADL,eAEVvT,EAAMwT,YAAYC,KAAK,MAAQ,CAC9BC,SAAU,MAGdC,WAAY,CACV/I,QAAS,OACTC,cAAe,MACfC,WAAY,SACZrK,cAAe,OACfiF,MAAO,OACP,UAAW,CACT8M,aAAc,EACdtD,YAAa,EACbpJ,MAAO,GACP4E,OAAQ,SAKRkJ,GAAU,SAACC,GACf,OAAQA,GACN,IAAK,QACH,OAAO,kBAAC,KAAD,CAAc7L,UAAU,SACjC,IAAK,QACH,OAAO,kBAAC,KAAD,CAAiBA,UAAU,SACpC,IAAK,UACH,OAAO,kBAAC,KAAD,CAAaA,UAAU,SAChC,QACE,OAAO,gCAuGE8L,mBAnGO,SAAC,GAuBhB,IAzEaC,EAmDlBC,EAsBI,EAtBJA,KACAC,EAqBI,EArBJA,WACAC,EAoBI,EApBJA,YACAC,EAmBI,EAnBJA,kBACAC,EAkBI,EAlBJA,aAkBI,IAjBJC,aAiBI,MAjBI,sBAiBJ,EAhBJ1H,EAgBI,EAhBJA,UACAyC,EAeI,EAfJA,SACAK,EAcI,EAdJA,eACAC,EAaI,EAbJA,qBACAL,EAYI,EAZJA,UACAE,EAWI,EAXJA,gBACAC,EAUI,EAVJA,eACAF,EASI,EATJA,cACA0B,EAQI,EARJA,WACA0B,EAOI,EAPJA,cACAC,EAMI,EANJA,sBACA2B,EAKI,EALJA,QAEAC,GAGI,EAJJ5Q,WAII,EAHJ4Q,uBACAC,EAEI,EAFJA,iBACAC,EACI,EADJA,cAEMC,EAAI/O,KADN,EAEyCL,KAArCvC,EAFJ,EAEIA,aAAcI,EAFlB,EAEkBA,WAAYW,EAF9B,EAE8BA,OAClC,OACE,kBAAC6Q,GAAA,EAAD,CAAQjP,MAAM,UAAU+H,SAAS,UAC/B,kBAACmH,GAAA,EAAD,CAAS7M,QAAQ,UACb4E,GACA,kBAAC0D,GAAA,EAAD,CAAYvH,QAASsL,EAAcpM,UAAW0M,EAAE1B,cAC9C,kBAAC,KAAD,OAGH5D,EAAWiF,EAAQ,wBAA0BQ,GAAYC,QAC1D,kBAACC,GAAD,CACEtF,eAAgBA,EAChBC,qBAAsBA,EACtBN,SAAUA,EACVC,UAAWA,EACXE,gBAAiBA,EACjBC,eAAgBA,EAChBF,cAAeA,EACf/I,MAAOiO,IAERpF,GACC,kBAAC4F,GAAD,CACEtC,cAAeA,EACfC,sBAAuBA,KAGzBhG,GAAayC,GAAY,kBAAC6F,GAAD,CAAgBjE,WAAYA,IACvD,yBAAKhJ,UAAW0M,EAAEzB,OACjBkB,EACAH,EAAK/B,OAAS,GACb,kBAACiD,GAAA,EAAD,CACEzM,SAAU,SAAC2B,EAAG+K,GAAJ,OAAejB,EAAYiB,EAAOC,gBAC5CrT,MAAOkS,GAEND,EAAKtS,KAAI,SAACmS,GAAD,OACR,kBAACwB,GAAA,EAAD,CACEhT,IAAKwR,EACLvN,QAAS,CAAEmE,KAAMiK,EAAErB,cAAeiC,QAASZ,EAAEf,YAC7C3L,UAAW0M,EAAEtB,IACbmC,KAAM3B,GAAQC,GACdxL,MAAOiM,EAAU,GAAKT,EACtB9R,MAAO8R,EAAEuB,oBAKC,SAAjBrS,GAA2B0R,IAAkBtR,GAC5C,kBAAC,IAAD,CACE2F,QAAS,WACPyL,GAAsB,IAExBvM,UAAW0M,EAAE1B,cAJf,eA1HUe,EAgIehR,GA/HxB6G,OAAO,GAAGC,cAAgBkK,EAAEjK,MAAM,IAkIpC3G,GACC,kBAAC,IAAD,CAAQ2F,QAAShF,EAAQkE,UAAW0M,EAAE1B,cAAtC,WAIAsB,GACA,kBAACjE,GAAA,EAAD,CACEmF,KAAK,6DACLxN,UAAW0M,EAAE1B,cAEb,kBAACyC,GAAD,Y,0TCrJCC,GAAY,CACvB,CACEvO,KAAM,QACNwO,KAAMC,KACNC,QAAS,CACPC,UAAW,GACXC,QAAS,KAGb,CACE5O,KAAM,qBACNwO,KAAMK,KACNH,QAAS,CACPC,UAAW,CACTpN,KAAM,qBACNuN,OAAQ,CAAC,QAAS,WAClBC,mBAAoB,CAClB,eACA,UAEA,UAIJH,QAAS,CACP,CACEI,SACE,yFAEJ,CACEA,SACE,4FAKV,CACEhP,KAAM,uBACNwO,KAAMS,KACNP,QAAS,CACPC,UAAW,CACTpN,KAAM,uBACNuN,OAAQ,CAAC,QAAS,YAEpBF,QAAS,CACP,CACEI,SACE,yFAEJ,CACEA,SACE,4FAKV,CACEhP,KAAM,qBACNwO,KAAMU,KACNR,QAAS,CACPC,UAAW,CACTpN,KAAM,qBACNuN,OAAQ,CAAC,QAAS,WAClBC,mBAAoB,CAAC,eAAgB,UAAW,UAElDH,QAAS,CACP,CACEO,SACE,oFAKV,CACEnP,KAAM,aACNwO,KAAMY,KACNV,QAAS,CACPC,UAAW,CACTpN,KAAM,aACN5H,YAAa,8BACb0V,SAAU,CACRC,UAAW,CACT,CACE/N,KAAM,OACNvB,KAAM,iBACNkN,MAAO,wBAKf0B,QAAS,CACP,CACEW,OAAQ,wCAEV,CACEA,OAAQ,2CAKhB,CACEvP,KAAM,2BACNwO,KAAMgB,KACNd,QAAS,CACPC,UAAW,CACTpN,KAAM,0BACNkO,gBAAgB,EAChBX,OAAQ,CACN,CACEpV,GAAI,OACJgW,YAAa,OACb/V,YAAa,gBAEf,CACED,GAAI,MACJgW,YAAa,MACb/V,YAAa,iCAInBiV,QAAS,CACP,CACEe,SACE,0EAEJ,CACEA,SAAU,qDAKlB,CACE3P,KAAM,sBACNwO,KAAMoB,KACNlB,QAAS,CACPC,UAAW,CACTpN,KAAM,sBACNuN,OAAQ,CAAC,qBAAsB,uBAEjCF,QAAS,CACP,CACEe,SAAU,qCAEZ,CACEA,SAAU,2CAEZ,CACEA,SACE,qEAKV,CACE3P,KAAM,sBACNwO,KAAMqB,KACNnB,QAAS,CACPC,UAAW,CACTpN,KAAM,sBACN5H,YAAa,+BAEfiV,QAAS,CACP,CACEkB,SAAU,mDAKlB,CACE9P,KAAM,YACNwO,KAAMuB,KACNrB,QAAS,CACP/U,YAAa,8BACbgV,UAAW,CACTpN,KAAM,YACNyO,OAAQ,CACN,CACEC,UAAW,WACXtB,UAAW,CACTpN,KAAM,aACN8N,SAAU,CACRC,UAAW,CACT,CACE/N,KAAM,OACNvB,KAAM,eACNkN,MAAO,uBAMjB,CACE+C,UAAW,eACXtB,UAAW,CACTpN,KAAM,qBACNuN,OAAQ,CAAC,cACTC,mBAAoB,CAAC,oBAK7BH,QAAS,CACP,CACEI,SACE,yFAEJ,CACEA,SACE,4FAKV,CACEhP,KAAM,kBACNwO,KAAM0B,KACNxB,QAAS,CACPC,UAAW,CACTpN,KAAM,kBACN5H,YAAa,mBAEfiV,QAAS,CAAC,OAKHuB,GAAc5B,GAAU6B,QAAO,SAACC,EAAK3D,GAGhD,OAFA2D,EAAI3D,EAAE1M,MAAQ0M,EACd2D,EAAI3D,EAAEgC,QAAQC,UAAUpN,MAAQmL,EACzB2D,IACN,IAEY9B,M,0CClOT/P,GAAYC,YAAW,IAEd,eASR,IARL6R,EAQI,EARJA,YACAC,EAOI,EAPJA,kBACAC,EAMI,EANJA,YACAC,EAKI,EALJA,cACAC,EAII,EAJJA,WACAC,EAGI,EAHJA,WACAC,EAEI,EAFJA,iBACAC,EACI,EADJA,gBAEMtD,EAAI/O,KAEJsS,EAASC,uBACb,SAACC,GACCL,EAAWK,EAAc,MAE3B,CAACL,IAPC,MAgBoCM,aAAY,CAAEH,WAA9CI,EAhBJ,EAgBIA,aAAcC,EAhBlB,EAgBkBA,cAEtB,OACE,kBAAC/M,EAAA,EAAD,CAAQE,KAAMoM,EAAYxR,QAASuR,GACjC,kBAACW,GAAA,EAAD,CAAMvQ,UAAW0M,EAAEvB,MACjB,kBAACqF,GAAA,EAAD,CAAU1P,QAAS6O,EAAanX,QAAM,GACpC,kBAACiY,GAAA,EAAD,KACE,kBAAC,KAAD,OAEF,kBAACC,GAAA,EAAD,cAEF,kBAACF,GAAA,EAAD,iBAAcH,IAAd,CAA8B7X,QAAM,IAClC,kBAACiY,GAAA,EAAD,KACE,kBAAC,KAAD,OAEF,kBAACC,GAAA,EAAD,kBACA,0BAAWJ,MAEb,kBAACK,GAAA,EAAD,qBACwB,IAAvBlB,EAAYxF,OACX,kBAACuG,GAAA,EAAD,KACE,kBAACE,GAAA,EAAD,CACEpI,MAAO,CAAEsI,UAAW,SAAUlT,MAAOtF,KAAY,OADnD,oBAOFqX,EAAY/V,KAAI,SAACmX,EAAIC,GAAL,OACd,kBAACN,GAAA,EAAD,CAAUnW,IAAKwW,EAAGE,SAAUvY,QAAM,GAChC,kBAACiY,GAAA,EAAD,CACE3P,QAAS,WACPiP,EAAiBc,KAGnB,kBAAC,KAAD,OAEF,kBAACH,GAAA,EAAD,CACE5P,QAAS,WACPiP,EAAiBc,KAGlBA,EAAGE,UAEN,kBAACN,GAAA,EAAD,CACE3P,QAAS,WAnDvB,IAAsBkQ,IAoDOH,EAAGhY,GAnD9B6W,EACED,EAAYwB,QAAO,SAACC,GAAD,OAAmBA,EAAcrY,KAAOmY,QAqDjD,kBAAC,KAAD,WAKR,kBAACL,GAAA,EAAD,6BACCjD,GAAUhU,KAAI,SAACyX,GAAD,OACb,kBAACX,GAAA,EAAD,CACEhY,QAAM,EACN6B,IAAK8W,EAAShS,KACd2B,QAAS,kBAAMkP,EAAgBmB,KAE/B,kBAACV,GAAA,EAAD,KACE,kBAACU,EAASxD,KAAV,OAEF,kBAAC+C,GAAA,EAAD,KAAeS,EAAShS,UAG5B,kBAACwR,GAAA,EAAD,qBAOA,kBAACH,GAAA,EAAD,CACEhY,QAAM,EACNsI,QAAS,WACP0D,OAAOU,SAASsI,KACd,wEAGJ,kBAACiD,GAAA,EAAD,KACE,kBAAC,KAAD,OAEF,kBAACC,GAAA,EAAD,mBCzHGU,GAAgBnY,wBAAc,CACzCwW,YAAa,GACbC,kBAAmB,kBAAM,MACzBM,gBAAiB,kBAAM,MACvBL,YAAa,kBAAM,MACnBG,WAAY,kBAAM,MAClBC,iBAAkB,kBAAM,MACxBpL,WAAW,EACX0C,WAAW,EACXC,cAAe,kBAAM,MACrBC,gBAAiB,kBAAM,MACvBC,eAAgB,kBAAM,MACtBC,gBAAgB,EAChBC,qBAAsB,kBAAM,MAC5BN,UAAU,EACV4B,WAAY,kBAAM,MAClBrN,WAAY,KACZwC,aAAc,kBAAM,MACpBjD,KAAM,KACNmW,WAAY,kBAAM,QAGdC,GAAa,GAEJ,eAMR,IAAD,IALJnF,yBAKI,MALgBmF,GAKhB,EAJJjF,EAII,EAJJA,MACAJ,EAGI,EAHJA,WACAC,EAEI,EAFJA,YAEI,IADJF,YACI,MADGsF,GACH,IACmCzU,oBAAS,GAD5C,mBACGgT,EADH,KACe0B,EADf,OAE6C1U,oBAAS,GAFtD,mBAEGuG,EAFH,KAEoBmJ,EAFpB,KAGAiF,EAAgBlX,qBAAW8W,IAC1BI,EAAc/B,cAAa+B,EAAc/B,YAAc,IAE5D,IAAMnD,EAAUmF,YAAc,sBAExBrF,EAAe8D,uBAAY,kBAAMqB,GAAiB,KAAO,IACzD3B,EAAgBM,uBAAY,kBAAMqB,GAAiB,KAAQ,IAEjE,OACE,oCACE,kBAAC,GAAD,eACEvF,KAAMA,EACNC,WAAYA,EACZC,YAAaA,EACbC,kBAAmBA,EACnBC,aAAcA,EACdE,QAASA,GACLkF,EAPN,CAQEjF,sBAAuBA,EACvBF,MAAOA,KAET,kBAACqF,GAAD,CACE7B,WAAYA,EACZD,cAAeA,EACfD,YAAa6B,EAAc7B,YAC3BF,YAAa+B,EAAc/B,YAC3BC,kBAAmB8B,EAAc9B,kBACjCI,WAAY0B,EAAc1B,WAC1BE,gBAAiBwB,EAAcxB,gBAC/BD,iBAAkByB,EAAczB,mBAElC,kBAAC4B,GAAD,CACEhW,WAAY6V,EAAc7V,WAC1ByH,gBAAiBA,EACjB/E,QAAS,kBAAMkO,GAAsB,IACrCpO,aAAcqT,EAAcrT,aAC5BkT,WAAYG,EAAcH,e,2IC7D5BO,GAAoBpU,YAAOqU,KAAPrU,CAAoB,CAC5C2F,gBAAiB2O,KAAK,KACtBC,aAAa,aAAD,OAAeD,KAAK,MAChCrH,cAAe,GACfjE,UAAW,iCAEPwL,GAAsBxU,YAAOyU,KAAPzU,CAAsB,CAChDsL,WAAY,KAERoJ,GAAsB1U,YAAO2U,KAAP3U,CAAsB,CAChD2F,gBAAiB2O,KAAK,KACtBM,UAAU,aAAD,OAAeN,KAAK,QAGhB,eASR,IAAD,IARJrO,YAQI,SAPJ4I,EAOI,EAPJA,MACA3T,EAMI,EANJA,SACA2Z,EAKI,EALJA,gBACAhU,EAII,EAJJA,QACKiU,EAGD,EAHJC,IAGI,IAFJC,mBAEI,aADJC,eACI,MADM,GACN,IACmC5V,oBAAS,GAD5C,mBACG6V,EADH,KACeC,EADf,KAEJ,OACE,kBAACC,GAAA,EAAD,CAAQnP,KAAMA,EAAMpF,QAASA,EAASqU,WAAYA,GAChD,kBAACd,GAAD,KACE,kBAACiB,GAAA,EAAD,CAAKjQ,QAAQ,OAAOE,WAAW,UAC7B,0BAAMwF,MAAO,CAAE5K,MAAO4U,EAAQC,IAAI,UAAO5X,IAAc0R,GACvD,yBAAK/D,MAAO,CAAE4C,SAAU,KACxB,kBAAC7C,GAAA,EAAD,CAAYvH,QAAS,kBAAM6R,GAAkBD,KAC1CA,EAAa,kBAAC,KAAD,MAAyB,kBAAC,KAAD,OAEzC,kBAACrK,GAAA,EAAD,CAAYvH,QAASzC,GACnB,kBAAC,KAAD,SAIN,kBAAC2T,GAAD,KACE,kBAACa,GAAA,EAAD,CAAKC,SAAS,OAAOpH,SAAU,IAAKqH,WAAY,KAC7CV,EACC,kBAAC,KAAD,CAAeW,OAAQX,IAEvB3Z,KAIJ8Z,GACA,kBAACN,GAAD,KACE,kBAAC,IAAD,CAAQpR,QAAS,kBAAMzC,MACrB,0BAAMiK,MAAO,CAAE5K,MAAOoU,KAAK,KAAM/I,WAAY,MAA7C,UAED0J,EAAQ/Y,KAAI,SAACuZ,EAAQjC,GAAT,OACX,kBAAC,IAAD,CAAQtI,SAAUuK,EAAOvK,SAAUrO,IAAK2W,EAAGlQ,QAASmS,EAAOnS,SACzD,0BACEwH,MAAO,CAAE5K,MAAO4U,EAAQC,IAAI,KAAOW,IAAK,KAAMnK,WAAY,MAEzDkK,EAAOE,aCnElBxV,GAAYC,YAAW,CAC3BwV,UAAW,CACT3V,QAAS,GACTK,MAAO,IACP4E,OAAQ,IACRqD,OAAQ,iBACR7H,OAAQ,IAEVmV,QAAS,CACPvV,MAAO,GACP4E,OAAQ,MAIG,eAAkC,IAA/Be,EAA8B,EAA9BA,KAAMpF,EAAwB,EAAxBA,QAASiV,EAAe,EAAfA,SACzB5G,EAAI/O,KACV,OACE,kBAAC4V,GAAD,CAAclH,MAAM,uBAAuB5I,KAAMA,EAAMpF,QAASA,GAC7DqP,GAAUhU,KAAI,SAACyX,GAAD,OACb,kBAAC,IAAD,CACE9W,IAAK8W,EAAShS,KACd2B,QAAS,kBAAMwS,EAASnC,IACxBnR,UAAW0M,EAAE0G,WAEb,6BACE,6BAAMjC,EAAShS,MACf,6BACE,kBAACgS,EAASxD,KAAV,CAAe3N,UAAW0M,EAAE2G,kBCuB3B,IACb,CACElU,KAAM,gBACNqU,SAAU,UACV7F,KAzDgB,SAACvE,GACnB,OACE,kBAACC,GAAA,EAAD,iBAAaD,EAAb,CAAoBqK,QAAQ,cAC1B,uBAAG5a,GAAG,aACJ,0BACEA,GAAG,eACH6a,YAAU,eACVpL,MAAO,CAAEqL,KAAM,WACf7V,MAAM,KACN4E,OAAO,OAET,uBAAG7J,GAAG,eAAe6a,YAAU,gBAC7B,0BACEpL,MAAO,CAAEqL,KAAM,QACfrK,EAAE,0nBAEJ,0BACEhB,MAAO,CAAEqL,KAAM,QACfC,EAAE,QACFC,EAAE,QACF/V,MAAM,QACN4E,OAAO,MAET,0BACE4F,MAAO,CAAEqL,KAAM,QACfC,EAAE,QACFC,EAAE,QACF/V,MAAM,OACN4E,OAAO,MAET,0BACE4F,MAAO,CAAEqL,KAAM,QACfC,EAAE,QACFC,EAAE,QACF/V,MAAM,OACN4E,OAAO,MAET,0BAAM4F,MAAO,CAAEqL,KAAM,QAAUrK,EAAE,sBACjC,0BACEhB,MAAO,CAAEqL,KAAM,QACfrK,EAAE,8QAEJ,0BACEhB,MAAO,CAAEqL,KAAM,QACfrK,EAAE,qHAEJ,0BAAMhB,MAAO,CAAEqL,KAAM,QAAUrK,EAAE,0BAYvCuE,QAAS,CACPC,UAAW,GACXC,QAAS,M,yCC1DTpQ,GAAYC,YAAW,CAC3B6E,KAAM,CACJgD,SAAU,QACV7C,QAAS,OACTC,cAAe,SACfgD,OAAQ,EACRC,KAAM,EACNgO,MAAO,EACPhR,WAAY,SACZmD,cAAe,QAEjB8N,SAAU,CACRnR,QAAS,OACTO,gBAAiBoP,IAAI,KACrB7U,MAAO,OACPD,QAAS,EACT+M,aAAc,KAIH,eAAiB,IAAdwJ,EAAa,EAAbA,OACVtH,EAAI/O,KACV,OACE,yBAAKqC,UAAW0M,EAAEjK,MACfuR,EAAOta,KAAI,SAAC8F,GAAD,OACV,kBAACyU,GAAA,EAAD,CAAU5Z,IAAKmF,EAAI3G,GAAIqb,GAAI1U,EAAI2U,KAAO,KACpC,kBAACC,GAAA,EAAD,CAAMF,GAAI1U,EAAI2U,KAAO,KACnB,yBAAKnU,UAAW0M,EAAEqH,UAAWvU,EAAI6U,gBC5B9B,cAAO,IAAD,EACYxX,mBAAS,IADrB,mBACZmX,EADY,KACJM,EADI,KA6BnB,OA3BApX,qBAAU,WACR,GAAsB,IAAlB8W,EAAO/J,OAAc,OAAO,aAChC,IAAI9M,EAAWC,aAAY,WACzBkX,EACEN,EACGta,KAAI,SAAC8F,GAAD,sBACAA,EADA,CAEH2U,KAAM3U,EAAI2U,KAXG,SAadlD,QAAO,SAACzR,GAAD,OAASA,EAAI2U,KAAO,QAbb,KAgBrB,OAAO,kBAAM9W,cAAcF,MAC1B,CAAC6W,IAcG,CAACA,EAZR,SAAkBK,GAChBC,EACEN,EAAOO,OAAO,CACZ,CACE1b,GAAI2b,KAAKC,SAAS7U,WAAW8U,MAAM,KAAK,GACxCL,UACAF,KAAM,WCdVxW,GAAYC,YAAW,CAC3BwV,UAAW,CACT3V,QAAS,GACTK,MAAO,IACP4E,OAAQ,IACRqD,OAAQ,iBACR7H,OAAQ,IAEVmV,QAAS,CACPvV,MAAO,GACP4E,OAAQ,IAEViS,YAAa,CACX7W,MAAO,GACP4E,OAAQ,IAEVkS,eAAgB,CACdnX,QAAS,GACTC,MAAOtF,KAAY,KACnB,MAAO,CACLsF,MAAOtF,IAAY,KACnByc,eAAgB,WAKhBC,GAAQ,CACZC,QAAS,CACPtG,UAAW,CACT,CACEtP,KAAM,gCACNkN,MAAO,kCACP2I,YAAa,iDACbtU,KAAM,OACNuU,YAAY,GAEd,CACE9V,KAAM,sBACNkN,MAAO,aACP2I,YAAa,YACbtU,KAAM,OACNuU,YAAY,GAEd,CACE9V,KAAM,4BACNkN,MAAO,8BACP2I,YAAa,sBACbtU,KAAM,OACNuU,YAAY,GAEd,CACE9V,KAAM,uCACNkN,MAAO,+BACP2I,YAAa,8BACbtU,KAAM,OACNuU,YAAY,GAEd,CACE9V,KAAM,qCACNkN,MAAO,aACP2I,YAAa,qBACbtU,KAAM,OACNuU,YAAY,GAEd,CACE9V,KAAM,qCACNkN,MAAO,uBACP2I,YAAa,YACbtU,KAAM,OACNuU,YAAY,MAML,eAA8D,IAA3DxR,EAA0D,EAA1DA,KAAMpF,EAAoD,EAApDA,QAAmB6W,GAAiC,EAA3C5B,SAA2C,EAAjC4B,UACnCxI,GADoE,EAAvByI,iBACzCxX,MADgE,EAElCd,mBAAS,MAFyB,mBAEnE9B,EAFmE,KAErDqa,EAFqD,OAGpCvY,mBAAS,wBAH2B,mBAGnEwY,EAHmE,KAGtDC,EAHsD,OAI/CC,KAJ+C,mBAInEvB,EAJmE,KAI3DwB,EAJ2D,OAKblc,IAArDY,EALkE,EAKlEA,UAAWC,EALuD,EAKvDA,aAAcZ,EALyC,EAKzCA,WAAYC,EAL6B,EAK7BA,YAIvCic,EAAoB,uCAAG,WAAOC,GAAP,eAAAla,EAAA,sDAC3B,GAAyB,YAArBka,EAAQlC,SAAwB,CAC5BmC,EAAS,CACb/Z,KAAM,CACJM,eAAgBwZ,EAAQ,iCACxBvZ,OAAQuZ,EAAQ,uBAChBtZ,WAAYsZ,EAAQ,6BACpBrZ,oBAAqBqZ,EAAQ,wCAC7BpZ,iBAAiB,EACjBC,uBAAwB,sBAE1BC,QAAS,CACPC,MAAO,CACLC,OAAQgZ,EAAQ,sCAChBvZ,OAAQuZ,EAAQ,yCAKtB,IACEja,UAAQC,UAAUia,GAClB,MAAOnW,GACPgW,EAAS,2BAA6BhW,EAAII,YAG5CzF,EAAa,eACRD,EADO,GAEPwb,EAFO,CAGV,gBAAiBA,EAAQlC,YAG3BnV,IA/ByB,2CAAH,sDAmC1B,OACE,oCACE,kBAACkV,GAAD,CACElH,MAAOgJ,EACP5R,KAAMA,EACNpF,QAAS,WACPA,KAEF6W,SAAUA,GAETnU,IAAQhG,IACP6a,GAAclc,KAAI,SAACyX,EAAUH,GAAX,OAChB,kBAAC,IAAD,CACE3W,IAAK8W,EAAShS,KACd2B,QAAS,WACPsU,EAAgBjE,EAASqC,UACzB8B,EAAe,4BAAD,OAA6BnE,EAAShS,QAEtDa,UAAW0M,EAAE0G,WAEb,6BACE,6BAAMjC,EAAShS,MACf,6BACE,kBAACgS,EAASxD,KAAV,CAAe3N,UAAW0M,EAAEiI,oBAKpB,YAAjB5Z,GACC,yBAAKiF,UAAW0M,EAAEkI,gBAAlB,kBACkB,IAChB,uBAAGpH,KAAK,qHAAR,iEAFF,MAQAzM,IAAQhG,IAAiB+Z,GAAM/Z,IAC/B,kBAAC,KAAD,CACEgF,QAAQ,OACRlC,KAAMiX,GAAM/Z,GACZ8a,iBAAkB,SAACC,EAAYC,GAC7Bvc,EAAYsc,EAAYC,IAE1Bb,SAAU,SAACQ,GACTA,EAAO,SAAe3a,EACtB0a,EAAqBC,IAEvBM,eAAgB,CACd,gCAAiCzc,EAC/B,iCAEF,sBAAuBA,EAAW,uBAClC,4BAA6BA,EAC3B,6BAEF,uCAAwCA,EACtC,wCAEF,qCAAsCA,EACpC,sCAEF,qCAAsCA,EACpC,sCAEF,gBAAiBA,EAAW,oBAIlC,kBAAC0c,GAAD,CAAajC,OAAQA,OC1LvBrW,GAAYC,YAAW,CAC3BgG,UAAW,CACThB,QAAS,OACTC,cAAe,SACfM,gBAAiB/K,KAAY,KAC7BsK,OAAQ,WAINwT,GAAmB1Y,YAAO,MAAPA,EAAc,gBAAGxF,EAAH,EAAGA,MAAH,oBACrC4K,QAAS,OACTqE,eAAgB,SAChBiE,SAAU,EACVxN,MAAO,OACPyY,UAAW,SACX1Y,QAAS,KACRzF,EAAMwT,YAAYC,KAAK,MAAQ,CAC9BhO,QAAS,QAGP2Y,GAAU5Y,YAAO,MAAPA,EAAc,cAAGxF,MAAH,MAAgB,CAC5C4K,QAAS,OACTC,cAAe,SACf/E,MAAO,oBACP4H,WAAY,GACZoN,SAAU,QAGNuD,GAAQ7Y,YAAO,MAAPA,CAAc,CAC1BO,UAAW,GACX4I,SAAU,GACVoC,WAAY,IACZrL,MAAOtF,KAAY,OAGfke,GAAW9Y,YAAO,MAAPA,CAAc,CAC7BmJ,SAAU,GAEV5I,UAAW,EACXL,MAAOtF,KAAY,OAEfme,GAAa/Y,YAAO,MAAPA,CAAc,CAAEO,UAAW,KACxCyY,GAAShZ,YAAO,IAAPA,CAAY,CACzBoF,QAAS,QACTlF,MAAOtF,IAAY,KACnB2F,UAAW,EACXiF,OAAQ,UACR6R,eAAgB,SAEZ4B,GAAcjZ,YAAO,MAAPA,CAAc,CAEhCmJ,SAAU,GACV6D,aAAc,EACd9M,MAAOtF,KAAY,OAEfse,GAAalZ,YAAO,MAAPA,CAAc,CAC/BE,MAAOtF,KAAY,KACnB,MAAO,CACL4K,OAAQ,UACRtF,MAAOtF,IAAY,KACnByc,eAAgB,UAGd8B,GAAanZ,YAAO,MAAPA,CAAc,CAC/BE,MAAOtF,KAAY,KACnB0Q,WAAY,KAER8N,GAAepZ,YAAO,MAAPA,CAAc,CAAEkF,OAAQ,MAE9B,eAOR,IANLmU,EAMI,EANJA,WACAC,EAKI,EALJA,eAKI,IAJJC,wBAII,aAHJtH,mBAGI,MAHU,GAGV,EAFJM,EAEI,EAFJA,iBACAiH,EACI,EADJA,mBAEMtK,EAAI/O,KACJkH,EAAUoD,KAFZ,EAKqDpL,oBAAS,GAL9D,mBAKGoa,EALH,KAKwBC,EALxB,KAMJha,qBAAU,WAAM,4CAEd,4BAAA1B,EAAA,sEAC2B2b,MACvB,+FACA9X,MAAK,SAAC+X,GAAD,OAAOA,EAAEC,UAHlB,QACQC,EADR,QAIiBxK,UAAYyK,GAAYzK,SACrCoK,EAA0BI,EAAWxK,SALzC,4CAFc,0DAUd0K,KACC,IAjBC,MAsBA3a,oBAAS,GAtBT,mBAoBF4a,EApBE,KAqBFC,EArBE,OAuByD7a,oBAAS,GAvBlE,mBAuBG8a,EAvBH,KAuB0BC,EAvB1B,KAwBE3H,EAASpF,cAAiB,SAACsF,GAC/B0G,EAAW1G,EAAc,OAzBvB,EA4BkCC,aAAY,CAAEH,WAA9CI,EA5BF,EA4BEA,aAAcC,EA5BhB,EA4BgBA,cAEpB,OACE,yBAAKtQ,UAAW0M,EAAE9I,WAChB,kBAACiU,GAAD,CACEpU,KAAMgU,EACNnE,SAAU,SAACnC,GACTtM,EAAQO,QAAQ,mBAAoB,CAClC0S,iBAAkB3G,EAAShS,OAE7B2X,EAAe3F,IAEjB9S,QAAS,kBAAMqZ,GAAmC,MAEpD,kBAACK,GAAD,CACEtU,KAAMkU,EACNrE,SAAU,SAACnC,GAAD,OAAc2F,EAAe3F,IACvC9S,QAAS,kBAAMuZ,GAA4B,MAE7C,kBAACI,GAAD,CACE7L,kBAAmB,CACjB8K,GACE,kBAAC,IAAD,CACE5c,IAAI,kBACJ2F,UAAW0M,EAAE1B,aACbwC,KAAK,uEAHP,qBAKqByJ,IAGtBA,GAAuBF,GACtB,kBAAC,IAAD,CACE1c,IAAI,WACJmT,KAAK,sEACLxN,UAAW0M,EAAE1B,cAHf,aAQFiG,OAAO7V,WAEX,kBAAC8a,GAAD,KACE,kBAACE,GAAD,KACE,kBAACzS,EAAA,EAAD,CAAMC,WAAS,GACb,kBAACD,EAAA,EAAD,CAAME,GAAI,GAAIlK,MAAI,GAChB,kBAAC0c,GAAD,4BACA,kBAACC,GAAD,mCAEF,kBAAC3S,EAAA,EAAD,CAAME,GAAI,EAAGlK,MAAI,GACf,kBAAC4c,GAAD,KACE,kBAACE,GAAD,cACA,kBAACD,GAAD,CACE1V,QAAS,WACP+D,EAAQO,QAAQ,mBAAoB,CAClC0S,iBAAkB,UAEpBhB,EAAepJ,GAAUuK,MAAK,SAACpM,GAAD,MAAkB,UAAXA,EAAE1M,WAL3C,YAUA,kBAACqX,GAAD,CACE1V,QAAS,kBAAM4W,GAAmC,KADpD,uBAKA,kBAAClB,GAAWnG,IACV,0BAAWC,KADb,aAIC0G,GACC,kBAACR,GAAD,CAAQ1V,QAASkW,GAAjB,8BAIF,kBAACR,GAAD,CAAQ1V,QAAS,kBAAM8W,GAA4B,KAAnD,yBAKF,kBAACrB,GAAD,KACE,kBAACE,GAAD,eACwB,IAAvBhH,EAAYxF,OACX,kBAAC0M,GAAD,wBAEAlH,EAAY/V,KAAI,SAACmX,EAAIG,GAAL,OACd,kBAACwF,GAAD,CAAQnc,IAAK2W,EAAGlQ,QAAS,kBAAMiP,EAAiBc,KAC7CA,EAAGE,cAKZ,kBAACwF,GAAD,KACE,kBAACE,GAAD,aACA,kBAACD,GAAD,CAAQhJ,KAAK,qEAAb,kCAGA,kBAACgJ,GAAD,CAAQhJ,KAAK,yFAAb,mBAIA,kBAACgJ,GAAD,CAAQhJ,KAAK,4DAAb,uBAQJ,kBAAC7J,EAAA,EAAD,CAAME,GAAI,EAAGlK,MAAI,GACf,kBAAC4c,GAAD,KACE,kBAACE,GAAD,cACA,kBAACC,GAAD,4JAIE,6BACA,6BALF,wJASE,6BACA,6BAVF,kBAWkB,IAChB,uBAAGlJ,KAAK,mDAAR,kDAEK,IAdP,iGAiBE,6BACA,+BAGJ,kBAAC+I,GAAD,KACE,kBAACE,GAAD,wBACA,kBAACC,GAAD,KACE,kBAACF,GAAD,CACElO,MAAO,CAAE1F,QAAS,UAClB9B,QAAS,kBAAM4W,GAAmC,KAFpD,mBAKU,IANZ,kDAWJ,kBAAC/T,EAAA,EAAD,CAAME,GAAI,GAAIlK,MAAI,GAChB,kBAACid,GAAD,Y,qBCtQRjZ,GAAYC,YAAW,CAC3Bsa,UAAW,CACTxS,WAAY,KAMD,eAA0B,IAAvB3L,EAAsB,EAAtBA,MAAO0G,EAAe,EAAfA,SACjBiM,EAAI/O,KAD4B,EAESd,mBAAS,CACtDsb,SAAS,EACTpC,SAAUhc,GAAS,KAJiB,0BAE7Boe,EAF6B,EAE7BA,QAASpC,EAFoB,EAEpBA,SAAYqC,EAFQ,KA8CtC,OAvCAlb,qBAAU,WACH6D,IAAQgV,IAA0B,YAAbA,EAGxBqC,EAAc,CAAED,UAASpC,SAAUhc,IAFnCqe,EAAc,CAAED,UAASpC,SAAUA,MAIpC,CAACA,EAAUoC,EAASpe,IAEvBmD,qBAAU,WACR,GAAKib,EAAL,CACA,IAAIE,EAAW,SAACjW,GACA,UAAVA,EAAE/H,MACJoG,EAASsV,GACTqC,EAAc,CAAED,SAAS,MAI7B,OADA3T,OAAO8T,iBAAiB,UAAWD,GAC5B,WACL7T,OAAO+T,oBAAoB,UAAWF,OAEvC,CAACF,EAASpC,EAAUtV,IAEvBvD,qBAAU,WACR,GAAK6Y,EAAL,CACA,GAAIoC,EAAS,CACX,IAAIK,EAAUtQ,YACZ,WACEzH,EAASsV,GACTqC,EAAc,CAAED,SAAS,MAE3Bpe,IAAUgc,EAAW0C,IAvCX,KA0CZ,OAAO,kBAAMC,aAAaF,IAE1B,OAAO,gBAER,CAACL,EAASpC,EAAUhc,EAAO0G,IAG5B,kBAACP,EAAA,EAAD,CACEF,UAAW0M,EAAEwL,UACb7X,MAAM,YACNN,QAAQ,WACR6I,KAAK,QACLL,WAAY,CACVoQ,WAAY,CAAErQ,MAAO,CAAE5K,MAAO,UAEhCkb,UAAW,SAACxW,GACI,UAAVA,EAAE/H,MACJ+H,EAAEyW,iBACFzW,EAAE0W,kBACF1W,EAAElD,OAAO6Z,SAGbC,WAAY,SAAC5W,GACXA,EAAE0W,mBAEJrY,SAAU,SAAC2B,GACTgW,EAAc,CACZD,SAAS,EACTpC,SAAU3T,EAAElD,OAAOnF,SAGvBA,MAAOgc,GAAY,M,uGCxEnBvQ,GAAYhI,YAAO,MAAPA,CAAc,CAC9B4M,SAAU,OACV1H,OAAQ,OACR2D,UAAW,aACXzD,QAAS,OACTC,cAAe,WAEXoW,GAAazb,YAAO,MAAPA,CAAc,CAC/BmJ,SAAU,GACVjJ,MAAOtF,KAAY,KACnBqF,QAAS,GACTmT,UAAW,WAEPsI,GAAY1b,YAAO,MAAPA,EAAc,gBAAGE,EAAH,EAAGA,MAAH,MAAgB,CAC9CA,MAAO,OACPyb,mBAAoB,eACpBjb,OAAQ,EACRT,QAAS,EACT0F,gBAAiBzF,EAAM,KACvBkF,QAAS,cACT+D,SAAU,GACVoC,WAAY,IACZ6H,UAAW,SACX3J,eAAgB,SAChByE,SAAU,MACVpF,aAAc,EACdtD,OAAQ,UACRoW,WAAY,OACZvS,WACE,2EACF,UAAW,CACT1D,gBAAiBzF,EAAM,MAGzB,aAAc,CACZyF,gBAAiBzF,EAAM,KACvB8I,UAAU,mBAAD,OAAqB9I,EAAK,MACnCoJ,UAAW,wBAITuS,GAASvN,gBACb,YASO,IARLgF,EAQI,EARJA,MACAhQ,EAOI,EAPJA,QACAwY,EAMI,EANJA,UACA/O,EAKI,EALJA,SACAgP,EAII,EAJJA,YACAC,EAGI,EAHJA,UACArR,EAEI,EAFJA,aACA4B,EACI,EADJA,MAEA,OACE,kBAACmP,GAAD,CACElZ,UAAWyZ,KAAW,CAAEH,YAAW/O,aACnCzJ,QAAS,kBAAMA,EAAQgQ,IACvByI,YAAa,kBAAMA,EAAYzI,IAC/B0I,UAAW,kBAAMA,EAAU1I,IAC3B3I,aAAc,kBAAMA,EAAa2I,IACjCpT,MAAOqN,GAAqBhB,IAE3B+G,MAIP,SAAU4I,EAAGC,GACX,OACED,EAAE5I,QAAU6I,EAAE7I,OACd4I,EAAEJ,YAAcK,EAAEL,WAClBI,EAAEnP,WAAaoP,EAAEpP,UACjBmP,EAAE3P,QAAU4P,EAAE5P,SAKL,eAAkD,IAA/C6P,EAA8C,EAA9CA,MAA8C,IAAvCN,iBAAuC,MAA3B,GAA2B,EAAvBvL,EAAuB,EAAvBA,QAASjN,EAAc,EAAdA,QAAc,EACftG,YAC7C,iBACA,KAH4D,mBACvDqf,EADuD,KACvCC,EADuC,OAKnBtf,YAAgB,eAAgB,GALb,mBAKvDuf,EALuD,KAKzCC,EALyC,KAO9D9c,qBAAU,WACJ6c,EAAeH,GACjBI,EAAmB,KAEpB,CAACA,EAAoBD,EAAcH,IAXwB,MAarBK,sBAAW,SAACrb,EAAOmX,GAC1D,OAAiB,OAAbA,EAA0B,KACN,kBAAbA,EACJnX,EACE,CAAC4V,KAAK0F,IAAInE,EAAUnX,EAAM,IAAK4V,KAAK2F,IAAIpE,EAAW,EAAGnX,EAAM,KADhD,KAGdmX,IACN,MApB2D,mBAavDqE,EAbuD,KAa1CC,EAb0C,KAsBxDC,EAAmBpK,uBACvB,SAACY,GAAD,OAAWuJ,EAAkB,CAACvJ,EAAOA,EAAQ,MAC7C,CAACuJ,IAEGE,EAAkBrK,uBAAY,SAACY,GAAD,OAAWuJ,EAAkBvJ,KAAQ,CACvEuJ,IAEIG,EAAiBtK,uBAAY,cAAU,IACvCuK,EAA6BvK,uBACjC,SAAC9N,GACmB,IAAdA,EAAEsY,SACJL,EAAkB,QAGtB,CAACA,IAEGM,EAAc9P,aAAiB/J,GAErC,OACE,kBAAC,GAAD,CACE0Y,UAAWiB,EACXtS,aAAcsS,GAEH,IAAVb,GACC,kBAACX,GAAD,uEAIF,kBAACpG,GAAA,EAAD,CAAK3H,SAAU,GACZ0P,KACCb,EACAvF,KAAK0F,IAAIN,EAAOG,EAAeF,IAC/BngB,KAAI,SAACsX,GAAD,OACJ,kBAACqI,GAAD,CACEvY,QAAS6Z,EACTtgB,IAAK2W,EACLF,MAAOE,EACPsI,UAAWA,EAAUtI,GACrBjH,MAAOuP,EAAUtI,GAAKjD,EAAQiD,GAAGjH,OAAS,WAAa,aACvDQ,SAAU6P,GAAepJ,GAAKoJ,EAAY,IAAMpJ,EAAIoJ,EAAY,GAChEb,YAAae,EACbnS,aAAcoS,EACdf,UAAWgB,QAIjB,kBAACK,GAAA,EAAD,CACEC,mBAAoB,CAAC,IAAK,IAAK,IAAK,IAAM,IAAM,KAChDhb,UAAU,MACV8Z,MAAOA,EACPmB,YAAalB,EACbmB,KAAMxG,KAAKyG,MAAMlB,EAAeF,GAChCqB,iBAAiB,oBACjBC,aAAc,SAAC/Y,EAAGgZ,GAAJ,OACZpB,EAAmBoB,EAAUvB,IAE/BwB,oBAAqB,SAACjZ,GAAD,OAAO0X,GAAsB1X,EAAElD,OAAOnF,Y,sMC/J7DuhB,GAAkB9d,YAAO,MAAPA,CAAc,CACpCO,UAAW,EACXyM,aAAc,KAEV+Q,GAAW/d,YAAO,WAAPA,CAAmB,CAClCM,MAAO,OACPyI,UAAW,MAEPhJ,GAAYC,YAAO,MAAPA,CAAc,CAC9BE,MAAOtF,IAAW,KAClBqF,QAAS,KAGL+d,GAAoB,CACxB,CACEnb,MAAO,wBACPtG,MAAO,eAET,CACEsG,MAAO,aACPtG,MAAO,WAII,eAAsC,IAAnC0J,EAAkC,EAAlCA,KAAMpF,EAA4B,EAA5BA,QAASod,EAAmB,EAAnBA,aAAmB,EACjB5e,mBAAS,IADQ,mBAC3CmJ,EAD2C,KAClC0V,EADkC,OAEjB7e,mBAAS,eAFQ,mBAE3C8e,EAF2C,KAElCC,EAFkC,OAGxB/e,mBAAS,IAHe,mBAG3C0B,EAH2C,KAGpCC,EAHoC,KAIlD,OACE,kBAAC+U,GAAD,CACElH,MAAM,aACN5I,KAAMA,EACNpF,QAASA,EACToU,QAAS,CACP,CACEU,KAAM,cACNrS,QAAS,WACP,IACE2a,EACEzV,EACG0O,MAAM,MACNhb,KAAI,SAACmiB,GAAD,OAAOA,EAAEC,UACb7K,OAAO7V,SACP1B,KAAI,SAACqS,GACJ,GAAgB,WAAZ4P,EACF,MAAO,CAAExN,SAAUpC,GAErB,IAAIgQ,EAAYhQ,EACbiQ,QAAQ,QAAS,IACjBtH,MAAM,KACN5S,OAAO,GAAG,GAIb,OAHIiK,EAAEtR,SAAS,wBACbshB,EAAY,OAENA,EAAU3O,eAChB,IAAK,MACL,IAAK,MACL,IAAK,MACL,IAAK,OACL,IAAK,MACH,MAAO,CAAEe,SAAUpC,GAErB,IAAK,MACH,MAAO,CAAE2C,OAAQ3C,GAEnB,IAAK,MACL,IAAK,MACH,MAAO,CAAEkD,SAAUlD,GAErB,QACE,MAAM,IAAIrR,MAAJ,qCAC0BqhB,EAD1B,iBAC4ChQ,EAD5C,UAQXkF,OAAO7V,UAEZ,MAAOgH,GACP5D,EAAS4D,EAAExC,iBAMnB,kBAAC0b,GAAD,KACE,kBAAC,WAAD,CACEW,QAAST,GACTU,aAAcV,GAAkB,GAChC/a,SAAU,SAAC0b,GACTP,EAAcO,EAAIpiB,WAIvBwE,GAAS,kBAAC,GAAD,KAAYA,GACtB,kBAACgd,GAAD,CACE9a,SAAU,SAAC2B,EAAGga,GAAJ,OAAUV,EAActZ,EAAElD,OAAOnF,QAC3Cib,YAAa,wC,qDCzGN,YAACqH,GACd,IAAIC,EAuBJ,OAtBKvb,IAAQsb,KACNtb,IAAQsb,EAAOlO,YAClBmO,EAAaC,UAAUF,EAAOlO,UAAUqO,MAA3B,qDAIVzb,IAAQsb,EAAO/N,YAClBgO,EAAaC,UAAUF,EAAO/N,UAAUkO,MAA3B,qDAIVzb,IAAQsb,EAAOpN,YAClBqN,EAAaC,UAAUF,EAAOpN,UAAUuN,MAA3B,qDAIVzb,IAAQsb,EAAO3N,UAClB4N,EAAaC,UAAUF,EAAO3N,QAAQ8N,MAAzB,sDAKVF,GCxBM,YAACG,GACd,IAAIC,EAAa,OACbC,EAAgBF,EAAWD,MAAX,iDAmBpB,OAhBKzb,IAAQ4b,KACXA,EAAgBA,EAAc,GAAGvP,eAGf,QAAlBuP,GACkB,SAAlBA,GACkB,QAAlBA,GACkB,QAAlBA,GACkB,QAAlBA,GACkB,QAAlBA,IAEAD,EAAa,SACO,QAAlBC,GAA6C,QAAlBA,IAAyBD,EAAa,SAC/C,QAAlBC,IAAyBD,EAAa,SACpB,QAAlBC,IAAyBD,EAAa,OACpB,QAAlBC,IAAyBD,EAAa,SACnCA,G,mBCfIE,GAAgB,SAACP,GAO5B,OALKtb,IAAQsb,EAAOC,YAGLO,GAAqBR,GAAQ,GAF7BA,EAAOC,YAOXQ,GAAe,SAACT,GAC3B,OACEA,EAAOlO,UACPkO,EAAO/N,UACP+N,EAAOpN,UACPoN,EAAO3N,aACP/T,GAmCSoiB,GA/BkB,SAACT,EAAYU,EAAKC,GAC/C,IAAIvc,EAAOwc,GAAuBF,GAClC,MAAa,UAATtc,EACK,CACLuc,WAAYA,EACZ9O,SAAU6O,EACVV,WAAYA,GAGH,UAAT5b,EACK,CACLuc,WAAYA,EACZ3O,SAAU0O,EACVV,WAAYA,GAGH,UAAT5b,EACK,CACLuc,WAAYA,EACZhO,SAAU+N,EACVV,WAAYA,GAGH,QAAT5b,EACK,CACLuc,WAAYA,EACZvO,OAAQsO,EACRV,WAAYA,QAJhB,GA0BWa,GAhBoB,SAACtP,EAASyO,GACzC,IAAKzO,IAAYA,EAAQE,UAAYuO,EAAY,OAAO,KAExD,IAHwD,IAEhDvO,EAAYF,EAAZE,QACCiD,EAAI,EAAGA,EAAIjD,EAAQ9D,OAAQ+G,IAClC,IAAKjQ,IAAQgN,EAAQiD,IAAK,CACxB,IAAMoM,EAAeP,GAAqB9O,EAAQiD,IAIlD,GAHqC,qBAA1BjD,EAAQiD,GAAGsL,aACpBc,EAAa,GAAKrP,EAAQiD,GAAGsL,YAE3Bc,EAAa,KAAOd,EACtB,OAAOvO,EAAQiD,GAIrB,OAAO,MA2BIqM,GAvBoB,SAACxP,GAChC,GAAKA,GAAYA,EAAQE,QAAzB,CACA,IAAK,IAAIiD,EAAI,EAAGA,EAAInD,EAAQE,QAAQ9D,OAAQ+G,IAC1C,IAAIjQ,IAAQ8M,EAAQE,QAAQiD,IAA5B,CACA,IACIsL,EADAgB,EAAYzP,EAAQE,QAAQiD,GAE3BjQ,IAAQuc,EAAUxO,WASrBwN,EAAaO,GAAqBS,GAClChB,EAAaiB,GAAoB1P,EAAQE,QAASuP,EAAWhB,IAR7DA,EAAa,CACXgB,EAAUxO,SACV,SAAWkC,EAAEpR,WAAa,OAC1B,SACA,OAMJ0d,EAAYE,iBAAMF,EAAW,CAAC,cAAehB,EAAW,IACxDzO,EAAU2P,iBAAM3P,EAAS,CAAC,UAAWmD,GAAIsM,GAE3C,OAAOzP,IAII0P,GAAsB,SAACxP,EAAS0P,EAAgBnB,GAG3D,IAFA,IAAIoB,GAAW,EACXtB,EAAI,EACDsB,GAAU,CACf,IAAIC,EAAmBR,GAA4Bb,EAAW,GAAIvO,GAE3C,OAArB4P,GACAb,GAAaa,KAAsBb,GAAaW,IAE5C1c,IAAQub,EAAW,GAAGE,MAAM,sBAC9BF,EAAW,GACTA,EAAW,GAAK,IAAMF,EAAExc,WAAa,KAAO0c,EAAW,GAEzDA,EAAW,GACTA,EAAW,GAAGE,MAAM,qBAAqB,GACzC,IACAJ,EAAExc,WAFF0c,OAKAA,EAAW,GAEfF,KAEAsB,GAAW,EAGf,OAAOpB,GAGIsB,GAAkB,SAAC7P,GAE9B,IADA,IAAI8P,EAA2B,GACtB7M,EAAI,EAAGA,EAAIjD,EAAQ9D,OAAQ+G,IAAK,CACvC,IAAI8M,EAAY/P,EAAQiD,GACnBjQ,IAAQ+c,EAAUb,cACrBa,EAAYN,iBAAMM,EAAW,CAAC,cAAe,OAE/CD,EAAyBE,KAAKD,GAEhC,OAAOD,GA6IIG,GA5HqB,SAACC,EAAaC,GAC9C,IAAIC,EAAY,CACdpN,UAAU,EACV/K,QAAS,CACP8H,UAAW,CACTpN,MAAM,EACNuN,QAAQ,EACRC,oBAAoB,GAEtBH,SAAS,GAEXlV,IAAI,EACJulB,MAAM,EACNC,KAAK,GAGP,OAAItd,IAAQmd,GAAuBC,EAG/Bpd,IAAQkd,IACVE,EAAUpN,UAAW,EACrBoN,EAAUnY,QAAQ8H,UAAUpN,MAAO,EACnCyd,EAAUnY,QAAQ8H,UAAUG,QAAS,EACrCkQ,EAAUnY,QAAQ8H,UAAUI,oBAAqB,EACjDiQ,EAAUnY,QAAQ+H,SAAU,EAC5BoQ,EAAUtlB,IAAK,EACfslB,EAAUC,MAAO,EACjBD,EAAUE,KAAM,EACTF,IAGLF,IAAgBC,IAClBC,EAAUE,KAAM,EAMbtd,IAAQmd,EAAcrlB,MACrBkI,IAAQkd,EAAYplB,KACfqlB,EAAcrlB,KAAOolB,EAAYplB,MADbslB,EAAUtlB,IAAK,GAKzCkI,IAAQmd,EAAclY,WACrBjF,IAAQkd,EAAYjY,UACtBmY,EAAUnY,QAAQ8H,UAAUpN,MAAO,EACnCyd,EAAUnY,QAAQ8H,UAAUG,QAAS,EACrCkQ,EAAUnY,QAAQ8H,UAAUI,oBAAqB,EACjDiQ,EAAUnY,QAAQ+H,SAAU,GACnBmQ,EAAclY,UAAYiY,EAAYjY,UAE1CjF,IAAQmd,EAAclY,QAAQ8H,aAC7B/M,IAAQkd,EAAYjY,QAAQ8H,YAC9BqQ,EAAUnY,QAAQ8H,UAAUpN,MAAO,EACnCyd,EAAUnY,QAAQ8H,UAAUG,QAAS,EACrCkQ,EAAUnY,QAAQ8H,UAAUI,oBAAqB,GAEjDgQ,EAAclY,QAAQ8H,YAAcmQ,EAAYjY,QAAQ8H,YAGnD/M,IAAQmd,EAAclY,QAAQ8H,UAAUpN,QACvCK,IAAQkd,EAAYjY,QAAQ8H,UAAUpN,OAGxCwd,EAAclY,QAAQ8H,UAAUpN,OAChCud,EAAYjY,QAAQ8H,UAAUpN,QAH9Byd,EAAUnY,QAAQ8H,UAAUpN,MAAO,GASlCK,IAAQmd,EAAclY,QAAQ8H,UAAUG,UACvClN,IAAQkd,EAAYjY,QAAQ8H,UAAUG,SAGxCiQ,EAAclY,QAAQ8H,UAAUG,SAChCgQ,EAAYjY,QAAQ8H,UAAUG,UAH9BkQ,EAAUnY,QAAQ8H,UAAUG,QAAS,GASpClN,IAAQmd,EAAclY,QAAQ8H,UAAUI,sBACvCnN,IAAQkd,EAAYjY,QAAQ8H,UAAUI,qBAGxCgQ,EAAclY,QAAQ8H,UAAUI,qBAChC+P,EAAYjY,QAAQ8H,UAAUI,sBAH9BiQ,EAAUnY,QAAQ8H,UAAUI,oBAAqB,KAWpDnN,IAAQmd,EAAclY,QAAQ+H,WAC7BhN,IAAQkd,EAAYjY,QAAQ+H,UAG9BmQ,EAAclY,QAAQ+H,UAAYkQ,EAAYjY,QAAQ+H,WAFtDoQ,EAAUnY,QAAQ+H,SAAU,KAW/BhN,IAAQmd,EAAcE,QACrBrd,IAAQkd,EAAYG,OACfF,EAAcE,OAASH,EAAYG,QADbD,EAAUC,MAAO,GAK7Crd,IAAQmd,EAAcnN,YACrBhQ,IAAQkd,EAAYlN,WACfmN,EAAcnN,WAAakN,EAAYlN,YADboN,EAAUpN,UAAW,IAlFjDoN,IC7LX,SAASG,GAAuBC,EAAQC,GACtC,OAAOD,EAAOtG,MACZ,SAACwG,GAAD,OAAaA,EAAQpkB,MAAR,UAAmBmkB,EAAnB,oCAIjB,SAASE,GAAwBrH,EAAMtJ,GACrC,IAAIhN,IAAQsW,EAAKrR,QAAQ+H,SAAzB,CAEA,IADA,IAAI4Q,EAAa,GACR3N,EAAI,EAAGA,EAAIqG,EAAKrR,QAAQ+H,QAAQ9D,OAAQ+G,IAAK,CACpD,IAMIgM,EANAV,EAAasC,GAA4BvH,EAAKrR,QAAQ+H,QAAQiD,IAC9DiM,EAAa5F,EAAKrR,QAAQ+H,QAAQiD,GAAGiM,WACrC4B,EAAcD,GAChBtC,EACAvO,GAIAiP,EAAM4B,GADY,OAAhBC,EAC+B9Q,EAEA8Q,GAEnCF,EAAWZ,KACTa,GAAiCtC,EAAYU,EAAKC,IAGtD5F,EAAKrR,QAAQ+H,QAAU4Q,GAGzB,8CAAe,WAAOJ,EAAQxQ,EAASyQ,EAAe7iB,GAAvC,eAAAH,EAAA,yDACbC,UAAQC,UAAUC,GAEd0b,EAAO,MACPiH,GAAuBC,EAAQC,GAJtB,gCAKLhiB,KAAQsiB,IAAR,UAAeN,EAAf,iCAA6D,CACjEO,QAAS,OACTC,MAAO,YAEN3f,KAJG,uCAIE,WAAOkf,GAAP,SAAA/iB,EAAA,sEACE2b,MAAMoH,GAAQlf,KAAd,uCAAmB,WAAO4f,GAAP,SAAAzjB,EAAA,sEACVyjB,EAAK5H,OAAOhY,KAAZ,uCAAiB,WAAOkf,GAAP,SAAA/iB,EAAA,yDACE,qBAAnB+iB,EAAOvY,QADU,iDAG5B0Y,GADArH,EAAOkH,EACuBxQ,GAHF,2CAAjB,uDADU,mFAAnB,uDADF,2CAJF,uDAaHxO,OAAM,SAACC,GAEN,OADAE,QAAQC,IAAI,kCAAmCH,GACxC,QApBA,gCAuBN6X,GAvBM,2CAAf,4D,SC7Be6H,G,mFAAf,WAAsBX,EAAQY,GAA9B,eAAA3jB,EAAA,0DACM2jB,EAAaC,sBADnB,oBAE2C,UAAnClC,GAAuBqB,GAF/B,yCAGa,CAAEpQ,SAAS,GAAD,OAAKoQ,KAH5B,UAIkD,UAAnCrB,GAAuBqB,GAJtC,yCAKa,CAAEjQ,SAAS,GAAD,OAAKiQ,KAL5B,UAMkD,UAAnCrB,GAAuBqB,GANtC,0CAOa,CAAEtP,SAAS,GAAD,OAAKsP,KAP5B,WAQkD,QAAnCrB,GAAuBqB,GARtC,0CASa,CAAE7P,OAAO,GAAD,OAAK6P,KAT1B,mCAaMrB,GAAuBqB,KAAYY,EAAaE,kBACd,UAAlCF,EAAaE,iBAdnB,0CAgBa,CAAElR,SAAS,GAAD,OAAKoQ,KAhB5B,WAkBMrB,GAAuBqB,KAAYY,EAAaE,kBACd,UAAlCF,EAAaE,iBAnBnB,0CAqBa,CAAE/Q,SAAS,GAAD,OAAKiQ,KArB5B,WAuBMrB,GAAuBqB,KAAYY,EAAaE,kBACd,UAAlCF,EAAaE,iBAxBnB,0CA0Ba,CAAEpQ,SAAS,GAAD,OAAKsP,KA1B5B,WA4BMrB,GAAuBqB,KAAYY,EAAaE,kBACd,QAAlCF,EAAaE,iBA7BnB,0CA+Ba,CAAE3Q,OAAO,GAAD,OAAK6P,KA/B1B,WAiCMrB,GAAuBqB,KAAYY,EAAaE,kBACd,UAAlCF,EAAaE,iBAlCnB,kCAoCwBC,GAAgBf,GApCxC,eAoCUgB,EApCV,yBAqCa,CAAEzQ,SAAS,GAAD,OAAKyQ,KArC5B,6C,+BAyCeD,G,iFAAf,WAA+BE,GAA/B,mBAAAhkB,EAAA,4DACiB,uCAGfwhB,EAHe,uCAGEwC,EAJnB,SAKmBrI,MAAM6F,EAAK,CAC1ByC,OAAQ,QACPlgB,OAAM,SAAChB,GACRmB,QAAQC,IAAI,qCAAsCpB,MARtD,cAKEmhB,EALF,gBAUsBA,EAASvM,OAV/B,cAUQoM,EAVR,yBAWSA,GAXT,4C,sBC7BA,ID0CA,8CAAe,WAAOhB,EAAQC,EAAeW,EAAcxjB,GAA5C,iBAAAH,EAAA,sDACbC,UAAQC,UAAUC,GACdoS,EAAU,GACLiD,EAAI,EAHA,YAGGA,EAAIuN,EAAOtU,QAHd,qBAIPsU,EAAOvN,GAAG3W,IAAImiB,MAAd,WAAwBgC,EAAxB,oBAJO,gCAKHhiB,KAAQsiB,IAAIP,EAAOvN,GAAG3W,IAAK,CAC/B0kB,QAAS,OACTC,MAAO,YAEN3f,KAJG,uCAIE,WAAOkf,GAAP,SAAA/iB,EAAA,kEACJuS,EADI,SACemR,GAAOX,EAAQY,GAD9B,wBACIpB,KADJ,2DAJF,uDAOHxe,OAAM,SAACC,GAEN,OADAE,QAAQC,IAAI,kCAAmCH,GACxC,QAdF,OAGsBwR,IAHtB,gDAkBNjD,GAlBM,4CAAf,4DExDe,YAAC4R,EAAeC,GA0B7B,IAzB2Blf,EAgBAqN,EASvBwQ,EAAS,CAAC,KAAM,MACpB,OAAIxd,IAAQ6e,KACZrB,EAAO,GAzBM,0BAFc7d,EA2BGkf,EAAK5Z,QAAQ8H,UAAUpN,OAxBxC,uBAATA,GACS,cAATA,EAEO,QACI,uBAATA,EAAsC,QAC7B,wBAATA,EAAuC,QAC9B,eAATA,EAA8B,MACrB,4BAATA,GAA+C,wBAATA,EACjC,QACLK,IAAQL,GAAc,QACnB,OAeT6d,EAAO,IAZoBxQ,EAYG6R,EAAK5Z,QAAQ+H,QAXrChN,IAAQgN,IAAYhN,IAAQgN,EAAQ,IAAY,QAC/ChN,IAAQgN,EAAQ,GAAGI,UACnBpN,IAAQgN,EAAQ,GAAGO,UACnBvN,IAAQgN,EAAQ,GAAGkB,UACnBlO,IAAQgN,EAAQ,GAAGW,QACnB3N,IAAQgN,EAAQ,GAAGe,UACjB,OADmC,QADF,MADE,QADA,QADA,YAWxC6Q,EAAcllB,SAAS8jB,EAAO,MAAOoB,EAAcllB,SAAS8jB,EAAO,OC5B1D,YAACqB,EAAMvI,EAAM8H,GAC1B,IAAIU,EAAiBD,EAAK5Z,QAe1B,OAdA6Z,EAAiBrC,iBACfqC,EACA,CAAC,WLyIuB,SAACC,EAAenB,EAAYoB,GACtD,IAAIC,EAAaF,EACQ,aAArBC,IACFC,EAAapC,GAAgBkC,IAG/B,IAAIG,EAActB,EAKlB,MAJyB,YAArBoB,IACFE,EAAcrC,GAAgBe,IAEZqB,EAAWzL,OAAO0L,GKlJpCrB,CACEgB,EAAK5Z,QAAQ+H,QACbsJ,EAAKrR,QAAQ+H,QACboR,EAAaY,mBAIjBF,EAAiBrC,iBAAMqC,EAAgB,CAAC,aAAcxI,EAAKrR,QAAQ8H,WACnE8R,EAAOpC,iBAAMoC,EAAM,CAAC,WAAYC,IAC5B9e,IAAQ6e,EAAK7O,WAA+B,YAAlB6O,EAAK7O,YACjC6O,EAAOpC,iBAAMoC,EAAM,CAAC,YAAavI,EAAKtG,WACjC6O,GCMHM,GAAgB,CAAExiB,MAAO,cACzByiB,GAAa,CACjBza,WAAY,OACZwB,YAAa,OACbpJ,MAAO,QAEHsiB,GAAsB,CAC1B,CAAEjhB,KAAM,OAAQkhB,SAAU,OAAQC,UAAU,GAC5C,CAAEnhB,KAAM,gBAAiBkhB,SAAU,eAAgBC,UAAU,IAGzDC,GAA6B,CACjC,CAAEphB,KAAM,cAAekhB,SAAU,cACjC,CAAElhB,KAAM,gBAAiBkhB,SAAU,eAAgBC,UAAU,IAGzDE,GAAU,CAAC,CAAErhB,KAAM,WAAYkhB,SAAU,SAAUC,UAAU,IAE7DG,GAAe,CACnBC,UAAW,CACTpY,MAAO,CACLqY,YAAa,OACb,cAAe,SAGnBC,MAAO,CACLtY,MAAO,CACLqY,YAAa,UAKbE,GAAc,SAAC,GAAc,IAAZ5B,EAAW,EAAXA,KACb6B,EAA4B7B,EAA5B6B,QAASC,EAAmB9B,EAAnB8B,eACjB,OACE,oCACE,kBAAC,KAAD,CACEzY,MAAO,CACLjC,UAAW,aACXsa,YAAa,OACbK,aAAc,QAEhBC,OAAK,EACLC,SAAO,EACPC,UAAQ,EACRX,QAASD,GACTtB,KAAM8B,EACNK,gBAAgB,iDAChBC,WAAYP,EAAQ7W,OAAS,GAC7BqX,kBAAmB,GACnBC,6BAA8B,CAAC,GAAI,GAAI,GAAI,GAAI,IAAK,KACpDd,aAAcA,KAEhB,kBAAC,KAAD,CACEnY,MAAO,CACLjC,UAAW,aACXsa,YAAa,OACbK,aAAc,QAEhBC,OAAK,EACLC,SAAO,EACPC,UAAQ,EACRX,QAASJ,GACTnB,KAAM6B,EACNM,gBAAiB,0CACjBC,WAAYP,EAAQ7W,OAAS,GAC7BqX,kBAAmB,GACnBC,6BAA8B,CAAC,GAAI,GAAI,GAAI,GAAI,IAAK,KACpDd,aAAcA,OAMP,eAA0D,IAAvDb,EAAsD,EAAtDA,KAAMnc,EAAgD,EAAhDA,KAAMpF,EAA0C,EAA1CA,QAASod,EAAiC,EAAjCA,aAAc+F,EAAmB,EAAnBA,aAAmB,EAC3BlkB,KAAnCvC,EAD8D,EAC9DA,aAAcG,EADgD,EAChDA,KAAMS,EAD0C,EAC1CA,WAD0C,EAEzBkB,mBAAS,eAFgB,mBAE/D4kB,EAF+D,KAEhDC,EAFgD,OAGjC7kB,mBAAS,MAHwB,mBAG/D8kB,EAH+D,KAGpDC,EAHoD,OAI3B/kB,mBAAS,MAJkB,mBAI/DglB,EAJ+D,KAIjDC,EAJiD,OAK5BjlB,mBAAS,IALmB,mBAK/D2hB,EAL+D,KAKhDuD,EALgD,OAO9BvnB,YACtC,eC1GW,SAAColB,GACd,MAAO,CACLG,iBAAkB,OAClBV,iBAAkB2C,GAAyB,CAAC,QAAS,SAAUpC,GAC3D,QACAoC,GAAyB,CAAC,QAAS,SAAUpC,GAC7C,QACAoC,GAAyB,CAAC,QAAS,SAAUpC,GAC7C,QACAoC,GAAyB,CAAC,MAAO,SAAUpC,GAC3C,MACAoC,GAAyB,CAAC,QAAS,SAAUpC,GAC7C,QACA,OACJqC,oBAAqB,CACnB7T,OAAO4T,GAAyB,CAAC,QAAS,SAAUpC,GACpDsC,OAAOF,GAAyB,CAAC,QAAS,SAAUpC,GACpDuC,OAAOH,GAAyB,CAAC,QAAS,SAAUpC,GACpDwC,KAAKJ,GAAyB,CAAC,MAAO,SAAUpC,GAChDyC,OAAOL,GAAyB,CAAC,QAAS,SAAUpC,IAEtDR,uBAAuB,EACvBkD,2BAA2B,EAC3BC,gBAAgB,GDoFhBC,CAAiB5C,IATmD,mBAO/DT,EAP+D,KAOjDsD,EAPiD,KAWhEC,EAAgBC,iBAAO,IACvBC,EAAoB1S,uBAAY,WACpC,GAAqB,YAAjBnV,EACJ,QACEgG,IAAQ6e,IACR7e,IAAQ6e,EAAK5Z,UACZjF,IAAQ6e,EAAK5Z,QAAQ8H,YAAc/M,IAAQ6e,EAAK5Z,QAAQ+H,YAI1D,CAAC6R,EAAM7kB,IAEVmC,qBAAU,WACR,GAAqB,YAAjBnC,GACA6kB,IAAS8C,EAAcG,QAA3B,CACA,IAAIC,EAAc3D,EACd4D,EAAUnE,GAA6B8D,EAAcG,QAASjD,IAC9DmD,EAAQ/c,QAAQ8H,UAAUpN,MAAQqiB,EAAQ/c,QAAQ+H,UAChD2U,EAAcG,UAAY,KAC5BC,EE/HO,SAAC3D,EAAcS,GAC5B,OAAO,eACFT,EADL,CAEEE,iBACGte,IAAQoe,IACRpe,IAAQoe,EAAaE,oBACtB2C,GAAyB,CAAC7C,EAAaE,iBAAkB,SAAUO,GAE/DoC,GAAyB,CAAC,QAAS,SAAUpC,GAC7C,QACAoC,GAAyB,CAAC,QAAS,SAAUpC,GAC7C,QACAoC,GAAyB,CAAC,QAAS,SAAUpC,GAC7C,QACAoC,GAAyB,CAAC,MAAO,SAAUpC,GAC3C,MACAoC,GAAyB,CAAC,QAAS,SAAUpC,GAC7C,QACA,OAXAT,EAAaE,iBAYnB4C,oBAAqB,CACnB7T,OAAO4T,GAAyB,CAAC,QAAS,SAAUpC,GACpDsC,OAAOF,GAAyB,CAAC,QAAS,SAAUpC,GACpDuC,OAAOH,GAAyB,CAAC,QAAS,SAAUpC,GACpDwC,KAAKJ,GAAyB,CAAC,MAAO,SAAUpC,GAChDyC,OAAOL,GAAyB,CAAC,QAAS,SAAUpC,MFuGpCoD,CAA8BF,EAAalD,IAE7D6C,EAAgB,eACXK,EADU,CAEbP,eAAgBK,IAChBxD,uBAAuBwD,KAEnBH,EAAgBrD,yBAEtBsD,EAAcG,QAAUjD,KACvB,CAACA,EAAMT,EAAcsD,EAAiBG,EAAmB7nB,IAE5D,IAAMkoB,EAAe,uCAAG,8BAAAznB,EAAA,sEACF0nB,GAClBvB,EACAnD,EACAW,EACAxjB,GALoB,UAClBoS,EADkB,OAOlBsJ,EAAO,MACP8H,EAAaC,sBARK,gCASP+D,GACXxB,EACA5T,EACAyQ,EACA7iB,GAbkB,OASpB0b,EAToB,cAkBpBtW,IAAQsW,IACRtW,IAAQsW,EAAKrR,UACbjF,IAAQsW,EAAKrR,QAAQ+H,UACrBhN,IAAQsW,EAAKtG,UAEb0K,EAAa1N,IAEb6R,EAAOwD,GAAqBxD,EAAMvI,EAAM8H,GACxCqC,EAAa5B,GAAM,GACnBnE,EAAa,KA3BO,2CAAH,qDAsDrB,SAAS4H,IACPZ,EAAgB,eACXtD,EADU,CAEbC,uBAAwBD,EAAaC,yBAqEzC,OAjEAliB,qBAAU,WACR,IAAIomB,EGzMO,SAAClE,EAAuBC,EAAkBwC,GACvD,IAEI0B,EAFAC,EAAkB,EAClBF,EAAY,GAEhB,IAAKviB,IAAQ8gB,GAAe,CAC1B,IAAK,IAAI7Q,EAAI,EAAGA,EAAI6Q,EAAa5X,OAAQ+G,IACvC,GAAI6Q,EAAa7Q,GAAGyS,aAClBF,EAAa1B,EAAa7Q,GAAG0S,QACxB3iB,IAAQ8gB,EAAa7Q,GAAG8P,UAC3B,IAAK,IAAIjN,EAAI,EAAGA,EAAIgO,EAAa7Q,GAAG8P,QAAQ7W,OAAQ4J,IAEhDqJ,GAAuB2E,EAAa7Q,GAAG8P,QAAQjN,GAAGoL,QAClDI,GAEAmE,IAORF,EADElE,EACU,QAAUmE,EAEV,OAASC,EAAkB,IAAMnE,EAGjD,OAAOiE,EH+KWK,CACdxE,EAAaC,sBACbD,EAAaE,iBACbwC,GAEFH,EAAoB4B,KACnB,CACDnE,EAAaC,sBACbD,EAAaE,iBACbwC,IAGF3kB,qBAAU,WACJ6D,IAAQ7F,GACV0mB,EAAgB,MACN7gB,IAAQpF,IAClBa,KAAQ2O,KAAK,GAAI,CAAE6T,MAAO,YACvB3f,MAAK,SAACkf,GACLqD,EAAgBrD,GAChB,IAAIqF,EAAgBrF,EACjBtN,QAAO,SAAC4S,GACP,OAAOA,EAAIxpB,IAAIypB,SAAS,KAAsC,IAA9BD,EAAIxpB,IAAIqa,MAAM,KAAKzK,UAEpDvQ,KAAI,SAACmqB,EAAK/S,GACT,IAAM4S,EAASG,EAAIxpB,IAAIqa,MAAM,KAAK,GAC5BqP,EAAiBxF,EACpBtN,QAAO,SAAC4S,GACP,OACEA,EAAIxpB,IAAI2pB,WAAR,UAAsBN,EAAtB,YACCG,EAAIxpB,IAAIypB,SAAS,QAGrBpqB,KAAI,SAACmqB,GACJ,MAAO,CACL5E,KAAM4E,EAAIxpB,IAAIqa,MAAM,UAAU,GAC9BuP,aAAcJ,EAAII,aAAaC,mBAG/BC,EAAwB5F,EAC3BtN,QAAO,SAAC4S,GACP,OACEA,EAAIxpB,IAAI2pB,WAAR,UAAsBN,EAAtB,mBACCG,EAAIxpB,IAAIypB,SAAS,QAGrBpqB,KAAI,SAACmqB,GACJ,MAAO,CACL5G,WAAY4G,EAAIxpB,IAAIqa,MAAM,iBAAiB,GAC3CuP,aAAcJ,EAAII,aAAaC,mBAGrC,MAAO,CACLrrB,GAAG,GAAD,OAAKiY,GACP4S,OAAQA,EACR5C,QAASiD,EACThD,eAAgBoD,EAChBV,YAAY,MAGlB3B,EAAmB8B,MAEpBrkB,OAAM,SAACC,GAAD,OAASE,QAAQC,IAAIH,QAE/B,CAACtE,EAAMS,IAER,kBAAC4X,GAAD,CACElH,MAAM,iBACN5I,KAAMA,EACNpF,QAASA,EACToU,QAAS,CACP,CACEU,KAAMsO,EACN3gB,QAAS,WACPmiB,KAEFva,SAAUyW,EAAamD,6BAI3B,2BAAOha,MAAO6X,IACZ,+BACE,4BACE,4BACGhB,EAAaC,sBACZ,kBAAC,IAAD,CACE9W,MAAO4X,GACPpf,QAASuiB,EACT3a,UAAQ,GAHV,gBAQA,kBAAC,IAAD,CACE5H,QAASuiB,EACT3a,SAAUyW,EAAaoD,gBAFzB,gBAODpD,EAAaC,sBACZ,kBAAC,IAAD,CAAQte,QAASuiB,GAAjB,gBAIA,kBAAC,IAAD,CACE/a,MAAO4X,GACPpf,QAASuiB,EACT3a,UAAQ,GAHV,gBAQF,kBAACL,GAAA,EAAD,CACEvH,QAAS,WACP2hB,EAAgB,eACXtD,EADU,CAEbmD,2BAA4BnD,EAAamD,+BAI5CnD,EAAamD,0BACZ,kBAAC,KAAD,MAEA,kBAAC,KAAD,SAMNnD,EAAamD,0BA0Bb,4BACE,4BACGnD,EAAaC,sBACZ,kBAACgF,GAAA,EAAD,CAAatkB,UAAU,YACrB,kBAACukB,GAAA,EAAD,CAAWvkB,UAAU,UAArB,yBAGA,kBAACwkB,GAAA,EAAD,CACEC,aAAW,UACX9jB,SAAU,SAAC1B,GACT0jB,EAAgB,eACXtD,EADU,CAEbY,iBAAkBhhB,EAAMG,OAAOnF,WAInC,kBAAC4G,EAAA,EAAD,CACE5G,MAAM,OACN6G,QAAS,kBAAC4jB,GAAA,EAAD,MACTnkB,MAAM,wBACNokB,QAA2C,SAAlCtF,EAAaY,mBAExB,kBAACpf,EAAA,EAAD,CACE5G,MAAM,WACN6G,QAAS,kBAAC4jB,GAAA,EAAD,MACTnkB,MAAM,4BACNokB,QAA2C,aAAlCtF,EAAaY,mBAExB,kBAACpf,EAAA,EAAD,CACE5G,MAAM,UACN6G,QAAS,kBAAC4jB,GAAA,EAAD,MACTnkB,MAAM,2BACNokB,QAA2C,YAAlCtF,EAAaY,qBAK5B,kBAACqE,GAAA,EAAD,CAAatkB,UAAU,YACrB,kBAACukB,GAAA,EAAD,CAAWvkB,UAAU,UAArB,oBACA,kBAACwkB,GAAA,EAAD,CACEC,aAAW,UACX9jB,SAAU,SAAC1B,GACT0jB,EAAgB,eACXtD,EADU,CAEbE,iBAAkBtgB,EAAMG,OAAOnF,WAInC,kBAAC4G,EAAA,EAAD,CACE5G,MAAM,QACN6G,QAAS,kBAAC4jB,GAAA,EAAD,MACTnkB,MAAM,kBACNqI,SAAUyW,EAAa8C,oBAAoB7T,MAC3CqW,QAA2C,UAAlCtF,EAAaE,mBAExB,kBAAC1e,EAAA,EAAD,CACE5G,MAAM,QACN6G,QAAS,kBAAC4jB,GAAA,EAAD,MACTnkB,MAAM,kBACNqI,SAAUyW,EAAa8C,oBAAoBC,MAC3CuC,QAA2C,UAAlCtF,EAAaE,mBAExB,kBAAC1e,EAAA,EAAD,CACE5G,MAAM,QACN6G,QAAS,kBAAC4jB,GAAA,EAAD,MACTnkB,MAAM,kBACNqI,SAAUyW,EAAa8C,oBAAoBE,MAC3CsC,QAA2C,UAAlCtF,EAAaE,mBAExB,kBAAC1e,EAAA,EAAD,CACE5G,MAAM,MACN6G,QAAS,kBAAC4jB,GAAA,EAAD,MACTnkB,MAAM,gBACNqI,SAAUyW,EAAa8C,oBAAoBG,IAC3CqC,QAA2C,QAAlCtF,EAAaE,mBAExB,kBAAC1e,EAAA,EAAD,CACE5G,MAAM,QACN6G,QAAS,kBAAC4jB,GAAA,EAAD,MACTnkB,MAAM,kBACNqI,SAAUyW,EAAa8C,oBAAoBI,MAC3CoC,QAA2C,UAAlCtF,EAAaE,wBA1GjCte,IAAQ8gB,IACP,4BACE,4BACE,kBAAC,KAAD,CACE6C,gBAAc,EACdC,wBAAyB,kBAAC,GAAD,MACzBC,gBAAc,EACdC,yBAAuB,EACvBC,2BAAyB,EACzBC,wBAAyBP,KACzBvD,OAAK,EACLE,UAAQ,EACR6D,aAAW,EACXxE,QAASA,GACTyE,qBA/KQ,SAACC,GACpBnkB,IAAQmkB,EAAcC,aAAa,KAatCpD,EAAiB,MACjBD,GAAmB,SAAC7iB,GAAD,OACjBA,EAAUvF,KAAI,SAAC0rB,GAEb,OADAA,EAAI3B,YAAa,EACV2B,UAhBXrD,EAAiBmD,EAAcC,aAAa,GAAGzB,QAC/C5B,GAAmB,SAAC7iB,GAAD,OACjBA,EAAUvF,KAAI,SAAC0rB,GAMb,OALIF,EAAcC,aAAa,GAAGtsB,KAAOusB,EAAIvsB,GAC3CusB,EAAI3B,YAAa,EAEjB2B,EAAI3B,YAAa,EAEZ2B,UAsKGC,sBAAuB,SAACD,GAAD,OAASA,EAAI3B,YACpCxE,KAAM4C,EACNR,WAAYQ,EAAa5X,OAAS,GAClCqX,kBAAmB,GACnBC,6BAA8B,CAAC,GAAI,GAAI,GAAI,GAAI,IAAK,aIxVlEhG,GAAW/d,YAAO,WAAPA,CAAmB,CAClCM,MAAO,OACPyI,UAAW,MAGP+e,GAAc9nB,YAAO,MAAPA,CAAc,CAChCmJ,SAAU,GACVjJ,MAAOtF,KAAY,KACnBwY,UAAW,SACXnT,QAAS,KAGL8nB,GAAY,kBAAM,MAET,eAAgD,IAA7Cvf,EAA4C,EAA5CA,QAASwf,EAAmC,EAAnCA,gBAAiBxQ,EAAkB,EAAlBA,YACpC/E,EAASpF,cAAiB,SAACsF,GAC/B,IAAMsV,EAAS,IAAIC,WACnBD,EAAOE,OAAS,SAACvjB,GACf,IAAMwjB,EAAcxjB,EAAElD,OAAOqf,OAC7BiH,EAAgBI,IAElBH,EAAOI,WAAW1V,EAAc,OAP0B,EAUftT,mBAAS,GAVM,mBAUrDipB,EAVqD,KAUtCC,EAVsC,KAWtDjlB,EAAU+J,cAAiB,SAACzI,GAC5B4jB,KAAKC,MAAQH,EAAgB,KAC/BzV,IAAevP,QAAQsB,GAEzB2jB,EAAoBC,KAAKC,UAfiC,EAkBN7V,aAAY,CAAEH,WAA5DI,EAlBoD,EAkBpDA,aAAcC,EAlBsC,EAkBtCA,cAAe4V,EAlBuB,EAkBvBA,aAErC,OACE,yCAAS7V,IAAT,CAAyBvP,QAASykB,KAChC,0BAAWjV,KACV4V,EACC,kBAACZ,GAAD,wCAEA,kBAAC,GAAD,CACEvrB,MAAOiM,EACPvF,SAAU,SAAC2B,EAAGga,GAAJ,OAAUoJ,EAAgBpjB,EAAElD,OAAOnF,QAC7C+G,QAASA,EACTkU,YAAaA,MCZRmR,GAlCkB,SAAC,GAAqC,IAAnC1iB,EAAkC,EAAlCA,KAAMpF,EAA4B,EAA5BA,QAASod,EAAmB,EAAnBA,aAAmB,EACnC5e,mBAAS,IAD0B,mBAC7DmJ,EAD6D,KACpD0V,EADoD,KAGpE,OACE,kBAACnI,GAAD,CACE9P,KAAMA,EACNpF,QAASA,EACTgO,MAAM,uBACNoG,QAAS,CACP,CACEU,KAAM,cACNrS,QAAS,WACP2a,EACEzV,EACG0O,MAAM,MACNhb,KAAI,SAACmiB,GAAD,OAAOA,EAAEC,UACb7K,OAAO7V,SACP1B,KAAI,SAACqS,GAAD,MAAQ,CAAE+C,SAAU/C,WAMnC,kBAACqa,GAAD,CACEpgB,QAASA,EACTwf,gBAAiB9J,EACjB1G,YACE,iIC9BK,YAAC5L,GACd,OACE,kBAACC,GAAA,EAAD,iBAAaD,EAAb,CAAoBqK,QAAQ,cAC1B,uBAAG5a,GAAG,WACJ,0BACEyP,MAAOc,EAAM1L,MACb4L,EAAE,+HAEJ,0BACEhB,MAAOc,EAAM1L,MACb4L,EAAE,6HAEJ,0BACEhB,MAAOc,EAAM1L,MACb4L,EAAE,0JAEJ,0BACEhB,MAAOc,EAAM1L,MACb4L,EAAE,uaAEJ,0BACEhB,MAAOc,EAAM1L,MACb4L,EAAE,6TAEJ,0BACEhB,MAAOc,EAAM1L,MACb4L,EAAE,+MAEJ,0BACEhB,MAAOc,EAAM1L,MACb4L,EAAE,2IC5BN+c,GAAc7oB,YAAO,MAAPA,CAAc,CAChCO,UAAW,EACXyM,aAAc,IAEV8b,GAAwB9oB,YAAO,MAAPA,CAAc,CAC1CM,MAAO,OACPuI,UAAW,eAMPkgB,GAAc,CAClBC,IAAK,CACHC,UACEC,2EAEFC,OAAQD,eACRE,cACEF,4CAOS,eAAsC,IAAnCjjB,EAAkC,EAAlCA,KAAMpF,EAA4B,EAA5BA,QAASod,EAAmB,EAAnBA,aAAmB,EACE5e,oBAAS,GADX,mBAC3CgqB,EAD2C,KACvBC,EADuB,OAEJjqB,oBAAS,GAFL,mBAE3CkqB,EAF2C,KAE1BC,EAF0B,OAGdnqB,mBAAS,MAHK,mBAG3CoqB,EAH2C,KAG/BC,EAH+B,OAIkBrqB,mBAClE,IALgD,mBAI3CsqB,EAJ2C,KAIfC,EAJe,OAOVvqB,oBAAS,GAPC,mBAO3CwqB,EAP2C,KAO7BC,EAP6B,KASlDpqB,qBAAU,WACR,IAAMqqB,EAAgBzY,SAAS0Y,cAAc,UAS7C,OARAD,EAAcE,IAAM,oCACpBF,EAAcG,OAAQ,EAEtBH,EAAc5B,OAAS,WACrBmB,GAAsB,IAGxBhY,SAAS6Y,KAAKC,YAAYL,GACnB,WACLA,EAAcM,YAEf,IAEH,IAAMC,EAA6B5X,uBACjC,SAAC+O,GACKA,EAAKhM,SAAWzO,OAAOujB,OAAOC,OAAOxR,OAAOyR,QAC9Cb,EACEnI,EAAKiJ,KAAKxuB,KAAI,SAACyuB,GAAD,MAA0B,CACtCnL,IAAKmL,EAAoBnL,IACzBoL,SAAUD,EAAoBC,SAC9BjpB,KAAMgpB,EAAoBhpB,KAC1BtG,GAAIsvB,EAAoBtvB,QAG5ByuB,GAAgB,IACS,WAAhBrI,EAAKhM,QACd5U,MAGJ,CAACA,IAGGgqB,EAAenY,uBAAY,WAC/B,GAAI6W,GAAmBE,EAAY,CACjC,IAAMqB,EAAO,IAAI9jB,OAAOujB,OAAOC,OAAOO,KACpC/jB,OAAOujB,OAAOC,OAAOQ,OAAOC,MAG9BH,EAAKI,aACH,YACA,aACA,YACA,YACA,YACA,eAEa,IAAIlkB,OAAOujB,OAAOC,OAAOW,eACrCC,cAAcpkB,OAAOujB,OAAOC,OAAOa,QAAQC,YAC3CF,cAAcpkB,OAAOujB,OAAOC,OAAOa,QAAQE,qBAC3CC,SAASzC,GAAYC,IAAIG,QACzBO,cAAcD,GACdgC,QAAQX,GACRW,QAAQzkB,OAAOujB,OAAOC,OAAOQ,OAAOU,MACpCC,gBAAgB5C,GAAYC,IAAII,eAChCwC,YAAYtB,GACZuB,QACIC,YAAW,GAClBhC,GAAgB,MAEjB,CAACQ,EAA4Bb,EAAYF,IAE5C7pB,qBAAU,WACRmrB,MACC,CAACtB,EAAiBE,EAAYoB,IAEjC,IAAMkB,EAA+BrZ,uBACnC,SAACsZ,GACKA,IAA2BA,EAAuBjrB,QACpD2oB,EAAcsC,EAAuBC,cACrCpB,OAGJ,CAACA,IAGGqB,EAAgBxZ,uBAAY,WAChC1L,OAAOmlB,KAAKC,KAAKC,UACf,CACEpD,UAAWF,GAAYC,IAAIC,UAC3BqD,MA5FM,iDA6FNC,WAAW,GAEbR,KAED,CAACA,IAEES,EAAkB9Z,uBAAY,WAClC8W,GAAmB,GACnBqB,MACC,CAACA,IAEE4B,EAAe/Z,uBAAY,YACJ,IAAvB2W,IACFriB,OAAOmlB,KAAKO,KAAK,OAAQ,CAAEC,SAAUT,IACrCllB,OAAOmlB,KAAKO,KAAK,SAAU,CAAEC,SAAUH,OAExC,CAACnD,EAAoB6C,EAAeM,IAoBvC,OANA9sB,qBAAU,WACJuG,GACFwmB,MAED,CAACxmB,EAAMojB,EAAoBoD,IAG5B,kBAAC1W,GAAD,CACE9P,KAAMA,IAAS4jB,EACfhpB,QAASA,EACTgO,MAAM,2BACNoG,QAAS,CACP0U,GACEA,EAA2Bld,OAAS,GAAK,CACvCkJ,KAAK,OAAD,OAASgU,EAA2Bld,OAApC,YACJnJ,QA3BkB,WAC1B,IADgC,EAC1BiN,EAAU,GADgB,cAEboZ,GAFa,IAEhC,2BAA+C,CAAC,IAArCxtB,EAAoC,QACzCA,EAAKyuB,SAAS3tB,SAAS,UACzBsT,EAAQgQ,KAAK,CAAE5P,SAAS,kCAAD,OAAoCxU,EAAKd,MACvDc,EAAKyuB,SAAS3tB,SAAS,WAChCsT,EAAQgQ,KAAK,CAAEzP,SAAS,kCAAD,OAAoC3U,EAAKd,OANpC,8BAShC4iB,EAAa1N,MAoBTkD,OAAO7V,UAET,kBAAC,IAAD,CAAQ2E,QAAQ,WAAWe,QAASmpB,GAApC,8BAGA,kBAAC5D,GAAD,mEAC8D,IAC5D,6FAEF,kBAACC,GAAD,CACEmB,IACE,mF,qBVtKJ2C,GAAiB,GACvB,QAAsCC,OAAOC,QAbhB,CAC3Bnc,SAAU,CACR,YACA,aACA,QACA,YACA,UACA,MACA,WAEFW,SAAU,CAAC,UAGb,kBAA4E,CAAC,IAAD,4BAAhEyb,GAAgE,MAAvDC,GAAuD,qBAChDA,IADgD,IAC1E,8BAAwC,CAAC,IAA9BC,GAA6B,SACtCL,GAAeK,IAAeF,IAF0C,mCAM5E,IAAMG,GAA2B,SAACrO,GAChC,IAAK,IAAMhiB,KAAOgiB,EAAQ,CACxB,IAAMsO,EAAgBtwB,EAAI+S,cAAc4O,QAAQ,KAAM,KAChD4O,EAAaR,GAAeO,GAC9BC,IACFvO,EAAOuO,GAAcvO,EAAOhiB,UACrBgiB,EAAOhiB,IAGlB,OAAOgiB,GAGM,YAACwO,GACd,IAAMxT,EAAOyT,KAAIC,QAAQF,EAAK,CAAEG,WAAY,iBAAM,eAClD,IAAK3T,EAAKtJ,QAAS,MAAM,IAAIrT,MAAM,cACnC,MAAO,CACLoT,UAAWuJ,EAAKvJ,UAChBmd,WAAY5T,EAAKtJ,QAAQrU,KAAI,SAAC2iB,GAAD,OAAYA,EAAO6O,UAChDnd,QAASsJ,EAAKtJ,QAAQrU,IAAIgxB,IAA0BhxB,KAAI,SAAC2iB,GAEvD,cADOA,EAAO6O,OACP7O,OWhCP8O,GAAW3tB,YAAO,MAAPA,CAAc,CAC7BjF,WAAY,QACZiS,aAAc,GACd,MAAO,CACL9M,MAAOtF,IAAY,QAIjBsC,GAAQ8C,YAAO,MAAPA,CAAc,CAC1BE,MAAOtF,IAAW,KAClBgzB,WAAY,WACZ5gB,aAAc,KA4ED6gB,GAzEa,SAAC,GAAqC,IAAnC5nB,EAAkC,EAAlCA,KAAMpF,EAA4B,EAA5BA,QAASod,EAAmB,EAAnBA,aAAmB,EAClC5e,mBAAS,MADyB,mBACxD0B,EADwD,KACjD+sB,EADiD,OAEjCzuB,mBAAS,IAFwB,mBAExDmJ,EAFwD,KAE/CulB,EAF+C,KAI/D,OACE,kBAAChY,GAAD,CACE9P,KAAMA,EACNpF,QAASA,EACTgO,MAAM,0BACNoG,QAAS,CACP,CACEU,KAAM,cACNrS,QAAS,WAEP,IAAIiN,EAASkd,EADbK,EAAY,MAEZ,IAAI,kBACuB1wB,KAAK4wB,MAAMxlB,GAAS+H,QAD3C,GACAA,EADA,KACSkd,EADT,KAEF,MAAOQ,GACP,IACE,IAAMC,EAAMC,GAAW3lB,GACnB+H,EAAwB2d,EAAxB3d,QAASkd,EAAeS,EAAfT,WACb,MAAOW,GASP,OARAlsB,QAAQC,IAAI,CACV0U,QAAS,wBACTwX,UAAWJ,EAAGK,MACdC,SAAUH,EAAGE,aAEfR,EAAY,yDAAD,OACgDG,EAAG7rB,WADnD,wBAC6EgsB,EAAGhsB,cAK1FmO,GAA8B,IAAnBA,EAAQ9D,OAIxBwR,EAAa1N,EAASkd,GAHpBK,EAAY,0BAQpB,kBAACH,GAAD,eACU,IACR,uBAAG3d,KAAK,mDAAR,mBAEK,IAJP,SAKS,IACP,uBAAGA,KAAK,mDAAR,kBAEK,IARP,8CAS8C,IAC5C,uBAAGA,KAAK,+EAAR,eAEK,IAZP,KAaK,IACH,uBAAGA,KAAK,8EAAR,cAEK,IAhBP,SAmBA,kBAAC,GAAD,KAAQjP,GACR,kBAAC6nB,GAAD,CACEpgB,QAASA,EACTwf,gBAAiB+F,EACjBvW,YACE,0J,kEC5EJgX,GAAW,CACf,CAAE7sB,KAAM,mBAAoBuB,KAAM,OAAQkI,KAAM,MAChD,CAAEzJ,KAAM,OAAQuB,KAAM,QAASkI,KAAM,KACrC,CAAEzJ,KAAM,mBAAoBuB,KAAM,QAASkI,KAAM,OACjD,CAAEzJ,KAAM,qBAAsBuB,KAAM,QAASkI,KAAM,MACnD,CAAEzJ,KAAM,uBAAwBuB,KAAM,QAASkI,KAAM,M,SAGxCqjB,G,iFAAf,WAA0Bpe,GAA1B,iBAAArS,EAAA,6DACQ0wB,EACJre,EAAQ1O,KAAKiO,cAAc4O,QAAQ,KAAM,KAAO,YAE5CmQ,EAJR,8DAI4ED,GAJ5E,SAMe/U,MAAMgV,GAChB9sB,MAAK,SAAC+X,GAAD,OAAOA,EAAEC,UACdhY,MAAK,SAAC+X,GAAD,OAAOA,EAAErJ,SAAWqJ,EAAEgV,YARhC,oF,sBAWA,IAAMvjB,GAAerL,YAAOwJ,IAAPxJ,CAAe,IAyCrB6uB,GAvCgB,SAAC,GAAqC,IAAnChuB,EAAkC,EAAlCA,QAASod,EAAyB,EAAzBA,aAAchY,EAAW,EAAXA,KACvD,OACE,kBAAC8P,GAAD,CAAclV,QAASA,EAASoF,KAAMA,EAAM4I,MAAM,sBAChD,kBAACigB,GAAA,EAAD,KACE,kBAACC,GAAA,EAAD,KACE,kBAACC,GAAA,EAAD,KACE,kBAACC,GAAA,EAAD,KACE,kBAACC,GAAA,EAAD,aACA,kBAACA,GAAA,EAAD,aACA,kBAACA,GAAA,EAAD,aACA,kBAACA,GAAA,EAAD,kBAGJ,kBAACC,GAAA,EAAD,KACGX,GAAStyB,KAAI,SAACmU,GAAD,OACZ,kBAAC4e,GAAA,EAAD,CAAUpyB,IAAKwT,EAAQ1O,MACrB,kBAACutB,GAAA,EAAD,KAAY7e,EAAQ1O,MACpB,kBAACutB,GAAA,EAAD,KAAY7e,EAAQnN,MACpB,kBAACgsB,GAAA,EAAD,KAAY7e,EAAQjF,MACpB,kBAAC8jB,GAAA,EAAD,KACE,kBAAC,GAAD,CACEE,+BAA8B/e,EAAQ1O,KACtC2B,QAAO,sBAAE,sBAAAtF,EAAA,kEACPigB,EADO,SACYwQ,GAAWpe,GADvB,6EAGT9N,QAAQ,YALV,oBCtDZ8sB,GAAQ,SAAC9gB,GAAD,OACZA,EACGqB,cACA4O,QAAQ,aAAc,KACtBA,QAAQ,MAAO,MAEL,eASR,IARL8Q,EAQI,EARJA,WACOC,EAOH,EAPJ1gB,MACA2gB,EAMI,EANJA,OACAC,EAKI,EALJA,aACAC,EAII,EAJJA,aACAC,EAGI,EAHJA,WACAC,EAEI,EAFJA,WACAC,EACI,EADJA,wBAIMC,EAAON,EAAOvoB,QAAQ,aACtB8oB,EAAOP,EAAOvoB,QAAQ,QAEtB+oB,EAAYP,EAAaxyB,SAAS,SAAtB,UACXoyB,GAAME,GAAc,QADT,UAEXF,GAAME,GAAc,QAErBU,EAAgBF,EAAKG,KAAKR,EAAcM,GACxCG,EAAoBX,EACvBvoB,QAAQ,MACRmpB,kBAAkBH,GAIfI,EAA0BP,EAAKR,EAAY,CAC/CgB,OAHkBN,EAAU1J,SAAS,QAAU,YAAc,YAI7DiK,QAA0B,OAAjBd,EAAwBA,EAAe,YAgClD,OA7BAY,EAAwBG,KAAKL,GAM7BE,EAAwBI,GAAG,YAAY,SAACC,EAAaC,EAAYC,GAC/D,IAAMC,EAAUF,EAAaC,EAa7BjB,EAAW,CACTmB,SAAoB,IAAVD,IAGZhB,EAAkC,IAAVgB,MAG1BR,EAAwBI,GAAG,OAAO,kBAAMb,EAAWK,MAE5C,CACLc,OAAQ,WACNV,EAAwBW,aC9DxBhpB,GAAYhI,YAAO,MAAPA,CAAc,CAC9BkF,OAAQ,GACR5E,MAAO,OACPuI,UAAW,aACXZ,SAAU,WACV1H,UAAW,EACXyM,aAAc,EACdrH,gBAAiB/K,IAAY,MAEzBq2B,GAAOjxB,YAAO,MAAPA,CAAc,CACzBiI,SAAU,WACVK,KAAM,EACNgO,MAAO,EACP1N,IAAK,EACLP,OAAQ,EACRiD,WAAY,EACZnC,SAAU,GACViK,UAAW,SACX7H,WAAY,SAER2lB,GAAMlxB,YAAO,MAAPA,CAAc,CACxBiI,SAAU,WACVK,KAAM,EACND,OAAQ,EACRO,IAAK,EACLjD,gBAAiB/K,IAAY,OAGhB,eAAmB,IAAhBk2B,EAAe,EAAfA,SAChB,OACE,kBAAC,GAAD,KACE,kBAACI,GAAD,CAAKpmB,MAAO,CAAEwL,MAAO,IAAMwa,EAAW,OACtC,kBAACG,GAAD,KAAOja,KAAKyG,MAAMqT,GAAlB,O,sDC9BAK,GAAoBnxB,YAAO,MAAPA,CAAc,CACtCM,MAAO,OACP4E,OAAQ,SAGJksB,GAAyBpxB,YAAO,MAAPA,CAAc,CAC3CqF,cAAe,MACf/E,MAAO,OACP8E,QAAS,OACTqE,eAAgB,kBA4BH4nB,GAzBE,SAAC,GAA6D,IAA3DC,EAA0D,EAA1DA,aAAcC,EAA4C,EAA5CA,gBAAiBC,EAA2B,EAA3BA,qBACjD,OACE,kBAACL,GAAD,KACE,kBAACM,GAAD,CAAaX,SAAUS,IACvB,kBAACE,GAAD,CAAaX,SAAUQ,EAAaR,WAEpC,4CAAkBQ,EAAaziB,OAC/B,kBAAC6iB,GAAA,EAAD,KACE,kBAACC,GAAA,EAAD,CAAuBC,WAAY,kBAAC,KAAD,OACjC,kBAACR,GAAD,KACE,yDAGJ,kBAACS,GAAA,EAAD,KACE,4BACGL,GAAwBA,EAAqB/kB,OAAS,EACnD+kB,EACA,UCJDM,GAjCiB,uCAAG,WACjCtC,EACAuC,GAFiC,mCAAA/zB,EAAA,yDAGjCg0B,EAHiC,+BAGd,kBAAM,MAEnBlC,EAAON,EAAOvoB,QAAQ,aACtBgrB,EAAgB,KAClBF,EAAkBtlB,OAAS,GAPE,qBAAAzO,EAAA,iBAQtBwV,GARsB,iBAAAxV,EAAA,6DASvBwhB,EAAMuS,EAAkBve,GATD,SAUT,IAAI0e,SAAQ,SAACC,EAASC,GACxCtC,EAAKuC,aAAa7S,GAAK,SAACxd,EAAKswB,GAC3B,GAAIA,IAAStwB,EACXmwB,EAAQ,CACN3S,MACA3Q,MAAOyjB,EAAKzjB,YAET,CACL,IAAM0jB,EAAS,+BAA2B/S,EAA3B,gBAAsCxd,EAAII,YACzDgwB,EAAO,IAAIl1B,MAAMq1B,WAnBM,OAUvBC,EAVuB,OAuB7BP,EAAc1R,KAAKiS,GACnBR,EAAiB,CACflB,SAAWtd,GAAKue,EAAkBtlB,OAAS,GAAM,IACjDkJ,KAAM,oCA1BqB,0CAQtBnC,EAAI,EARkB,YAQfA,EAAIue,EAAkBtlB,QARP,0CAQtB+G,GARsB,eAQeA,IARf,gDA8B1Bye,GA9B0B,4CAAH,wDCWjBQ,GAXe,SAACC,GAC7B,IAD4C,EACtCC,EAAe,GACfC,EAAyBF,EAAWxb,MAAM,MAFJ,cAG1B0b,GAH0B,IAG5C,2BAA0C,CAAC,IAAhCpT,EAA+B,QACpCA,EAAIviB,SAAS,aACf01B,EAAapS,KAAKf,IALsB,gCAQ5C,OAAOmT,GCEH5U,GAAW/d,YAAO,WAAPA,CAAmB,CAClCM,MAAO,OACPyI,UAAW,MAGP8pB,GAA2B7yB,YAAO,KAAPA,CAAa,CAC5CuV,WAAY,EACZnC,UAAW,WAGP0f,GAAqB9yB,YAAO,MAAPA,CAAc,CACvCM,MAAO,OACP0M,aAAc,EACdC,cAAe,IAGXlN,GAAYC,YAAO,MAAPA,CAAc,CAC9B4tB,WAAY,WACZ1tB,MAAO,SAGH6yB,GAAc/yB,YAAO,KAAPA,CAAa,CAC/BM,MAAO,OACP4E,OAAQ,OACRxE,OAAQ,YACR0S,UAAW,WAGP4f,GAAsBhzB,YAAO,KAAPA,CAAa,CACvCqX,eAAgB,eAChB9B,WAAY,IAGR0d,GAAiB,CACrB,CAAE12B,MAAO,MAAOsG,MAAO,QACvB,CAAEtG,MAAO,MAAOsG,MAAO,QACvB,CAAEtG,MAAO,cAAesG,MAAO,qBAI/B,CAAEtG,MAAO,eAAgBsG,MAAO,sBAChC,CAAEtG,MAAO,cAAesG,MAAO,qBAC/B,CAAEtG,MAAO,eAAgBsG,MAAO,uBAuKnBqwB,GApKe,SAAC,GAAqC,IAAnCjtB,EAAkC,EAAlCA,KAAMpF,EAA4B,EAA5BA,QAASod,EAAmB,EAAnBA,aACtCuR,GAAWpoB,MAAiB,IAA5BooB,OADyD,EAGjBnwB,mBAAS,IAHQ,mBAG1D8zB,EAH0D,KAGxCC,EAHwC,OAIzB/zB,mBAAS4zB,GAAe,GAAG12B,OAJF,mBAI1DkzB,EAJ0D,KAI5C4D,EAJ4C,OAKvCh0B,mBAAS,MAL8B,mBAK1D0B,EAL0D,KAKnDC,EALmD,OAOzB3B,mBAAS,CAAEyxB,SAAU,IAPI,mBAO1DQ,EAP0D,KAO5CgC,EAP4C,OAQnBj0B,mBAAS,GARU,mBAQ1DkyB,EAR0D,KAQzCgC,EARyC,OASvBl0B,oBAAS,GATc,mBAS1Dm0B,EAT0D,KAS3CC,EAT2C,OAUTp0B,mBAAS,MAVA,mBAU1DmyB,EAV0D,KAUpCkC,EAVoC,KAY3DC,EAAYxO,mBAEZyO,EAAe,uCAAG,sBAAA51B,EAAA,sDACtBs1B,EAAgB,CAAExC,SAAU,EAAGjiB,MAAO,KACtC0kB,EAAmB,GACnBE,GAAiB,GAHK,2CAAH,qDAMfI,EAAW,uCAAG,sBAAA71B,EAAA,sEACZ41B,IADY,OAElB/yB,IAFkB,2CAAH,qDAKjB,OACE,kBAACkV,GAAD,CACE9P,KAAMA,EACNpF,QAASgzB,EACThlB,MAAM,2BACNoG,QAAS,CACP,CACEU,KAAM,mBACNzK,UAAWsoB,EACXlwB,QAAS,WACPqwB,EAAUtO,UACVoO,GAAiB,KAGrB,CACE9d,KAAM,wBACNrS,QAAQ,WAAD,4BAAE,8CAAAtF,EAAA,6DACPy1B,GAAiB,GADV,SAE+BjE,EAAOsE,OAAOC,eAAe,CACjEllB,MAAO,iCACPmlB,YAAa,sBACbC,WAAY,CACV,kBACA,gBACA,oBARG,mBAECC,EAFD,EAECA,SAAUC,EAFX,EAEWA,WAUdD,GAAaC,EAZV,yCAY4BV,GAAiB,IAZ7C,cAcD/D,EAAeyE,EAAU,GAdxB,UAgByBrC,GAC9BtC,EACA2D,GACA,YAAyB,IAAtBrC,EAAqB,EAArBA,SAAqB,EAAXnb,KACX2d,EAAgB,CAAExC,gBAEpB/uB,OAAM,SAACqyB,GAGP,OAFAlyB,QAAQnB,MAAMqzB,EAAa9F,OAC3BttB,EAASozB,EAAahyB,YACf,QAzBF,WAgBDiyB,EAhBC,iDA2BwBZ,GAAiB,IA3BzC,QA6BDa,EAAsB,GACtBC,EAA4B,GAE5BC,EAAqBH,EAAkB5nB,OAhCtC,IAAAzO,EAAA,iBAkCEwV,GAlCF,iBAAAxV,EAAA,6DAmCCy2B,EAAmBJ,EAAkB7gB,GAnCtC,SAoCmB,IAAI0e,SAAQ,SAACC,EAASC,GAAY,IAChDrB,EAAW2D,GAAqB,CACtClF,SACAE,eACAJ,WAAYmF,EAAiBjV,IAC7B3Q,MAAO4lB,EAAiB5lB,MACxB4gB,eACAI,wBAAyB,SAAC8E,GAAD,OACvBpB,GACuC,IAAnCgB,EAA0B9nB,OAC1BkoB,IACsB,IAArBH,GACD,MAEN7E,WAAY,gBAAGmB,EAAH,EAAGA,SAAUnb,EAAb,EAAaA,KAAb,OACV2d,EAAgB,CACdxC,WACAjiB,MAAO4lB,EAAiB5lB,MACxB+lB,aAAcjf,KAElBia,WAAY,SAACiF,GAAD,OAAc1C,EAAQ0C,MAnB5B9D,OAqBR4C,EAAUtO,QAAU0L,KA1DjB,OAoCC+D,EApCD,OA6DLP,EAA0BhU,KACxB,wBAAI1jB,IAAK2W,EAAIihB,EAAiB5lB,OAC5B,kBAACmkB,GAAD,KACGyB,EAAiB5lB,SAIxB6kB,EAAwBa,GAExBD,EAAoB/T,KAAKuU,GAtEpB,0CAkCEthB,EAAI,EAlCN,aAkCSA,EAAIghB,GAlCb,0CAkCEhhB,GAlCF,iBAkCiCA,IAlCjC,wBAyEPyK,EACEqW,EAAoBp4B,KAAI,SAAC44B,GAAD,MAAgB,CACtChkB,SAAS,UAAD,OAAYgkB,QAIxBrB,GAAiB,GA/EV,4CAAF,kDAAC,GAiFRvoB,SAAUsoB,KAIbzyB,GAAS,kBAAC,GAAD,KAAYA,GACrByyB,IACClC,GAAgBA,EAAaR,UAAYQ,EAAaR,SAAW,GAChEU,IACyC,IAAxCuD,MAAMC,QAAQxD,IACdA,EAAqB/kB,OAAS,GAChC,kBAAC,GAAD,CACE6kB,aAAcA,EACdE,qBAAsBA,EACtBD,gBAAiBA,KAEC,IAAlBiC,EACF,kBAACT,GAAD,+BACE,MACFS,GACA,kBAAC,IAAMyB,SAAP,KACE,kBAACnC,GAAD,KACE,kBAACD,GAAD,6BAGA,kBAAC,WAAD,CACEnU,aAAcuU,GAAe,GAC7BxU,QAASwU,GACThwB,SAAU,gBAAG1G,EAAH,EAAGA,MAAH,OAAe82B,EAAgB92B,OAG7C,kBAAC,GAAD,CACE0G,SAAU,SAAC2B,EAAGga,GACZwU,EAAoBX,GAAsB7tB,EAAElD,OAAOnF,SAErDib,YAAa,iDCjNnB0d,GAAyB,SAACC,GAC9B,IAAMC,EAAMD,EAAGje,MAAM,KAAK5S,OAAO,GAAG,GAAGsL,cACvC,MAAI,CAAC,MAAO,MAAO,QAAQ3S,SAASm4B,GAC3B,CAAEzkB,SAAS,UAAD,OAAYwkB,IAE3B,CAAC,OAAOl4B,SAASm4B,GACZ,CAAElkB,OAAO,UAAD,OAAYikB,IAEzB,CAAC,MAAO,OAAQ,OAAOl4B,SAASm4B,GAC3B,CAAEtkB,SAAS,UAAD,OAAYqkB,IAExB,M,8CAGT,yCAAAn3B,EAAA,6DAAmDq3B,EAAnD,EAAmDA,SAAnD,SAIYA,EAAS7F,OAAOsE,OAAOC,eAAe,CAC9CllB,MAAO,mCACPolB,WAAY,CAAC,mBANjB,mBAEIC,EAFJ,EAEIA,SACWoB,EAHf,EAGInB,WAKED,EARN,wDASQqB,EAAUD,EAAS,GACnBE,EAAKH,EAAS7F,OAAOvoB,QAAQ,MAC7B8oB,EAAOsF,EAAS7F,OAAOvoB,QAAQ,QAXvC,UAYgBuuB,EAAGC,SAASC,QAAQH,GAZpC,wCAaK9hB,QAAO,SAACkiB,GAAD,OAAQA,EAAG14B,SAAS,QAC3Bf,KAAI,SAACqX,GAAD,OAAcwc,EAAKG,KAAKqF,EAAShiB,MACrCrX,IAAIg5B,IACJzhB,OAAO7V,UAhBZ,6C,sBAmBeg4B,O,6CCPTC,GAAa71B,YAAO81B,IAAP91B,CAAkB,CACnCM,MAAO,IACP4E,OAAQ,IACRE,QAAS,cACTC,cAAe,SACf,aAAc,CACZM,gBAAiB/K,KAAY,MAE/B8F,OAAQ,EACR,UAAW,CACTJ,MAAO,GACP4E,OAAQ,GACRhF,MAAOtF,KAAY,KACnB,aAAc,CACZsF,MAAOtF,KAAY,SAKnBm7B,GAAkB/1B,YAAO,MAAPA,CAAc,CACpCmJ,SAAU,GACVoC,WAAY,OACZrL,MAAOtF,KAAY,KACnB,aAAc,CACZsF,MAAOtF,KAAY,QAIjBo7B,GAAsBv6B,0BAEtB+N,GAAS,SAAC,GAUT,IATL2G,EASI,EATJA,KACA8lB,EAQI,EARJA,YACA9uB,EAOI,EAPJA,UACAjM,EAMI,EANJA,SACA44B,EAKI,EALJA,OACAoC,EAII,EAJJA,mBACA/3B,EAGI,EAHJA,WACAg4B,EAEI,EAFJA,aACAz4B,EACI,EADJA,KAEM2J,EAAUoD,KACVS,EAAW+qB,GACZ9uB,IACD+uB,IACAC,EACE5yB,IAAQ7F,GACR6F,IAAQpF,IAEd,OACE,kBAAC63B,GAAoBI,SAArB,MACG,YAAyB,IAAtBC,EAAqB,EAArBA,eACF,OACE,kBAACR,GAAD,CACEvyB,QAAS,WACP+D,EAAQO,QAAQ,wBAAyB,CACvC0uB,cAAexC,IAEjBuC,EAAevC,IAEjBtxB,UAAW+zB,KAAW,CAAErrB,aACxB3I,QAAQ,WACR2I,SAAUA,GAEV,6BACE,kBAACiF,EAAD,CAAM3N,UAAW+zB,KAAW,OAAQ,CAAErrB,eACtC,6BAAMhQ,GACL+6B,GACC,kBAACF,GAAD,CAAiBvzB,UAAW+zB,KAAW,CAAErrB,cAAzC,gBAIDgrB,GAAsB3yB,IAAQpF,IAC7B,kBAAC43B,GAAD,CAAiBvzB,UAAW+zB,KAAW,CAAErrB,cAAzC,2BAIDirB,GAAgB5yB,IAAQ7F,IACvB,kBAACq4B,GAAD,CAAiBvzB,UAAW+zB,KAAW,CAAErrB,cAAzC,2BAYD,eAUR,IARLkX,EAQI,EARJA,KACA4B,EAOI,EAPJA,aAEA3T,EAKI,EALJA,QACAmmB,EAII,EAJJA,gBACArvB,EAGI,EAHJA,UACAhJ,EAEI,EAFJA,WACAT,EACI,EADJA,KACI,EACmC2B,qBADnC,mBACGo3B,EADH,KACmBC,EADnB,KAEErB,EAAWjuB,KACXivB,EAAc,uCAAG,WAAOvC,GAAP,eAAA91B,EAAA,2DACb81B,EADa,OAEd,qBAFc,0BAGZuB,EAHY,iEAIUsB,GAAsC,CAC/DtB,aALe,cAIXuB,EAJW,OAOjBJ,EACExW,iBACE3P,EACA,CAAC,YACAA,EAAQE,SAAW,IAAIwG,OAAO6f,KAEjC,GAbe,oDAkBVF,EAAa5C,IAlBH,4CAAH,sDAuBdD,EAAc,kBAAM6C,EAAa,OAEjCzY,EAAe5Q,aAAgB,uCAAC,WAAOwpB,GAAP,SAAA74B,EAAA,sDACpCw4B,EACExW,iBAAM3P,EAAS,CAAC,YAAaA,EAAQE,SAAW,IAAIwG,OAAO8f,KAE7DhD,IAJoC,2CAAD,uDAOrC,OACE,kBAACmC,GAAoB15B,SAArB,CAA8BC,MAAO,CAAE85B,mBACrC,6BACE,kBAAC,GAAD,CACElvB,UAAWA,EACX2sB,OAAO,mBACP3jB,KAAM2mB,KACN34B,WAAYA,EACZg4B,cAAc,EACdz4B,KAAMA,GANR,cAUA,kBAAC,GAAD,CACEu4B,aAAW,EACX9uB,UAAWA,EACX2sB,OAAO,mBACP3jB,KAAM4mB,KACN54B,WAAYA,EACZg4B,cAAc,EACdz4B,KAAMA,GAPR,wBAWA,kBAAC,GAAD,CAAQo2B,OAAO,uBAAuB3jB,KAAM6mB,MAA5C,wBAGA,kBAAC,GAAD,CACE7vB,UAAWA,EACX2sB,OAAO,qBACP3jB,KAAM8mB,MAHR,sBAOA,kBAAC,GAAD,CACE9vB,UAAWA,EACX2sB,OAAO,eACP3jB,KAAM+mB,KACNjB,aAAW,GAJb,4BAQC7T,GACC,kBAAC,GAAD,CACEjb,UAAWA,EACX2sB,OAAO,iBACP3jB,KAAMgnB,GACNjB,oBAAoB,EACpB/3B,WAAYA,EACZg4B,cAAc,EACdz4B,KAAMA,GAPR,kBAYF,kBAAC,GAAD,CACEyJ,UAAWA,EACX2sB,OAAO,2BACP3jB,KAAMinB,KACNnZ,aAAcA,GAJhB,4BAQA,kBAAC,GAAD,CAAQ6V,OAAO,kBAAkB3jB,KAAMknB,MAAvC,0BAGA,kBAAC,GAAD,CACEpxB,KAAyB,yBAAnBwwB,EACN51B,QAASgzB,EACT5V,aAAcA,IAEhB,kBAACqZ,GAAD,CACErxB,KAAyB,qBAAnBwwB,EACN51B,QAASgzB,EACT5V,aAAcA,IAEfmE,GACC,kBAACmV,GAAD,CACEnV,KAAMA,EACNjkB,WAAYA,EACZ8H,KAAyB,mBAAnBwwB,EACNzS,aAAcA,EACdnjB,QAASgzB,EACTn2B,KAAMA,EACNugB,aAAcA,IAGlB,kBAACuZ,GAAD,CACEvxB,KAAyB,6BAAnBwwB,EACN51B,QAASgzB,EACT5V,aAAcA,IAEhB,kBAAC,GAAD,CACEhY,KAAyB,uBAAnBwwB,EACN51B,QAASgzB,EACT5V,aAAcA,IAEhB,kBAAC,GAAD,CACEhY,KAAyB,iBAAnBwwB,EACN51B,QAASgzB,EACT5V,aAAcA,IAEhB,kBAAC,GAAD,CACEhY,KAAyB,oBAAnBwwB,EACN51B,QAASgzB,EACT5V,aAAcA,OC1QT,cACb,QAAIjX,OAAOC,SACFrJ,QAAQoJ,OAAOC,QAAQ,cCS5BwwB,GAAOz3B,YAAO,MAAPA,CAAc,CACzBmJ,SAAU,IAGNuuB,GAAuB13B,YAAO0xB,KAAP1xB,CAAuB,CAClD2F,gBAAiB/K,KAAY,KAC7B2N,OAAO,aAAD,OAAe3N,KAAY,MACjC2F,UAAW,GACXyM,aAAc,KAGV2qB,GAA8B33B,YAAO2xB,KAAP3xB,CAA8B,CAChEuL,WAAY,SAGC,eAAkD,IAA/CtF,EAA8C,EAA9CA,KAAMuwB,EAAwC,EAAxCA,gBAAiB31B,EAAuB,EAAvBA,QAASwP,EAAc,EAAdA,QAChD,OACE,kBAAC0F,GAAD,CACE9P,KAAMA,EACNpF,QAASA,EACTgO,MAAM,4BACNoG,QAAS,CACP,CACEU,KAAM,4BACNzK,UAAWmF,EAAQE,QACnBjN,QAAS,WACP,IAAMiN,EAAUF,EAAQE,QAAQqnB,SAAQ,SAACz7B,EAAMmX,GAC7C,IAAKnX,EAAK2U,SAAU,MAAO,CAAE2Q,KAAMtlB,EAAMuxB,OAAQvxB,EAAKsjB,YACtD,GAAItjB,EAAK2U,WAAa3U,EAAK07B,aAAc,CACvC,IAAK17B,EAAKsjB,WAAY,MAAO,GAC7B,IAAKtjB,EAAKsjB,WAAWqY,UAAW,MAAO,GAFA,IAG/BA,EAAc37B,EAAKmX,GAAOmM,WAA1BqY,UACR,OAAOjL,OAAOkL,KAAKD,GAAW57B,KAAI,SAAC87B,GAAD,MAAS,CACzClnB,SAAU3U,EAAK2U,SACf+mB,aAAcI,SAASD,GACvBvY,WAAYqY,EAAUE,GAAIE,SAAW,WAK3C1B,EACE2B,KAAU9nB,GACP2P,MACC,CAAC,WACDzP,EAAQrU,KAAI,SAACqS,GAAD,OAAOA,EAAEkT,SAEtBzB,MAAM,CAAC,YAAa,QAAS,2BA7B1C,yQAuCI3P,EAAQE,SACR,2BACE,6BACA,6BAFF,iDAMF,kBAACmnB,GAAD,KACE,kBAACC,GAAD,gBACA,kBAAC9F,GAAA,EAAD,KACE,kBAACxc,GAAA,EAAD,CAAKjQ,QAAQ,QACX,kBAACiQ,GAAA,EAAD,KACE,kBAACoiB,GAAD,0TAoBF,kBAACpiB,GAAA,EAAD,CAAKjQ,QAAQ,OAAOqE,eAAe,SAASnE,WAAW,UACrD,kBAAC,IAAD,CACEwF,MAAO,CAAE5K,MAAOtF,KAAY,KAAM0F,MAAO,GAAI4E,OAAQ,OAGzD,kBAACmQ,GAAA,EAAD,KACE,kBAACoiB,GAAD,6b,0CChGRW,GAAWp4B,YAAO,MAAPA,CAAc,CAC7BE,MAAO,MACP0tB,WAAY,UACZzkB,SAAU,KAGZ,SAASkvB,GAAaC,EAAeC,EAAe/I,GAClD,IAAMjc,EAAQ,iBAAailB,KAAIF,GAAeh0B,MAAM,EAAG,GAAzC,aAAgDg0B,EAC3DphB,MAAM,KACN5S,OAAO,GAAG,GACVka,QAAQ,oBAAqB,KAC1BkR,EAAeK,KAAKG,KAAKqI,EAAehlB,GAC9C,OAAIic,EAAOvoB,QAAQ,MAAMwxB,WAAW/I,GAAsBA,EACnD,IAAIwC,SAAQ,SAACC,EAASC,GAC3B5C,EAAOvoB,QAAQ,gBAAfuoB,CACE8I,EACA,CACEI,UAAWH,EACXI,SAAUplB,IAEZ,SAACvR,GACC,OAAIA,EAAYowB,EAAOpwB,GAChBmwB,EAAQzC,SAMR,mBAAkD,IAA/CzpB,EAA8C,EAA9CA,KAAMuwB,EAAwC,EAAxCA,gBAAiB31B,EAAuB,EAAvBA,QAASwP,EAAc,EAAdA,QACxCmf,GAAWpoB,MAAiB,IAA5BooB,OADsD,EAE3BnwB,mBAAS,MAFkB,mBAEvDyxB,EAFuD,KAE7C8H,EAF6C,OAG/Bv5B,mBAAS,IAHsB,mBAGvDmX,EAHuD,KAG/CM,EAH+C,KAI9D,OACE,kBAACf,GAAD,CACE9P,KAAMA,EACNpF,QAASA,EACTgO,MAAM,gBACNoG,QAAS,CACP,CACEU,KAAM,gBACNzK,SAAuB,OAAb4lB,EACVxtB,QAAQ,WAAD,4BAAE,kDAAAtF,EAAA,6DACP46B,EAAe,GADR,SAKGpJ,EAAOsE,OAAOC,eAAe,CACrCllB,MAAO,iCACPmlB,YAAa,sBACbC,WAAY,CACV,kBACA,gBACA,oBAXG,mBAGL4E,EAHK,EAGLA,UAHK,gBAIL1E,WAA6B,CAAC,MAJzB,qBAIOoE,EAJP,MAcHM,GAAcN,EAdX,wBAeLK,EAAe,MAfV,2BAmBDzX,EAnBC,YAmBgB9Q,EAAQE,SAC3BiG,EAAS,GAIJhD,EAAI,EAxBN,aAwBSA,EAAInD,EAAQE,QAAQ9D,QAxB7B,oBAyBCqsB,EAAKzoB,EAAQE,QAAQiD,GACvBulB,OA1BC,EA2BDD,EAAGnoB,WAAUooB,EAAS,YACtBD,EAAGhoB,WAAUioB,EAAS,YACrBA,GAAWD,EAAGC,GAAQvS,WAAW,QA7BjC,+DA8BC8R,EAAgBQ,EAAGC,GA9BpB,oBAgCsBV,GACvBC,EACAC,EACA/I,GAnCC,QAgCGwJ,EAhCH,OAqCH7X,EAAW3N,GAAX,eACKslB,EADL,eAEGC,EAFH,iBAEsBC,KAvCnB,mDA0CHxiB,GAAM,qDAAkDhD,EAAlD,cAAyD8kB,EAAzD,cAA4E,KAAEl2B,WAA9E,OA1CH,QA4CLw2B,EAAgBplB,EAAInD,EAAQE,QAAQ9D,OAAU,KA5CzC,QAwBqC+G,IAxBrC,wBA+CPgjB,EAAgBxW,iBAAM3P,EAAS,CAAC,WAAY8Q,IAE5CrK,EAAaN,GACboiB,EAAe,KAlDR,2DAAF,kDAAC,MARd,kPAmEE,kBAACnH,GAAD,CAAaX,SAAUA,GAAY,IAClCta,GAAU,kBAAC4hB,GAAD,KAAW5hB,K,qBCvGtB4hB,GAAWp4B,YAAO,MAAPA,CAAc,CAC7BE,MAAO,MACP0tB,WAAY,UACZzkB,SAAU,KAGN8vB,GAAoB,SAACC,GACzB,IAAMC,EAAKniB,KAAKyG,MAAMyb,EAAK,IAAM,IAC3BE,EAAKpiB,KAAKyG,MAAMyb,EAAK,KAAQ,GAC7BG,EAAKriB,KAAKyG,MAAMyb,EAAK,IAAO,IAAM,GAExC,MAAO,CADIliB,KAAKyG,MAAMyb,EAAK,IAAO,GAAK,IAC3B,IAAKG,EAAI,IAAKD,EAAI,IAAKD,GAChCj9B,KAAI,SAACigB,GAAD,MAAqB,kBAANA,EAAiBA,EAAE/Z,WAAWk3B,SAAS,EAAG,KAAOnd,KACpE+T,KAAK,KAGK,eAAkD,IAA/CjqB,EAA8C,EAA9CA,KAAMuwB,EAAwC,EAAxCA,gBAAiB31B,EAAuB,EAAvBA,QAASwP,EAAc,EAAdA,QACxCmf,GAAWpoB,MAAiB,IAA5BooB,OADsD,EAE3BnwB,mBAAS,MAFkB,mBAEvDyxB,EAFuD,KAE7C8H,EAF6C,OAG/Bv5B,mBAAS,IAHsB,mBAGvDmX,EAHuD,KAG/CM,EAH+C,KAI9D,OACE,kBAACf,GAAD,CACE9P,KAAMA,EACNpF,QAASA,EACTgO,MAAM,iCACNoG,QAAS,CACP,CACEU,KAAM,iCACNzK,SAAuB,OAAb4lB,EACVxtB,QAAQ,WAAD,4BAAE,4CAAAtF,EAAA,sDACP46B,EAAe,GACXpiB,EAAS,IACP+iB,EAAe/J,EAAOvoB,QAAQ,mBAElC6P,EACE,qFAIE0iB,EAAQhK,EAAOvoB,QAAQ,oBAVtB,EAWUuoB,EAAOvoB,QAAQ,iBAAxBwyB,EAXD,EAWCA,KACFC,EAZC,YAYgBrpB,EAAQE,SAC3BopB,EAAsB,EAEjBnmB,EAAI,EAfN,YAeSA,EAAInD,EAAQE,QAAQ9D,QAf7B,sBAgBCqsB,EAAKzoB,EAAQE,QAAQiD,IACpB1C,eAAgC3T,IAApB27B,EAAGjB,aAjBjB,0CAAA75B,EAAA,sCAAAA,EAAA,0DAkBC86B,EAAGhoB,SAAS0V,WAAW,QAlBxB,uBAmBDhQ,GAAM,iBAAchD,EAAd,8EAnBL,4CAsBHmmB,IAEM7E,EAAYgE,EAAGhoB,SAAS0N,QAAQ,aAAc,IAC9Cob,EACJ9E,EAAY,cAAgBgE,EAAGjB,aAAe,OAC1CgC,EAAgBL,EAAM,CAC1BD,EACA,KACA,MACAN,GAAkBH,EAAGjB,cACrB,KACA/C,EACA,YACA,EACA8E,IApCC,SAsCG,IAAI1H,SAAQ,SAACC,EAASC,GAC1BqH,EAAKI,EAAe,CAAE7e,QAAS,MAAQ,SAAChZ,GACtC,GAAIA,EAAK,OAAOowB,EAAOpwB,GACvBmwB,UAzCD,OA4CHuH,EAAWlmB,GAAX,eACKsmB,mBACDA,mBAAQzpB,EAAQE,QAAQiD,GAAI,YAC5B,gBAHJ,CAKE7C,SAAS,UAAD,OAAYipB,KAjDnB,2IAoDLhB,EAAgBplB,EAAInD,EAAQE,QAAQ9D,OAAU,KApDzC,QAeqC+G,IAfrC,uBAuDqB,IAAxBmmB,IACFnjB,GACE,uIAGJggB,EAAgBxW,iBAAM3P,EAAS,CAAC,WAAYqpB,IAE5C5iB,EAAaN,GACboiB,EAAe,KA/DR,4CAAF,kDAAC,MARd,4OAgFE,kBAACnH,GAAD,CAAaX,SAAUA,GAAY,IAClCta,GAAU,kBAAC,GAAD,KAAWA,KCxFbujB,GAvBa,uCAAG,2CAAA/7B,EAAA,6DAASuV,EAAT,EAASA,SAAUymB,EAAnB,EAAmBA,QAASxK,EAA5B,EAA4BA,OACzDxoB,OAAOwoB,OAASA,EACVyK,EAFuB,8CAE4B1mB,GAEnD2mB,EAAQ1K,EAAOvoB,QAAQ,SACvBkzB,EAAgBH,EAAQ9iB,MAAM,WAAW,GAEzCkjB,EAAe5K,EAAOvoB,QAAQ,MAAMozB,aAAaF,GAP1B,SASCD,EAC3BI,IAAIL,EAAWG,GACfv4B,MAAK,SAACqgB,GACL,GAAwB,MAApBA,EAASqY,OACX,OAAOrY,EAAST,QAbO,cASvB+Y,EATuB,yBAiBtBA,EAAgBhc,QACrB,yBACA,+BAnB2B,4CAAH,sDCQbic,GARkB,SAACT,GAChC,GAAIA,EAAQxT,WAAW,WAAY,CACjC,IAAMkU,EAAuBV,EAAQ9iB,MAAM,KAE3C,OADqBwjB,EAAqBA,EAAqBjuB,OAAS,KCI7DkuB,GAPO,SAACx+B,GACrB,OAAIA,EAAKwU,SAAiB,WACtBxU,EAAK2U,SAAiB,WACtB3U,EAAKsV,SAAiB,WACnB,MC+DMmpB,GAvDiB,uCAAG,mDAAA58B,EAAA,sDACjCqS,EADiC,EACjCA,QACAmmB,EAFiC,EAEjCA,gBACAqE,EAHiC,EAGjCA,YACArL,EAJiC,EAIjCA,OAEMkK,EAAa,GAEboB,EAAe,IAAMzqB,EAAQE,QAAQ9D,OAErCsuB,EAAe,EAVY,YAW/BA,EAAe1qB,EAAQE,QAAQ9D,QAXA,oBAczBuuB,EAAc3qB,EAAQE,QAAQwqB,GAE9BE,EAAaN,GAAcK,GAhBF,wBAmB7BtB,EAAWnZ,KAAKya,GAnBa,oCAuBzBhB,EAAUgB,EAAYC,IAEfzU,WAAW,WAzBO,wBA0B7BkT,EAAWnZ,KAAKya,GA1Ba,uCA+B/BH,EAD2BC,EAAeC,GApC/BxsB,EAuCYksB,GAAyBT,GAA1CzmB,EAtCRhF,EACGqB,cACA4O,QAAQ,aAAc,KACtBA,QAAQ,MAAO,KAEe,UAmCIub,GAAuB,CACxDxmB,WACAymB,UACAxK,WACCztB,OAAM,SAAC6C,GAAD,OAAO1C,QAAQg5B,KAAKt2B,MAvCE,WAmCzBu2B,EAnCyB,+BA0C7BzB,EAAWnZ,KAAKya,GA1Ca,gCA8C/BtB,EAAWnZ,KAAX,eACKya,EADL,eAEGC,EAAaE,KAhDe,QAY/BJ,IAZ+B,uBAmDjCF,EAAY,KACZrE,EAAgBxW,iBAAM3P,EAAS,CAAC,WAAYqpB,IApDX,kCANrB,IAACnrB,IAMoB,OAAH,sDC4BjB6sB,GAlCsB,SAAC,GAK/B,IAJLn1B,EAII,EAJJA,KACApF,EAGI,EAHJA,QACAwP,EAEI,EAFJA,QACAmmB,EACI,EADJA,gBACI,EAC4Bn3B,mBAAS,GADrC,mBACGyxB,EADH,KACa+J,EADb,KAEIrL,GAAWpoB,MAAiB,IAA5BooB,OAER,OACE,kBAACzZ,GAAD,CACE9P,KAAMA,EACNpF,QAASA,EACTgO,MAAM,kCACNoG,QAAS,CACP,CACEU,KAAM,kCACNrS,QAAQ,WAAD,4BAAE,sBAAAtF,EAAA,sEACD48B,GAA2B,CAC/BvqB,UACAmmB,kBACAqE,cACArL,WALK,mFAAF,kDAAC,MAPd,sGAmBE,kBAACiC,GAAD,CAAaX,SAAUA,M,0CCbvB+E,GAAa71B,YAAO81B,IAAP91B,CAAkB,CACnCM,MAAO,IACP4E,OAAQ,IACRE,QAAS,cACTC,cAAe,SACf,aAAc,CACZM,gBAAiB/K,KAAY,MAE/B8F,OAAQ,EACR,UAAW,CACTJ,MAAO,GACP4E,OAAQ,GACRhF,MAAOtF,KAAY,KACnB,aAAc,CACZsF,MAAOtF,KAAY,SAKnBm7B,GAAkB/1B,YAAO,MAAPA,CAAc,CACpCmJ,SAAU,GACVoC,WAAY,OACZrL,MAAOtF,KAAY,KACnB,aAAc,CACZsF,MAAOtF,KAAY,QAIjBo7B,GAAsBv6B,0BAEtB+N,GAAS,SAAC,GAA+D,IAA7D6xB,EAA4D,EAA5DA,MAAOC,EAAqD,EAArDA,MAAOrF,EAA8C,EAA9CA,YAAa/6B,EAAiC,EAAjCA,SAAU44B,EAAuB,EAAvBA,OAAQ5oB,EAAe,EAAfA,SACvD/D,EAAYo0B,KACZl0B,EAAUoD,KAGhB,OAFAS,OACe/N,IAAb+N,IAA0B+qB,IAAe9uB,EAAqB+D,EAE9D,kBAAC,GAAoBkrB,SAArB,MACG,YAAyB,IAAtBC,EAAqB,EAArBA,eACF,OACE,kBAAC,GAAD,CACE/yB,QAAS,WACP+yB,EAAevC,GACfzsB,EAAQO,QAAQ,2BAA4B,CAC1C4zB,iBAAkB1H,KAGtBtxB,UAAW+zB,KAAW,CAAErrB,aACxB3I,QAAQ,WACR2I,SAAUA,GAEV,6BACGmwB,GAASC,EACR,oCACE,kBAACD,EAAD,CAAO74B,UAAW+zB,KAAW,OAAQ,CAAErrB,eACvC,kBAAC,IAAD,CACE1I,UAAW+zB,KAAW,OAAQ,CAAErrB,eAElC,kBAACowB,EAAD,CAAO94B,UAAW+zB,KAAW,OAAQ,CAAErrB,gBAGzC,kBAACmwB,EAAD,CAAO74B,UAAW+zB,KAAW,OAAQ,CAAErrB,eAEzC,6BAAMhQ,GACL+6B,GACC,kBAAC,GAAD,CAAiBzzB,UAAW+zB,KAAW,CAAErrB,cAAzC,sBAYD,eAAmC,IAAhCmF,EAA+B,EAA/BA,QAASmmB,EAAsB,EAAtBA,gBAAsB,EACRn3B,qBADQ,mBACxCo3B,EADwC,KACxBC,EADwB,KAEzCL,EAAc,uCAAG,WAAOvC,GAAP,SAAA91B,EAAA,2DACb81B,EADa,OAEd,iCAFc,iFAMV4C,EAAa5C,IANH,2CAAH,sDAUdD,EAAc,kBAAM6C,EAAa,OACvC,OACE,kBAAC,GAAoBp6B,SAArB,CAA8BC,MAAO,CAAE85B,mBACrC,6BACE,kBAAC,GAAD,CACEnrB,SAAqC,uBAA3BmF,EAAQC,UAAUpN,KAC5B4wB,OAAO,+BACPuH,MAAOxqB,KACPyqB,MAAOG,MAJT,sCAQA,kBAAC,GAAD,CACExF,aAAW,EACXnC,OAAO,kCACPuH,MAAOK,KACPJ,MAAOK,MAJT,qCAQA,kBAAC,GAAD,CAAQ1F,aAAW,EAACnC,OAAO,gBAAgBuH,MAAOO,MAAlD,iBAGA,kBAAC,GAAD,CACE3F,aAAW,EACXnC,OAAO,iCACPuH,MAAOxqB,KACPyqB,MAAOO,MAJT,kCAQA,kBAACC,GAAD,CACE71B,KAAyB,iCAAnBwwB,EACN51B,QAASgzB,EACTxjB,QAASA,EACTmmB,gBAAiB,WACfA,EAAe,WAAf,aACA3C,OAGJ,kBAACkI,GAAD,CACE91B,KAAyB,kBAAnBwwB,EACN51B,QAASgzB,EACTxjB,QAASA,EACT4lB,aAAW,EACXO,gBAAiBA,IAEnB,kBAAC,GAAD,CACEnmB,QAASA,EACTxP,QAASgzB,EACT2C,gBAAiBA,EACjBP,aAAW,EACXhwB,KAAyB,oCAAnBwwB,IAER,kBAACuF,GAAD,CACE/1B,KAAyB,mCAAnBwwB,EACN51B,QAASgzB,EACTxjB,QAASA,EACT4lB,aAAW,EACXO,gBAAiBA,OClJrBxuB,GAAYhI,YAAO,MAAPA,CAAc,CAC9BC,QAAS,GACTiF,OAAQ,OACRE,QAAS,OACTC,cAAe,SACfwD,UAAW,eAGPozB,GAAgBj8B,YAAO,MAAPA,CAAc,CAClCmJ,SAAU,GACVjJ,MAAOtF,KAAY,KACnBwK,QAAS,OACTqE,eAAgB,WAChBnE,WAAY,SACZoI,SAAU,IAGNwuB,GAAuBl8B,YAAO,MAAPA,CAAc,CACzCC,QAAS,EACTsI,OAAQ,iBACRqM,UAAW,OACX9L,aAAc,EACdqzB,oBAAqB,EACrBC,qBAAsB,EACtBpzB,UAAW,oCAEPqzB,GAAmBr8B,YAAO,MAAPA,CAAc,CACrCmJ,SAAU,GACVoC,WAAY,SAER+wB,GAAkBt8B,YAAO,MAAPA,CAAc,CAAE4tB,WAAY,WAAYzkB,SAAU,KAEpEka,GAAc,SAAC,GAAc,IAAZ5B,EAAW,EAAXA,KACbhC,EAAyBgC,EAAzBhC,WAAe8c,EADS,aACC9a,EADD,gBAGhC,OACE,kBAACya,GAAD,KACE,kBAAC/1B,EAAA,EAAD,CAAM3F,QAAS,EAAG4F,WAAS,GACzB,kBAACD,EAAA,EAAD,CAAMhK,MAAI,EAACkK,GAAI,GACb,kBAACg2B,GAAD,gBAA2B5a,EAAKnO,MAAhC,MACA,kBAACgpB,GAAD,KAAkBl/B,KAAKC,UAAUk/B,EAAO,KAAM,QAEhD,kBAACp2B,EAAA,EAAD,CAAMhK,MAAI,EAACkK,GAAI,GACb,kBAACg2B,GAAD,gBAA2B5a,EAAKnO,MAAhC,iBACA,kBAACgpB,GAAD,KACGl/B,KAAKC,UAAUoiB,EAAY,KAAM,WAQ/B,eAUR,IATL2C,EASI,EATJA,KACA/R,EAQI,EARJA,QACAmsB,EAOI,EAPJA,sBACAC,EAMI,EANJA,sBACAC,EAKI,EALJA,aACAlG,EAII,EAJJA,gBACAxS,EAGI,EAHJA,aACA7lB,EAEI,EAFJA,WACAT,EACI,EADJA,KAEMyJ,EAAYo0B,KADd,EAEiCl8B,mBACA,KAAlCgR,EAAQE,SAAW,IAAI9D,OACpB,SACAzF,OAAO21B,aAAaC,eAAiB,QALvC,mBAEGnuB,EAFH,KAEeouB,EAFf,KAOEC,EAAY,SAAClvB,GACjBivB,EAAejvB,GACf5G,OAAO21B,aAAaC,cAAgBhvB,GAEhCoV,EAAU/mB,mBAAQ,WACtB,IAAKoU,EAAQE,QAAS,MAAO,GAC7B,IAF4B,EAEtByS,EAAU,CACd,CACErhB,KAAM,QACNkhB,SAAU,QACVC,UAAU,IAGRia,EAAY,IAAIC,IATM,cAUX3sB,EAAQE,SAVG,IAU5B,2BAAkC,CAAC,IAAxBuoB,EAAuB,QAChC,IAAK,IAAMj8B,KAAOi8B,EACXiE,EAAUE,IAAIpgC,KACjBmmB,EAAQzC,KAAK,CACX5e,KAAM9E,EACNgmB,SAAUhmB,IAEZkgC,EAAUG,IAAIrgC,KAjBQ,gCAgD5B,OA3BAmmB,EAAQzC,KAAK,CACX5e,KAAM,OACN3G,QAAQ,EACRmiC,KAAM,SAACvV,GAAD,OACJ,kBAAC/c,GAAA,EAAD,CAAYuyB,QAAM,EAAC95B,QAAS,kBAAMk5B,EAAsB5U,EAAItU,SAC1D,kBAAC,KAAD,CAAUxI,MAAO,CAAExK,MAAO,GAAI4E,OAAQ,UAI5C8d,EAAQzC,KAAK,CACX5e,KAAM,QACN3G,QAAQ,EACRmiC,KAAM,SAACvV,GAAD,OACJ,kBAAC/c,GAAA,EAAD,CAAYuyB,QAAM,EAAC95B,QAAS,kBAAMm5B,EAAsB7U,EAAItU,SAC1D,kBAAC,KAAD,CAAiBxI,MAAO,CAAExK,MAAO,GAAI4E,OAAQ,UAInD8d,EAAQzC,KAAK,CACX5e,KAAM,SACN3G,QAAQ,EACRmiC,KAAM,SAACvV,GAAD,OACJ,kBAAC/c,GAAA,EAAD,CAAYuyB,QAAM,EAACziC,SAAO,EAAC2I,QAAS,kBAAMo5B,EAAa9U,EAAItU,SACzD,kBAAC,KAAD,CAAYxI,MAAO,CAAExK,MAAO,GAAI4E,OAAQ,UAIvC8d,IACN,CACD3S,EAAQE,QACRmsB,EACAF,EACAC,IAGIhb,EAAOxlB,mBAAQ,WACnB,OAAKoU,EAAQE,QACNF,EAAQE,QAAQrU,KAAI,SAAC48B,EAAItlB,GAAL,sBACtBslB,EADsB,CAEzBxlB,MAAOE,OAHoB,KAK5B,CAACnD,EAAQE,UACZ,OACE,kBAAC,GAAD,KACE,kBAAC8E,GAAA,EAAD,CAAKjQ,QAAQ,QACX,kBAACsK,GAAA,EAAD,CAAMnT,MAAOkS,EAAYxL,SAAU,SAAC2B,EAAG+K,GAAJ,OAAemtB,EAAUntB,KAC1D,kBAACE,GAAA,EAAD,CAAKE,KAAM,kBAAC,KAAD,MAAgBlN,MAAM,SAAStG,MAAM,WAChD,kBAACsT,GAAA,EAAD,CAAKE,KAAM,kBAAC,KAAD,MAAmBlN,MAAM,YAAYtG,MAAM,cACtD,kBAACsT,GAAA,EAAD,CAAKE,KAAM,kBAAC,KAAD,MAAclN,MAAM,OAAOtG,MAAM,SAC5C,kBAACsT,GAAA,EAAD,CAAKE,KAAM,kBAAC,KAAD,MAAoBlN,MAAM,QAAQtG,MAAM,WAErD,kBAAC0/B,GAAD,MACI5rB,EAAQE,SAAW,IAAI9D,OAD3B,WAEE,8BACE4D,EAAQE,SAAW,IAAIkD,QAAO,SAAClF,GAAD,OAAOA,EAAEkR,cAAYhT,OAHvD,YAMF,kBAAC4I,GAAA,EAAD,CAAK/J,WAAY,IACjB,kBAAC+J,GAAA,EAAD,CAAK3H,SAAU,GACG,WAAfe,GACC,kBAAC4uB,GAAD,CACEjb,KAAMA,EACNjb,UAAWA,EACX6c,aAAc,SAAC5B,GAAD,OAAU4B,EAAa5B,IACrCkb,uBAAwB,kBAAMR,EAAU,SACxCtG,gBAAiB,SAAC+G,GAAD,OAAY/G,EAAgB+G,IAC7CltB,QAASA,EACTlS,WAAYA,EACZT,KAAMA,IAGM,cAAf+Q,GACC,kBAAC+uB,GAAD,CACEr2B,UAAWA,EACXkJ,QAASA,EACTmmB,gBAAiB,SAACnmB,EAASotB,GACzBjH,EAAgBnmB,GACZotB,GACFX,EAAU,WAKF,SAAfruB,GACC,kBAACivB,GAAD,CACEthB,OAAQ/L,EAAQE,SAAW,IAAI9D,OAC/B8D,QAASF,EAAQE,SAAW,GAC5BuL,WAAYzL,EAAQE,SAAW,IAAIrU,KAAI,SAACqS,GAAD,OACrC3Q,QAAQ2Q,EAAEkR,eAEZnc,QAAS,SAACq6B,GACRlB,EAAsBkB,MAIZ,UAAflvB,GACC,kBAAC,KAAD,CACEI,MAAM,UACNsY,wBAAyB,kBAAC,GAAD,MACzBD,gBAAc,EACdzD,OAAK,EACLT,QAASA,EACTvB,KAAMA,EACNoC,YAAU,EACVC,kBAAmB,GACnBC,6BAA8B,CAAC,GAAI,GAAI,GAAI,GAAI,IAAK,UC1N1D1jB,GAAO,CACX4Q,UAAW,CACT,CACEtP,KAAM,qBACNkN,MAAO,uBACPvT,YAAa,mDACb4H,KAAM,oBACN06B,QAAS,CAAC,eAAgB,UAAW,UAEvC,CACEj8B,KAAM,kBACNkN,MAAO,mCACP3L,KAAM,WAER,CACEvB,KAAM,uBACNkN,MAAO,kCACP3L,KAAM,WAER,CACEvB,KAAM,SACNkN,MAAO,mBACPvT,YACE,yFACF4H,KAAM,gBACN8f,QAAS,CACP,CAAE6a,SAAU,OAAQl8B,KAAM,KAAMkN,MAAO,MACvC,CACEgvB,SAAU,OACVl8B,KAAM,cACNkN,MAAO,8BAOF,eAA0B,IAAvBivB,EAAsB,EAAtBA,MAAO76B,EAAe,EAAfA,SACjBuV,EAAiBvc,mBACrB,iBAAO,CACL8hC,gBAAiBngC,QACfkgC,EAAMC,sBAA6C5gC,IAA1B2gC,EAAMC,iBAEjCC,qBAAsBpgC,QAAQkgC,EAAME,sBACpCttB,mBAAoBotB,EAAMptB,mBAC1BD,QACGqtB,EAAMrtB,QAAU,IAAIvU,KAAI,SAAC8B,GAAD,MACV,kBAANA,EAAiB,CAAE3C,GAAI2C,EAAG1C,YAAa0C,GAAMA,MACjD,MAET,CAAC8/B,IAEH,OACE,kBAAC,KAAD,CACEG,WAAS,EACT17B,QAAQ,OACRiW,eAAgBA,EAChBH,iBAAkB,SAACC,EAAYC,EAAUL,GACvCjV,EAAS+c,iBAAM8d,EAAO,CAACxlB,GAAaC,KAEtClY,KAAMA,MC5DNA,GAAO,CACX4Q,UAAW,CACT,CACEtP,KAAM,WACNkN,MAAO,4CACP3L,KAAM,WAER,CACEvB,KAAM,SACNkN,MAAO,SACPvT,YAAa,yCACb4H,KAAM,gBACN8f,QAAS,CACP,CAAE6a,SAAU,OAAQl8B,KAAM,KAAMkN,MAAO,MACvC,CACEgvB,SAAU,OACVl8B,KAAM,cACNkN,MAAO,8BAOF,eAA0B,IAAvBivB,EAAsB,EAAtBA,MAAO76B,EAAe,EAAfA,SACjBuV,EAAiBvc,mBACrB,iBAAO,CACLiiC,eAAe,EACfztB,QACGqtB,EAAMrtB,QAAU,IAAIvU,KAAI,SAAC8B,GAAD,MACV,kBAANA,EAAiB,CAAE3C,GAAI2C,EAAG1C,YAAa0C,GAAMA,MACjD,MAET,CAAC8/B,EAAMrtB,SAET,OACE,kBAAC,KAAD,CACEwtB,WAAS,EACT17B,QAAQ,OACRiW,eAAgBA,EAChBH,iBAAkB,SAACC,EAAYC,EAAUL,GACvCjV,EAAS+c,iBAAM8d,EAAO,CAACxlB,GAAaC,KAEtClY,KAAMA,MC1CNA,GAAO,CACX4Q,UAAW,CACT,CACEtP,KAAM,WACNkN,MAAO,iCACP3L,KAAM,WAER,CACEvB,KAAM,SACNkN,MAAO,SACPvT,YAAa,yCACb4H,KAAM,gBACN8f,QAAS,CACP,CAAE6a,SAAU,OAAQl8B,KAAM,KAAMkN,MAAO,MACvC,CAAEgvB,SAAU,OAAQl8B,KAAM,cAAekN,MAAO,gBAChD,CACEgvB,SAAU,OACVl8B,KAAM,cACNkN,MAAO,8BAOF,eAA0B,IAAvBivB,EAAsB,EAAtBA,MAAO76B,EAAe,EAAfA,SACjBuV,EAAiBvc,mBACrB,iBAAO,CACLkiC,UAAU,EACV1tB,QACGqtB,EAAMrtB,QAAU,IAAIvU,KAAI,SAAC8B,GAAD,MACV,kBAANA,EAAiB,CAAE3C,GAAI2C,EAAGqT,YAAarT,EAAG1C,YAAa0C,GAAMA,MACjE,MAET,CAAC8/B,EAAMrtB,SAET,OACE,kBAAC,KAAD,CACEwtB,WAAS,EACT17B,QAAQ,OACRiW,eAAgBA,EAChBH,iBAAkB,SAACC,EAAYC,EAAUL,GACvCjV,EAAS+c,iBAAM8d,EAAO,CAACxlB,GAAaC,KAEtClY,KAAMA,MCgJNA,GAAO,CACX4Q,UAAW,CACT,CACEtP,KAAM,oBACNkN,MAAO,qBACP3L,KAAM,WACN06B,QAAS,CAAC,SAAU,WAEtB,CACEj8B,KAAM,aACNkN,MAAO,cACPvT,YAAa,4DACb4H,KAAM,QAER,CACEvB,KAAM,2BACNkN,MAAO,gCACP3L,KAAM,WAER,CACEvB,KAAM,WACNkN,MAAO,WACP3L,KAAM,WAEN06B,QAtNY,CAChB,CAAErhC,MAAO,KAAMoZ,KAAM,aACrB,CAAEpZ,MAAO,KAAMoZ,KAAM,QACrB,CAAEpZ,MAAO,KAAMoZ,KAAM,aACrB,CAAEpZ,MAAO,KAAMoZ,KAAM,QACrB,CAAEpZ,MAAO,KAAMoZ,KAAM,YACrB,CAAEpZ,MAAO,KAAMoZ,KAAM,WACrB,CAAEpZ,MAAO,KAAMoZ,KAAM,UACrB,CAAEpZ,MAAO,KAAMoZ,KAAM,aACrB,CAAEpZ,MAAO,KAAMoZ,KAAM,YACrB,CAAEpZ,MAAO,KAAMoZ,KAAM,YACrB,CAAEpZ,MAAO,KAAMoZ,KAAM,UACrB,CAAEpZ,MAAO,KAAMoZ,KAAM,WACrB,CAAEpZ,MAAO,KAAMoZ,KAAM,UACrB,CAAEpZ,MAAO,KAAMoZ,KAAM,eACrB,CAAEpZ,MAAO,KAAMoZ,KAAM,WACrB,CAAEpZ,MAAO,KAAMoZ,KAAM,WACrB,CAAEpZ,MAAO,KAAMoZ,KAAM,UACrB,CAAEpZ,MAAO,KAAMoZ,KAAM,cACrB,CAAEpZ,MAAO,KAAMoZ,KAAM,WACrB,CAAEpZ,MAAO,KAAMoZ,KAAM,oBACrB,CAAEpZ,MAAO,KAAMoZ,KAAM,WACrB,CAAEpZ,MAAO,KAAMoZ,KAAM,WACrB,CAAEpZ,MAAO,KAAMoZ,KAAM,UACrB,CAAEpZ,MAAO,KAAMoZ,KAAM,aACrB,CAAEpZ,MAAO,KAAMoZ,KAAM,WACrB,CAAEpZ,MAAO,KAAMoZ,KAAM,sBACrB,CAAEpZ,MAAO,KAAMoZ,KAAM,iBACrB,CAAEpZ,MAAO,KAAMoZ,KAAM,YACrB,CAAEpZ,MAAO,KAAMoZ,KAAM,WACrB,CAAEpZ,MAAO,KAAMoZ,KAAM,2BACrB,CAAEpZ,MAAO,KAAMoZ,KAAM,WACrB,CAAEpZ,MAAO,KAAMoZ,KAAM,uDACrB,CAAEpZ,MAAO,KAAMoZ,KAAM,WACrB,CAAEpZ,MAAO,KAAMoZ,KAAM,WACrB,CAAEpZ,MAAO,KAAMoZ,KAAM,YACrB,CAAEpZ,MAAO,KAAMoZ,KAAM,QACrB,CAAEpZ,MAAO,KAAMoZ,KAAM,YACrB,CAAEpZ,MAAO,KAAMoZ,KAAM,SACrB,CAAEpZ,MAAO,KAAMoZ,KAAM,UACrB,CAAEpZ,MAAO,KAAMoZ,KAAM,8BACrB,CAAEpZ,MAAO,KAAMoZ,KAAM,kBACrB,CAAEpZ,MAAO,KAAMoZ,KAAM,YACrB,CAAEpZ,MAAO,KAAMoZ,KAAM,WACrB,CAAEpZ,MAAO,KAAMoZ,KAAM,aACrB,CAAEpZ,MAAO,KAAMoZ,KAAM,YACrB,CAAEpZ,MAAO,KAAMoZ,KAAM,OACrB,CAAEpZ,MAAO,KAAMoZ,KAAM,WACrB,CAAEpZ,MAAO,KAAMoZ,KAAM,UACrB,CAAEpZ,MAAO,KAAMoZ,KAAM,WACrB,CAAEpZ,MAAO,KAAMoZ,KAAM,UACrB,CAAEpZ,MAAO,KAAMoZ,KAAM,SACrB,CAAEpZ,MAAO,KAAMoZ,KAAM,2BACrB,CAAEpZ,MAAO,KAAMoZ,KAAM,YACrB,CAAEpZ,MAAO,KAAMoZ,KAAM,SACrB,CAAEpZ,MAAO,KAAMoZ,KAAM,YACrB,CAAEpZ,MAAO,KAAMoZ,KAAM,UACrB,CAAEpZ,MAAO,KAAMoZ,KAAM,kBACrB,CAAEpZ,MAAO,KAAMoZ,KAAM,kBACrB,CAAEpZ,MAAO,KAAMoZ,KAAM,4BACrB,CAAEpZ,MAAO,KAAMoZ,KAAM,WACrB,CAAEpZ,MAAO,KAAMoZ,KAAM,YACrB,CAAEpZ,MAAO,KAAMoZ,KAAM,2BACrB,CAAEpZ,MAAO,KAAMoZ,KAAM,SACrB,CAAEpZ,MAAO,KAAMoZ,KAAM,UACrB,CAAEpZ,MAAO,KAAMoZ,KAAM,UACrB,CAAEpZ,MAAO,KAAMoZ,KAAM,SACrB,CAAEpZ,MAAO,KAAMoZ,KAAM,aACrB,CAAEpZ,MAAO,KAAMoZ,KAAM,aACrB,CAAEpZ,MAAO,KAAMoZ,KAAM,aACrB,CAAEpZ,MAAO,KAAMoZ,KAAM,OACrB,CAAEpZ,MAAO,KAAMoZ,KAAM,QACrB,CAAEpZ,MAAO,KAAMoZ,KAAM,cACrB,CACEpZ,MAAO,KACPoZ,KAAM,8DAER,CAAEpZ,MAAO,KAAMoZ,KAAM,eACrB,CAAEpZ,MAAO,KAAMoZ,KAAM,aACrB,CAAEpZ,MAAO,KAAMoZ,KAAM,WACrB,CAAEpZ,MAAO,KAAMoZ,KAAM,SACrB,CAAEpZ,MAAO,KAAMoZ,KAAM,WACrB,CAAEpZ,MAAO,KAAMoZ,KAAM,YACrB,CAAEpZ,MAAO,KAAMoZ,KAAM,YACrB,CAAEpZ,MAAO,KAAMoZ,KAAM,WACrB,CAAEpZ,MAAO,KAAMoZ,KAAM,UACrB,CAAEpZ,MAAO,KAAMoZ,KAAM,YACrB,CAAEpZ,MAAO,KAAMoZ,KAAM,UACrB,CAAEpZ,MAAO,KAAMoZ,KAAM,eACrB,CAAEpZ,MAAO,KAAMoZ,KAAM,QACrB,CAAEpZ,MAAO,KAAMoZ,KAAM,SACrB,CAAEpZ,MAAO,KAAMoZ,KAAM,UACrB,CAAEpZ,MAAO,KAAMoZ,KAAM,sBACrB,CAAEpZ,MAAO,KAAMoZ,KAAM,WACrB,CAAEpZ,MAAO,KAAMoZ,KAAM,UACrB,CAAEpZ,MAAO,KAAMoZ,KAAM,OACrB,CAAEpZ,MAAO,KAAMoZ,KAAM,SACrB,CAAEpZ,MAAO,KAAMoZ,KAAM,WACrB,CAAEpZ,MAAO,KAAMoZ,KAAM,gCACrB,CAAEpZ,MAAO,KAAMoZ,KAAM,oCACrB,CAAEpZ,MAAO,KAAMoZ,KAAM,WACrB,CAAEpZ,MAAO,KAAMoZ,KAAM,cACrB,CAAEpZ,MAAO,KAAMoZ,KAAM,gBACrB,CAAEpZ,MAAO,KAAMoZ,KAAM,cACrB,CAAEpZ,MAAO,KAAMoZ,KAAM,YACrB,CAAEpZ,MAAO,KAAMoZ,KAAM,SACrB,CAAEpZ,MAAO,KAAMoZ,KAAM,aACrB,CAAEpZ,MAAO,KAAMoZ,KAAM,WACrB,CAAEpZ,MAAO,KAAMoZ,KAAM,QACrB,CAAEpZ,MAAO,KAAMoZ,KAAM,SACrB,CAAEpZ,MAAO,KAAMoZ,KAAM,WACrB,CAAEpZ,MAAO,KAAMoZ,KAAM,eACrB,CAAEpZ,MAAO,KAAMoZ,KAAM,iCACrB,CAAEpZ,MAAO,KAAMoZ,KAAM,aACrB,CAAEpZ,MAAO,KAAMoZ,KAAM,SACrB,CAAEpZ,MAAO,KAAMoZ,KAAM,kBACrB,CAAEpZ,MAAO,KAAMoZ,KAAM,oBACrB,CAAEpZ,MAAO,KAAMoZ,KAAM,UACrB,CAAEpZ,MAAO,KAAMoZ,KAAM,UACrB,CAAEpZ,MAAO,KAAMoZ,KAAM,iBACrB,CAAEpZ,MAAO,KAAMoZ,KAAM,aACrB,CAAEpZ,MAAO,KAAMoZ,KAAM,uBACrB,CAAEpZ,MAAO,KAAMoZ,KAAM,qBACrB,CAAEpZ,MAAO,KAAMoZ,KAAM,qBACrB,CAAEpZ,MAAO,KAAMoZ,KAAM,uBACrB,CAAEpZ,MAAO,KAAMoZ,KAAM,UACrB,CAAEpZ,MAAO,KAAMoZ,KAAM,SACrB,CAAEpZ,MAAO,KAAMoZ,KAAM,SACrB,CAAEpZ,MAAO,KAAMoZ,KAAM,qBACrB,CAAEpZ,MAAO,KAAMoZ,KAAM,QACrB,CAAEpZ,MAAO,KAAMoZ,KAAM,oBACrB,CAAEpZ,MAAO,KAAMoZ,KAAM,kBACrB,CAAEpZ,MAAO,KAAMoZ,KAAM,WACrB,CAAEpZ,MAAO,KAAMoZ,KAAM,UACrB,CAAEpZ,MAAO,KAAMoZ,KAAM,cACrB,CAAEpZ,MAAO,KAAMoZ,KAAM,WACrB,CAAEpZ,MAAO,KAAMoZ,KAAM,WACrB,CAAEpZ,MAAO,KAAMoZ,KAAM,SACrB,CAAEpZ,MAAO,KAAMoZ,KAAM,WACrB,CAAEpZ,MAAO,KAAMoZ,KAAM,UACrB,CAAEpZ,MAAO,KAAMoZ,KAAM,SACrB,CAAEpZ,MAAO,KAAMoZ,KAAM,YACrB,CAAEpZ,MAAO,KAAMoZ,KAAM,aACrB,CAAEpZ,MAAO,KAAMoZ,KAAM,WACrB,CAAEpZ,MAAO,KAAMoZ,KAAM,SACrB,CAAEpZ,MAAO,KAAMoZ,KAAM,UACrB,CAAEpZ,MAAO,KAAMoZ,KAAM,sBACrB,CAAEpZ,MAAO,KAAMoZ,KAAM,UACrB,CAAEpZ,MAAO,KAAMoZ,KAAM,aACrB,CAAEpZ,MAAO,KAAMoZ,KAAM,UACrB,CAAEpZ,MAAO,KAAMoZ,KAAM,mBACrB,CAAEpZ,MAAO,KAAMoZ,KAAM,iBACrB,CAAEpZ,MAAO,KAAMoZ,KAAM,sBACrB,CAAEpZ,MAAO,KAAMoZ,KAAM,aACrB,CAAEpZ,MAAO,KAAMoZ,KAAM,WACrB,CAAEpZ,MAAO,KAAMoZ,KAAM,SACrB,CAAEpZ,MAAO,KAAMoZ,KAAM,WACrB,CAAEpZ,MAAO,KAAMoZ,KAAM,WACrB,CAAEpZ,MAAO,KAAMoZ,KAAM,YACrB,CAAEpZ,MAAO,KAAMoZ,KAAM,SACrB,CAAEpZ,MAAO,KAAMoZ,KAAM,SACrB,CAAEpZ,MAAO,KAAMoZ,KAAM,SACrB,CAAEpZ,MAAO,KAAMoZ,KAAM,UACrB,CAAEpZ,MAAO,KAAMoZ,KAAM,QACrB,CAAEpZ,MAAO,KAAMoZ,KAAM,WACrB,CAAEpZ,MAAO,KAAMoZ,KAAM,YACrB,CAAEpZ,MAAO,KAAMoZ,KAAM,yBACrB,CAAEpZ,MAAO,KAAMoZ,KAAM,UACrB,CAAEpZ,MAAO,KAAMoZ,KAAM,UACrB,CAAEpZ,MAAO,KAAMoZ,KAAM,WACrB,CAAEpZ,MAAO,KAAMoZ,KAAM,WACrB,CAAEpZ,MAAO,KAAMoZ,KAAM,OACrB,CAAEpZ,MAAO,KAAMoZ,KAAM,kBACrB,CAAEpZ,MAAO,KAAMoZ,KAAM,aACrB,CAAEpZ,MAAO,KAAMoZ,KAAM,QACrB,CAAEpZ,MAAO,KAAMoZ,KAAM,SACrB,CAAEpZ,MAAO,KAAMoZ,KAAM,SACrB,CAAEpZ,MAAO,KAAMoZ,KAAM,cACrB,CAAEpZ,MAAO,KAAMoZ,KAAM,WACrB,CAAEpZ,MAAO,KAAMoZ,KAAM,WACrB,CAAEpZ,MAAO,KAAMoZ,KAAM,SACrB,CAAEpZ,MAAO,KAAMoZ,KAAM,mBACrB,CAAEpZ,MAAO,KAAMoZ,KAAM,SACrB,CAAEpZ,MAAO,KAAMoZ,KAAM,SACrB,CAAEpZ,MAAO,KAAMoZ,KAAM,WACrB,CAAEpZ,MAAO,KAAMoZ,KAAM,UACrB,CAAEpZ,MAAO,KAAMoZ,KAAM,kBACrB,CAAEpZ,MAAO,KAAMoZ,KAAM,UA6BnB,CACEhU,KAAM,cACNkN,MAAO,cACP3L,KAAM,oBAKG,eAA0B,IAAvB46B,EAAsB,EAAtBA,MAAO76B,EAAe,EAAfA,SACvB,OACE,kBAAC,KAAD,CACEg7B,WAAS,EACT17B,QAAQ,OACR8V,iBAAkB,SAACC,EAAYC,EAAUL,GACnCK,EAAShc,MACX0G,EAAS,eAAK66B,EAAN,eAAcxlB,EAAaC,EAAShc,SAE5C0G,EAAS,eAAK66B,EAAN,eAAcxlB,EAAaC,MAGvClY,KAAMA,MC5ONA,GAAO,CACX4Q,UAAW,CAaT,CACEtP,KAAM,SACNkN,MAAO,SACP3L,KAAM,gBACNk7B,UAAU,EACVpb,QAAS,CACP,CACE6a,SAAU,OACVl8B,KAAM,KACNkN,MAAO,MAET,CACEgvB,SAAU,OACVl8B,KAAM,cACNkN,MAAO,gBAET,CACEgvB,SAAU,OACVl8B,KAAM,cACNkN,MAAO,mBAOF,eAA0B,IAAvBivB,EAAsB,EAAtBA,MAAO76B,EAAe,EAAfA,SACjBuV,EAAiBvc,mBACrB,iBAAO,CACLX,YAAawiC,EAAMxiC,YACnB8V,eAAgBxT,QACdkgC,EAAM1sB,qBAA2CjU,IAAzB2gC,EAAM1sB,gBAEhCX,QAASqtB,EAAMrtB,QAAU,IAAIvU,KAAI,SAACmiC,GAAD,MACb,kBAAXA,EACH,CACEhjC,GAAIgjC,EACJhtB,YAAagtB,EACb/iC,YAAa+iC,GAEfA,QAGR,CAACP,IAEH,OACE,kBAAC,KAAD,CACEG,WAAS,EACT17B,QAAQ,OACR8V,iBAAkB,SAACC,EAAYC,EAAUL,GACvCjV,EAAS+c,iBAAM8d,EAAO,CAACxlB,GAAaC,KAEtClY,KAAMA,GACNmY,eAAgBA,K,8DCvDhB8lB,GAAmBt+B,YAAO,MAAPA,CAAc,CACrCoT,UAAW,UAEPmrB,GAAcv+B,YAAO,MAAPA,CAAc,CAChCmJ,SAAU,GACVjJ,MAAOtF,KAAY,KACnB2Q,WAAY,OACZ6H,UAAW,SACXnT,QAAS,KAGLu+B,GAAWx+B,YAAO,MAAPA,CAAc,CAC7BiI,SAAU,WACVhI,QAAS,GACTS,OAAQ,GACR+9B,WAAW,aAAD,OAAe7jC,IAAY,MAErCkO,aAAc,EACd0a,aAAc,GACd,gBAAiB,CACfvb,SAAU,WACVqO,MAAO,EACP1N,IAAK,GAEP,QAAS,CACPlI,OAAQ,KAGNg+B,GAAgB1+B,YAAO,MAAPA,CAAc,CAClCmJ,SAAU,GACVoC,WAAY,OACZrL,MAAOtF,KAAY,KACnBK,cAAe,YACfyF,OAAQ,GACRsM,aAAc,KAGV3B,GAAerL,YAAOwJ,IAAPxJ,CAAe,CAClCiI,SAAU,WACV,UAAW,CACTyB,YAAa,EACbN,QAAS,MAIE,eAA0B,IAAvB00B,EAAsB,EAAtBA,MAAO76B,EAAe,EAAfA,SACjB07B,EAAWxZ,mBADqB,EAEH9lB,oBAAS,GAFN,mBAE/Bu/B,EAF+B,KAErBC,EAFqB,QAGXf,EAAM9sB,UAAY,IAArCC,iBAH8B,MAGlB,GAHkB,EAItC,OACE,6BACwB,IAArBA,EAAUxE,OACT,kBAAC8xB,GAAD,yCAEAttB,EAAU/U,KAAI,SAAC4iC,EAAGtrB,GAAJ,OACZ,kBAACgrB,GAAD,CAAU3hC,IAAK2W,GACb,yBAAK1I,MAAO,CAAE1F,QAAS,SACrB,kBAAC1C,EAAA,EAAD,CACEH,QAAQ,WACRM,MAAM,oBACNtG,MAAOuiC,EAAEn9B,MAAQ,GACjBsB,SAAU,SAAC2B,GACT3B,EACE+c,iBACE8d,EACA,CAAC,WAAY,YAAatqB,EAAG,QAC7B5O,EAAElD,OAAOnF,WAKjB,kBAACmG,EAAA,EAAD,CACEoI,MAAO,CAAE5C,WAAY,EAAGwF,SAAU,GAClCnL,QAAQ,WACRM,MAAM,sBACNtG,MAAOuiC,EAAEjwB,OAAS,GAClB5L,SAAU,SAAC2B,GACT3B,EACE+c,iBACE8d,EACA,CAAC,WAAY,YAAatqB,EAAG,SAC7B5O,EAAElD,OAAOnF,YAMnB,kBAAC4J,EAAA,EAAD,CAAMC,WAAS,GACb,kBAACD,EAAA,EAAD,CAAMhK,MAAI,EAACkK,GAAI,GACZy4B,EAAElB,SACD,kBAACl7B,EAAA,EAAD,CACEoI,MAAO,CACLvK,UAAW,EACXijB,aAAc,EACd3a,UAAW,cAEbtG,QAAQ,WACRK,WAAS,EACTC,MAAM,yBACN6b,aAAcogB,EAAElB,QAAQ1N,KAAK,OAAS,GACtCjtB,SAAU,SAAC2B,GACT3B,EACE+c,iBACE8d,EACA,CAAC,WAAY,YAAatqB,EAAG,WAC7B5O,EAAElD,OAAOnF,MAAM2a,MAAM,SAI3B6nB,WAAS,EACTC,KAAM,KAIZ,kBAAC74B,EAAA,EAAD,CAAMhK,MAAI,EAACkK,GAAI,GACb,kBAACq4B,GAAD,gBACA,kBAAC,KAAD,CACET,WAAS,EACT17B,QAAQ,OACR1F,IAAKiiC,EACLz+B,KAAM,CAAE4Q,UAAW,CAAC6tB,QAI1B,kBAACj0B,GAAA,EAAD,CACErI,UAAU,aACVc,QAAS,WACPL,EACE+c,iBACE8d,EACA,CAAC,WAAY,aAFV,sBAGC7sB,EAAU3M,MAAM,EAAGkP,IAHpB,YAG2BvC,EAAU3M,MAAMkP,EAAI,SAKxD,kBAAC,KAAD,WAKR,kBAAC8qB,GAAD,KACE,kBAAC,GAAD,CAAch7B,QAAS,SAACsB,GAAD,OAAOi6B,GAAe,IAAOI,IAAKN,GACvD,kBAAC,KAAD,CAAen8B,UAAU,SAD3B,cAKF,kBAAC,KAAD,CACEm8B,SAAUA,GAAYA,EAAStZ,QAC/Bpf,KAAM24B,EACN/9B,QAAS,kBAAMg+B,GAAe,KAE9B,kBAACK,GAAA,EAAD,CACE57B,QAAS,WACPu7B,GAAe,GACf57B,EACE+c,iBACE8d,EACA,CAAC,WAAY,eACXA,EAAM9sB,UAAY,IAAIC,WAAa,IAAI8F,OAAO,CAC9C,CACEpV,KAAM,QAAUsP,EAAUxE,OAC1BvJ,KAAM,OACN2L,MAAO,wBAXnB,cAoBA,kBAACqwB,GAAA,EAAD,CACE57B,QAAS,WACPu7B,GAAe,GACf57B,EACE+c,iBACE8d,EACA,CAAC,WAAY,cACZA,EAAM9sB,SAASC,WAAa,IAAI8F,OAAO,CACtCpV,KAAM,QAAUsP,EAAUxE,OAC1BvJ,KAAM,aACN2L,MAAO,6BACP+uB,QAAS,CAAC,MAAO,QAAS,YAXpC,oBAmBA,kBAACsB,GAAA,EAAD,CACE57B,QAAS,WACPu7B,GAAe,GACf57B,EACE+c,iBACE8d,EACA,CAAC,WAAY,cACZA,EAAM9sB,SAASC,WAAa,IAAI8F,OAAO,CACtCpV,KAAM,QAAUsP,EAAUxE,OAC1BvJ,KAAM,WACN2L,MAAO,qBACP+uB,QAAS,CAAC,IAAK,IAAK,WAX9B,cAmBA,kBAACsB,GAAA,EAAD,CACE57B,QAAS,WACPu7B,GAAe,GACf57B,EACE+c,iBACE8d,EACA,CAAC,WAAY,aACbA,EAAM9sB,SAASC,UAAU8F,OAAO,CAC9BpV,KAAM,QAAUsP,EAAUxE,OAC1BvJ,KAAM,UACN2L,MAAO,0BAVjB,WAkBA,kBAACqwB,GAAA,EAAD,CACE57B,QAAS,WACPu7B,GAAe,GACf57B,EACE+c,iBACE8d,EACA,CAAC,WAAY,cACZA,EAAM7sB,WAAa,IAAI8F,OAAO,CAC7BpV,KAAM,QAAUsP,EAAUxE,OAC1BvJ,KAAM,WACN2L,MAAO,qBACP+uB,QAAS,CAAC,IAAK,IAAK,WAX9B,2BAmBA,kBAACsB,GAAA,EAAD,CACE57B,QAAS,WACPu7B,GAAe,GACf57B,EACE+c,iBACE8d,EACA,CAAC,WAAY,aACbA,EAAM9sB,SAASC,UAAU8F,OAAO,CAC9B,CACEpV,KAAM,QAAUsP,EAAUxE,OAC1BvJ,KAAM,oBACN2L,MAAO,8BACP+uB,QAAS,CAAC,IAAK,IAAK,YAZhC,4CC3PFuB,GAASn/B,YAAO,MAAPA,CAAc,IACvB03B,GAAuB13B,YAAO0xB,KAAP1xB,CAAuB,CAClDO,UAAW,GACXgI,OAAQ,mBAEJ8C,GAAerL,YAAOwJ,IAAPxJ,CAAe,CAClCM,MAAO,OACPI,OAAQ,GACRwH,WAAY,IAGC,eAA0B,IAAvB41B,EAAsB,EAAtBA,MAAO76B,EAAe,EAAfA,SACvB,OACE,kBAAC,IAAMgyB,SAAP,KACE,kBAACkK,GAAD,MACIrB,EAAMnsB,QAAU,IAAIzV,KAAI,SAACkjC,EAAGC,GAAJ,OACxB,kBAAC,GAAD,CAAsBxiC,IAAKwiC,GACzB,kBAAC1N,GAAA,EAAD,CAAuBC,WAAY,kBAAC,KAAD,OAChCwN,EAAExtB,WAEL,kBAACigB,GAAA,EAAD,KACE,kBAACxc,GAAA,EAAD,CAAKjQ,QAAQ,OAAOC,cAAc,UAChC,kBAAC3C,EAAA,EAAD,CACEG,MAAM,aACNtG,MAAO6iC,EAAExtB,UACT3O,SAAU,SAAC2B,GACT3B,EACE+c,iBACE,CAAC,SAAUqf,EAAY,aACvBz6B,EAAElD,OAAOnF,MACTuhC,OAKR,kBAAC,GAAD,CACEwB,UAAQ,EACRxB,MAAOsB,EAAE9uB,UACTrN,SAAU,SAACs8B,GACTt8B,EAAS,eACJ66B,EADG,CAENnsB,OAAQmsB,EAAMnsB,OAAOzV,KAAI,SAACsjC,GAAD,OACvBA,EAAM5tB,YAAcwtB,EAAExtB,UAAtB,eACSwtB,EADT,CACY9uB,UAAWivB,IACnBC,WAKZ,kBAAC,IAAD,CACEl8B,QAAS,WACPL,EAAS,eACJ66B,EADG,CAENnsB,OAAQmsB,EAAMnsB,OAAO8B,QACnB,qBAAG7B,YAA8BwtB,EAAExtB,kBAL3C,sBAgBR,kBAAC,GAAD,CACEtO,QAAS,WACPL,EACE+c,iBACE8d,EACA,CAAC,WACAA,EAAMnsB,QAAU,IAAIoF,OAAO,CAC1B0oB,YAAa3B,EAAMnsB,QAAU,IAAIlF,OACjCmF,UAAW,YACXtB,UAAW,CACTpN,KAAM,eAVlB,oBCzEFw8B,GAAwB1/B,YAAO,MAAPA,CAAc,CAC1CoT,UAAW,SACX9H,WAAY,GACZ2B,cAAe,GACf2O,WAAY,SAGR+jB,GAAkB3/B,YAAO,KAAPA,CAAa,CACnCuL,WAAY,OACZrL,MAAOtF,KAAY,OAGfglC,GAAa5/B,YAAO,IAAPA,CAAY,CAC7BE,MAAOtF,IAAY,OAsBNilC,GAnBK,WAClB,OACE,kBAACH,GAAD,KACE,kBAACC,GAAD,8HAE6D,IAC3D,kBAACC,GAAD,CACEl+B,OAAO,SACPo+B,IAAI,sBACJ9vB,KAAK,sEAHP,QAMc,IAThB,mBClBA3P,GAAO,CACX4Q,UAAW,CACT,CACEtP,KAAM,qBACNkN,MAAO,uBACPvT,YAAa,mDACb4H,KAAM,oBACN06B,QAAS,CAAC,eAAgB,UAAW,UAEvC,CACEj8B,KAAM,kBACNkN,MAAO,mCACP3L,KAAM,WAER,CACEvB,KAAM,uBACNkN,MAAO,kCACP3L,KAAM,WAER,CACEvB,KAAM,SACNkN,MAAO,SACPvT,YACE,gGACF4H,KAAM,gBACN8f,QAAS,CACP,CAAE6a,SAAU,OAAQl8B,KAAM,KAAMkN,MAAO,MACvC,CACEgvB,SAAU,OACVl8B,KAAM,cACNkN,MAAO,8BAOF,eAA0B,IAAvBivB,EAAsB,EAAtBA,MAAO76B,EAAe,EAAfA,SACjBuV,EAAiBvc,mBACrB,iBAAO,CACL8hC,gBAAiBngC,QACfkgC,EAAMC,sBAA6C5gC,IAA1B2gC,EAAMC,iBAEjCC,qBAAsBpgC,QAAQkgC,EAAME,sBACpCttB,mBAAoBotB,EAAMptB,mBAC1BD,QACGqtB,EAAMrtB,QAAU,IAAIvU,KAAI,SAAC8B,GAAD,MACV,kBAANA,EAAiB,CAAE3C,GAAI2C,EAAG1C,YAAa0C,GAAMA,MACjD,MAET,CAAC8/B,IAEH,OACE,kBAAC,KAAD,CACEG,WAAS,EACT17B,QAAQ,OACRiW,eAAgBA,EAChBH,iBAAkB,SAACC,EAAYC,EAAUL,GACvCjV,EAAS+c,iBAAM8d,EAAO,CAACxlB,GAAaC,KAEtClY,KAAMA,MCjEG,SAAS0/B,GAAmB/E,GAAc,IAC/C1/B,EAAuC0/B,EAAvC1/B,YAAaqV,EAA0BqqB,EAA1BrqB,SAAU6O,EAAgBwb,EAAhBxb,IAAKtO,EAAW8pB,EAAX9pB,OACpC,OAAI5V,IACAqV,EAAgB,KAAN,OAAYA,EAAZ,aAAyBA,EAAzB,KACVO,EAEA,qBAAcA,EAAd,6BACiBA,EAAOsN,QACtB,UACA,YAHF,kEAMAgB,EAAW,mBAAN,OAA0BA,EAA1B,KACF,M,wFCTHrf,GAAYC,YAAW,CAC3B4/B,oBAAqB,CACnB93B,WAAY,EACZwB,YAAa,GAEfu2B,WAAY,CACVhlC,cAAe,OACfuK,OAAQ,UACR6R,eAAgB,eAIL,eAA6D,IAA1D/T,EAAyD,EAAzDA,QAASqS,EAAgD,EAAhDA,KACnBzG,EAAI/O,KACV,OACE,0BAAMqC,UAAW0M,EAAE8wB,qBAAnB,IAEE,0BAAM18B,QAASA,EAASd,UAAW0M,EAAE+wB,YAClCtqB,GAHL,MCEExV,GAAYC,aAAW,SAAC5F,GAAD,MAAY,CACvC0lC,OAAQ,CACNv6B,gBAAiB,OACjBpF,UAAW,IAEb4/B,cAAe,CACb76B,WAAY,SACZrF,QAAS,GACTmF,QAAS,OACTqE,eAAgB,iBAElB22B,aAAc,CACZxrB,UAAW,iBACX1M,WAAY,GACZwB,YAAa,IAEf22B,YAAa,CACXj7B,QAAS,eAEXk7B,iBAAkB,CAChBpgC,MAAO,OACPqI,OAAQ,kCACRmB,YAAa,GACbyZ,YAAa,GAEfod,WAAY,CACV72B,YAAa,GAEf82B,WAAY,CACV92B,YAAa,EACbxJ,MAAO,QAETuN,KAAM,CACJC,SAAU,GAEZwP,QAAS,CACP,QAAS,CACPxc,OAAQ,IAGZpF,YAAa,CACX2E,QAAS,GACT,QAAS,CACPqV,SAAU,oBACVpN,WAAY,EACZwB,YAAa,EACb+2B,UAAW,MAGfC,cAAe,CACbn1B,WAAY,IACZpC,SAAU,GACVlJ,QAAS,GACTqL,WAAY,GACZrQ,cAAe,YACfiF,MAAOtF,KAAY,MAErB4N,QAAS,CACPvI,QAAS,QAkJE0gC,GA7IgB,SAAC,GAezB,IAAD,IAdJC,gBAAiBC,OAcb,MAZE,WAFoC75B,OAAO21B,aAAamE,QAC5D,mBAaE,EAVJC,GAUI,EAXJC,mBAWI,EAVJD,QAUI,IATJE,kCASI,SAPJC,GAOI,EARJ3wB,QAQI,EAPJ2wB,kBACAC,EAMI,EANJA,mBACAC,EAKI,EALJA,aACAC,EAII,EAJJA,eAII,IAHJ5T,kBAGI,MAHS,GAGT,EAFJnyB,EAEI,EAFJA,YACAJ,EACI,EADJA,SAEMgU,EAAI/O,KADN,EAEkDd,mBACpDwhC,GAHE,mBAEGD,EAFH,KAEoBU,EAFpB,KAKEC,EAAwB,SAACC,GAC7Bx6B,OAAO21B,aAAa8E,QAClB,kBADF,WAEMD,EAAO,OAAS,QAFtB,MAIAF,EAA2BE,IAVzB,EAa+CniC,oBAAS,GAbxD,mBAaGqiC,EAbH,KAaqBC,EAbrB,KAcJ,OACE,oCACE,kBAACx7B,EAAA,EAAD,CAAMC,WAAS,IACXw6B,GACA,kBAACz6B,EAAA,EAAD,CAAMhK,MAAI,EAACkK,GAAI,GAAIC,GAAI,GAAIC,GAAI,GAC7B,yBAAK/D,UAAW0M,EAAEwxB,eAAlB,cAEE,kBAACkB,GAAD,CACEt+B,QAAS,kBAAMi+B,GAAsB,IACrC5rB,KAAK,UAGT,yBAAKnT,UAAW0M,EAAE5T,aAChB,kBAAC,KAAD,CAAeumC,YAAY,EAAOrsB,OAAQla,MAIhD,kBAAC6K,EAAA,EAAD,CAAMhK,MAAI,EAACkK,GAAI,GAAIC,GAAI,GAAIC,GAAIq6B,EAAkB,GAAK,GACpD,yBAAKp+B,UAAW0M,EAAEwxB,eAAlB,UACUS,EAAqB,EAD/B,IACmCC,EAChCR,GACC,kBAACgB,GAAD,CACEt+B,QAAS,kBAAMi+B,GAAsB,IACrC5rB,KAAK,qBAGRyrB,EAAe,GACd,kBAACQ,GAAD,CACEt+B,QAAS,kBAAMq+B,GAAuB,IACtChsB,KAAK,aAGRorB,GACC,kBAACa,GAAD,CAAYt+B,QAAS,kBAAMy9B,KAAUprB,KAAK,yBAG9C,yBAAK7K,MAAO,CAAE/B,UAAWm4B,GAAoB1+B,UAAW0M,EAAE1G,SACvDtN,IAGJkmC,EAAe,GACd,kBAACj7B,EAAA,EAAD,CAAMhK,MAAI,EAACkK,GAAI,IACb,yBAAK7D,UAAW0M,EAAEgxB,QAChB,yBAAK19B,UAAW0M,EAAEkxB,eAClB,yBAAK59B,UAAW0M,EAAEixB,eAChB,kBAAC,IAAD,CACE78B,QAAS,kBACP+9B,GACGF,EAAqB,EAAIC,GAAgBA,KAI9C,kBAAC,KAAD,MAPF,gBASA,kBAAC,IAAD,CACE99B,QAAS,kBAAMq+B,GAAuB,IACtCn/B,UAAW0M,EAAEmxB,aAEZc,EAAqB,EAJxB,MAI8BC,GAE9B,kBAAC,IAAD,CACEl2B,SACE+1B,IACCxT,EAAW0T,GAEd79B,QAAS,kBACP+9B,GAAgBF,EAAqB,GAAKC,KAG3CH,IAA+BxT,EAAW0T,GACvC,mBACA,cACJ,kBAAC,KAAD,WAOZ,kBAACp7B,EAAA,EAAD,CACEE,KAAMy7B,EACN17B,OAAO,OACPnF,QAAS,kBAAM8gC,GAAuB,KAEtC,kBAAC5uB,GAAA,EAAD,CAAMjI,MAAO,CAAEoD,SAAU,MACvB,kBAACiF,GAAA,EAAD,gBACCiK,KAAM,EAAGgkB,GAAcllC,KAAI,SAACsX,GAAD,OAC1B,kBAACR,GAAA,EAAD,CACElI,MAAO,CACLnF,gBACE6N,IAAM2tB,EAAqBvmC,KAAY,UAAOuC,GAElDnC,QAAM,EACNsI,QAAS,kBAAM+9B,EAAe7tB,KAE9B,kBAACP,GAAA,EAAD,CACEnI,MAAO,CACL5K,MACEsT,IAAM2tB,EAAqBvmC,IAAY,UAAOuC,IAGjDswB,EAAWja,GAAK,kBAAC,KAAD,MAAkB,kBAAC,KAAD,OAErC,kBAACN,GAAA,EAAD,eAAsBM,EAAI,W,UClKzBsuB,GAjDmB,SAACl2B,GAAW,IAAD,EACYvM,mBAAS,GADrB,mBACpC8hC,EADoC,KAChBY,EADgB,KAEnCtiB,EAAe7T,EAAM2E,QAAQ4wB,GAA7B1hB,YAEH7T,EAAM0E,UAAUG,QAAU7E,EAAM0E,UAAU0xB,kBAC7Cp2B,EAAM0E,UAAUG,OAAS7E,EAAM0E,UAAU0xB,iBAE3C,IAAMC,EAAgBxiB,EACI,kBAAfA,EACL,CAACA,GACDA,OACFtiB,EACJ,IAAKyO,EAAM0E,UAAUG,OACnB,MAAM,IAAIvT,MAAM,yDAElB,IAAIuT,EAAS7E,EAAM0E,UAAUG,OAC1BvU,KAAI,SAACmiB,GAAD,MACU,kBAANA,EAAiB,CAAEhjB,GAAIgjB,EAAG/iB,YAAa+iB,EAAGhN,YAAagN,GAAMA,KAErEniB,KAAI,SAACmiB,GAAD,OAASA,EAAEhN,YAA4CgN,EAA/C,eAAsBA,EAAtB,CAAyBhN,YAAagN,EAAEhjB,QACvD,OACE,kBAAC,GAAD,iBACMuQ,EAAMs2B,eADZ,CAEEf,mBAAoBA,EACpBC,aAAcx1B,EAAM2E,QAAQ9D,OAC5BghB,WAAY7hB,EAAM2E,QAClBjV,YACEykC,GAAmBn0B,EAAM2E,QAAQ4wB,KACjCv1B,EAAM0E,UAAUhV,YAElB+lC,eAAgB,SAAC1D,GAAD,OAAiBoE,EAAyBpE,MAE1D,kBAACwE,GAAA,EAAD,CACEtlC,KAAM+O,EAAM+xB,aAAe,GAAKwD,EAChCj+B,KAAK,iBACLuN,OAAQA,EACR2xB,eAAgBx2B,EAAM0E,UAAU6tB,SAChC7sB,SAAU1F,EAAM2E,QAAQ4wB,GAAoB7vB,SAC5C2wB,cAAeA,EACfvqB,SAAU,SAACqJ,GACTnV,EAAMy2B,qBAAqBlB,EAAoBpgB,GAC3CnV,EAAMs2B,eAAenB,QACvBn1B,EAAMs2B,eAAenB,OAAO,mBC1ClCuB,GAAiC,SAACC,GACtC,IADoD,EAC9CC,EAAS,GACXC,EAAc,EAFkC,cAGlCF,GAHkC,IAGpD,2BAA6B,CAAC,IAAnBG,EAAkB,QACvBA,EAAI7/B,OACN2/B,EAAOjiB,KAAK,CACV5K,KAAM+sB,EAAI/sB,KACV9S,MAAO6/B,EAAI7/B,MACX8/B,MAAOF,EACPG,IAAKH,EAAcC,EAAI/sB,KAAKlJ,SAGhCg2B,GAAeC,EAAI/sB,KAAKlJ,QAZ0B,gCAcpD,OAAO+1B,GAuEMK,GA3CsB,SAACj3B,GAAW,IAAD,EACSvM,mBAAS,GADlB,mBACvC8hC,EADuC,KACnBY,EADmB,KAExCe,EAAkBl3B,EAAM2E,QAAQ4wB,GAAoB1hB,WA3B1B,SAACsjB,EAAKP,GACtC,GAAKA,EAAL,CACA,IAAMD,EAAY,IAClBC,EAAM,YAAOA,IACNQ,MAAK,SAAChlC,EAAGilC,GAAJ,OAAUjlC,EAAE2kC,MAAQM,EAAEN,SAElC,IADA,IAAIO,EAAa,EACR1vB,EAAI,EAAGA,EAAIuvB,EAAIt2B,OAAQ+G,KACzBgvB,EAAOU,IAAe,IAAIP,QAAUnvB,GACvC+uB,EAAUhiB,KAAK,CACb5K,KAAM6sB,EAAOU,GAAYvtB,KACzB9S,MAAO2/B,EAAOU,GAAYrgC,QAE5B2Q,EAAIgvB,EAAOU,GAAYN,IACvBM,GAAc,GAEW,IAArBX,EAAU91B,QAAgB81B,EAAUA,EAAU91B,OAAS,GAAG5J,MAC5D0/B,EAAUhiB,KAAK,CAAE5K,KAAMotB,EAAIvvB,KAE3B+uB,EAAUA,EAAU91B,OAAS,GAAGkJ,MAAQotB,EAAIvvB,GAIlD,OAAO+uB,GAMHY,CACEv3B,EAAM2E,QAAQ4wB,GAAoB7vB,SAClC1F,EAAM2E,QAAQ4wB,GAAoB1hB,WAAW2jB,eAE/CjmC,EAEJ,IAAKyO,EAAM0E,UAAUG,SAAW7E,EAAM0E,UAAU0xB,gBAC9C,MAAM,IAAI9kC,MAAM,wDAGlB,OACE,kBAAC,GAAD,iBACM0O,EAAMs2B,eADZ,CAEEf,mBAAoBA,EACpBC,aAAcx1B,EAAM2E,QAAQ9D,OAC5BghB,WAAY7hB,EAAM2E,QAAQrU,KAAI,SAACqS,GAAD,OAAOA,EAAEkR,cACvCnkB,YACEykC,GAAmBn0B,EAAM2E,QAAQ4wB,KACjCv1B,EAAM0E,UAAUhV,YAElB+lC,eAAgB,SAAC1D,GAAD,OAAiBoE,EAAyBpE,MAE1D,kBAACwE,GAAA,EAAD,CACEtlC,IAAKskC,EACLj+B,KAAK,iBACLoO,SAAU1F,EAAM2E,QAAQ4wB,GAAoB7vB,SAC5Cb,OAAQ7E,EAAM0E,UAAUG,QAAU7E,EAAM0E,UAAU0xB,gBAClDc,gBAAiBA,EACjBprB,SAAU,SAACqJ,GACTnV,EAAMy2B,qBAAqBlB,EAAoB,CAC7CiC,SAAUd,GAA+BvhB,KAEvCnV,EAAMs2B,eAAenB,QACvBn1B,EAAMs2B,eAAenB,OAAO,mB,UC3EjC,SAASsC,KACd,IAL2B3mB,EAAKC,EAK5B2mB,GALuB5mB,EAKN,EALWC,EAKR,IAJjB3F,KAAKyG,MAAMzG,KAAKC,UAAY0F,EAAMD,EAAM,IAAMA,GAOrD,MAAO,OACJ3F,OAAOusB,EAAElhC,WAAY,KACrB2U,OAJK,KAII3U,WAAY,MACrB2U,OAJK,IAII3U,WAAY,MAGnB,IAAMmhC,GAAM,kBAAMvsB,KAAKC,SAAS7U,WAAW8U,MAAM,KAAK,IAEhDssB,GAAwB,SAAC7kC,GACpC,OAAQA,EAAO8kC,YACb,IAAK,eACH,MAAO,CACLpoC,GAAIkoC,KACJG,IAAK/kC,EAAOglC,eACZC,KAAMjlC,EAAO8R,OACbvQ,MAAOvB,EAAOuB,OAASmjC,KACvBngC,KAAM,MACNkT,EAAGzX,EAAOklC,QAAUllC,EAAO2B,MAAQ,EACnC+V,EAAG1X,EAAOmlC,QAAUnlC,EAAOuG,OAAS,EACpC6+B,EAAGplC,EAAO2B,MACVgjC,EAAG3kC,EAAOuG,QAGd,IAAK,QACH,MAAO,CACL7J,GAAIkoC,KACJrgC,KAAM,QACN0gC,KAAMjlC,EAAO8R,OACbizB,IAAK/kC,EAAOglC,eACZzjC,MAAOvB,EAAOuB,OAASmjC,KACvBjtB,EAAGzX,EAAOyX,EACVC,EAAG1X,EAAO0X,GAGd,IAAK,UACH,MAAO,CACLhb,GAAIkoC,KACJrgC,KAAM,UACN0gC,KAAMjlC,EAAO8R,OACbizB,IAAK/kC,EAAOglC,eACZzjC,MAAOvB,EAAOuB,OAASmjC,KACvBp9B,MAAM,EACN+9B,OAAQrlC,EAAOqlC,OAAO9nC,KAAI,SAACggB,GAAD,MAAO,CAACA,EAAE9F,EAAG8F,EAAE7F,OAG7C,IAAK,OACL,IAAK,aACH,MAAM,IAAInZ,MAAJ,8BAAiCE,KAAKC,UAAUsB,GAAhD,MAER,QACE,OAAO,OAIAslC,GAA0B,SAACC,GACtC,OAAQA,EAAUhhC,MAChB,IAAK,QACH,MAAO,CACLugC,WAAY,QACZrtB,EAAG8tB,EAAU9tB,EACbC,EAAG6tB,EAAU7tB,EACbstB,eAAgBO,EAAUR,IAC1BjzB,OAAQyzB,EAAUN,KAClB1jC,MAAOgkC,EAAUhkC,OAGrB,IAAK,MACH,MAAO,CACLujC,WAAY,eACZI,QAASK,EAAU9tB,EAAI8tB,EAAUH,EAAI,EACrCD,QAASI,EAAU7tB,EAAI6tB,EAAUZ,EAAI,EACrChjC,MAAO4jC,EAAUH,EACjB7+B,OAAQg/B,EAAUZ,EAClBK,eAAgBO,EAAUR,IAC1BjzB,OAAQyzB,EAAUN,KAClB1jC,MAAOgkC,EAAUhkC,OAGrB,IAAK,UACH,MAAO,CACLujC,WAAY,UACZE,eAAgBO,EAAUR,IAC1BjzB,OAAQyzB,EAAUN,KAClB1jC,MAAOgkC,EAAUhkC,MACjB8jC,OAAQE,EAAUF,OAAO9nC,KAAI,yCAAa,CAAEka,EAAf,KAAkBC,EAAlB,UAGjC,QACE,MAAM,IAAInZ,MAAJ,iCAAoCE,KAAKC,UAAU6mC,GAAnD,QAICC,GAAuB,SAAC,GAK9B,IAJLt1B,EAII,EAJJA,MACWiqB,EAGP,EAHJsL,UACO5wB,EAEH,EAFJF,MACAoa,EACI,EADJA,OAEAoL,EAAKA,GAAM,GACX,IAAMZ,EAAWxK,EAEbqH,MAAMC,QAAQtH,GACdA,EAAOxxB,IAAIsnC,IACX,CAACA,GAAsB9V,SAHvBvwB,EAKJ,GAAI27B,EAAGnoB,SACL,MAAO,CACLsZ,IAAK6O,EAAGnoB,SACRhP,KAAMkN,GAAK,iBAAc2E,GACzB0kB,WAEG,GAAIY,EAAGhoB,eAAgC3T,IAApB27B,EAAGjB,aAC3B,MAAO,CACL5N,IAAK6O,EAAGhoB,SACRuzB,UAAWvL,EAAGjB,aACdl2B,KAAMkN,GAAK,iBAAc2E,GACzB0kB,WAGJ,MAAM,IAAIh7B,MAAJ,oCAAuCE,KAAKC,UAAUy7B,GAAtD,OAGKwL,GAAwB,SAACxM,GACpC,IAAMyM,EAAe,GACrB,IAAK,IAAM1nC,KAAOi7B,EAChByM,EAAa1nC,GAAO,CAClBq7B,QAASJ,EAAUj7B,GAAKq7B,QAAQh8B,IAAIsnC,KAGxC,OAAOe,GCnIHC,GAAmB,CACvB,eAAgB,aAChBC,QAAS,iBACT,oBAAqB,iBACrBC,MAAO,gBAGFC,GAAuB,GAAbC,GAAiB,GAEnB,eAMR,IALQC,EAKT,EALJlH,YACWG,EAIP,EAJJxtB,UAII,IAHJC,eAGI,MAHMq0B,GAGN,MAFJ1C,sBAEI,MAFayC,GAEb,EADJtC,EACI,EADJA,qBAGIvE,EAAMkE,kBAAoBlE,EAAMrtB,SAClCqtB,EAAMrtB,OAASqtB,EAAMkE,iBAHnB,MAMyC3iC,mBAAS,GANlD,mBAMGylC,EANH,KAMkBC,EANlB,OAO+B1lC,oBAAS,GAPxC,mBAOG2lC,EAPH,KAOaC,EAPb,OAQuC5lC,mBAAS,UARhD,mBAQG6lC,EARH,KAQiBC,EARjB,OAU8CrH,EAA1CptB,0BAVJ,MAUyB,CAAC,gBAV1B,EAYE00B,GAAoBxnC,QAAQkgC,EAAME,sBAElCqH,EAA6Bh4B,cAAiB,SAACqgB,GACnD,IAAM4X,EAAM5X,EAAO6X,OAAOT,GAC1BzC,EACEyC,EACA/G,GACKuH,EAAIpN,SAAW,IAAIh8B,IAAI+nC,IACxBE,IAAsBmB,EAAIpN,SAAW,IAAI,QAI3CsN,EAAavpC,mBACjB,kBACEmpC,EACI,CACEK,eAAgB3H,EAAMrtB,QAAU,IAAIvU,KAAI,SAACmiB,GAAD,MACzB,kBAANA,EAAiBA,EAAIA,EAAEhjB,OAGlC,CACEqqC,eAAgB5H,EAAMrtB,QAAU,IAAIvU,KAAI,SAACmiB,GAAD,MACzB,kBAANA,EAAiBA,EAAIA,EAAEhjB,SAGxC,CAAC+pC,EAAkBtH,EAAMrtB,SAGrBstB,EACJD,EAAMC,sBAA6C5gC,IAA1B2gC,EAAMC,gBAE3BgD,EAAS1zB,cAAiB,SAACqgB,EAAQiY,GACvCN,EAA2B3X,GAC3BuX,EAAevX,EAAOsX,UACtBG,EAAmBzX,EAAOwX,cACtBhD,EAAenB,QAAQmB,EAAenB,OAAO4E,MAE7CC,EAAcv4B,cAAiB,SAACqgB,GAChCoX,EAAgB,GAAKv0B,EAAQ9D,OAC/Bs0B,EAAOrT,EAAQ,eAEf2X,EAA2B3X,GAC3BqX,EAAoBD,EAAgB,OAGlCe,EAAcx4B,cAAiB,SAACqgB,GAChCoX,EAAgB,EAAI,EACtB/D,EAAOrT,EAAQ,mBAEf2X,EAA2B3X,GAC3BqX,EAAoBD,EAAgB,OAIlCS,EAAStpC,mBACb,kBACEsU,EAAQrU,KAAI,SAACkoC,EAAW9wB,GAAZ,OACV6wB,GAAqB,CACnBt1B,MAAOqzB,EAAexT,YACtB0V,YACA1W,OAAQnd,EAAQ+C,GAAOmM,WACvBnM,eAGN,CAAC/C,EAAS2xB,EAAexT,cAGrBoX,EAAe7pC,mBACnB,iBACE,CAAC,UAAU8a,OACTrG,EAAmBxU,KAAI,SAAC6pC,GAAD,OAAQvB,GAAiBuB,MAAKtyB,OAAO7V,YAEhE,CAAC8S,IAGH,OACE,yBACE5F,MAAO,CACL5F,OAAQg9B,EAAeh9B,QAAU,oBACjC6D,UAAW,IACXzI,MAAO,SAGT,kBAAC,KAAD,eACEzD,IAAKgoC,EACLmB,cAAez1B,EAAQu0B,GAAen0B,SACtCs1B,gBAAiBnI,EAAMxiC,YACvB0pC,SAAUA,GACNQ,EALN,CAMEI,YAAaA,EACbC,YAAaA,EACbC,aAAcA,EACdZ,aAAcA,EACdK,OAAQA,EACRxE,OAAQA,O,yCCzHVmF,GAAe,CACnBtrC,IAAY,KACZA,KAAa,KACbA,IAAW,KACXA,KAAkB,KAClBA,KAAY,KACZA,KAAY,KACZA,KAAkB,KAClBA,KAAc,KACdA,IAAY,KACZA,KAAY,KACZA,KAAc,MAGVurC,GAAU,uCAAuCjvB,MAAM,IACvDmsB,GAAiB,SAACxgC,GACtB,IAAMujC,EAAUvjC,EAAMxH,GACnB6b,MAAM,IACNnF,QAAO,SAACC,EAAK4M,EAAGpL,GAAT,OAAexB,GAAOm0B,GAAQE,QAAQznB,GAAK,KAAI,GACzD,OAAOsnB,GAAaE,EAAUF,GAAaz5B,SAGvCzE,GAAYhI,YAAO,MAAPA,CAAc,CAC9BsV,SAAU,QACVlQ,QAAS,OACTC,cAAe,WAGXihC,GAAiBtmC,YAAO,MAAPA,CAAc,CACnCiI,SAAU,WACV7C,QAAS,OACTsI,SAAU,IAGNkD,GAAQ5Q,YAAO,MAAPA,CAAc,CAC1BoF,QAAS,eACT6C,SAAU,WACVK,KAAM,EACNM,IAAK,EACLtI,MAAO,OACP4E,OAAQ,OACRqhC,UAAW,YAGPC,GAAMxmC,YAAO,MAAPA,CAAc,CACxBoF,QAAS,OACTqE,eAAgB,SAChBlJ,UAAW,EACXkmC,WAAY,IAERC,GAAU1mC,YAAO,MAAPA,CAAc,CAC5B2F,gBAAiB,OACjBzF,MAAO,OACPkF,QAAS,OACTE,WAAY,SACZmE,eAAgB,SAChB,WAAY,CACVxJ,QAAS,MAGP0mC,GAAY3mC,YAAOwJ,IAAPxJ,CAAe,CAC/BE,MAAO,OACPD,QAAS,EACTkjB,YAAa,GACbK,aAAc,KAGV8a,GAAmBt+B,YAAO,MAAPA,CAAc,CACrCmjB,YAAa,GACbK,aAAc,GACdjjB,UAAW,EACX6S,UAAW,SACXqzB,WAAY,IAGRG,GAAc5mC,YAAOwJ,IAAPxJ,CAAe,CACjCU,OAAQ,EACRR,MAAO,OACPiJ,SAAU,GACVqa,aAAc,GACdna,WAAY,wBAGPs7B,GAAuB,GAAbC,GAAiB,GAEnB,eAMR,IALQC,EAKT,EALJlH,YACWG,EAIP,EAJJxtB,UAII,IAHJC,eAGI,MAHMq0B,GAGN,MAFJ1C,sBAEI,MAFayC,GAEb,EADJtC,EACI,EADJA,qBAOA,GAJIvE,EAAMkE,kBAAoBlE,EAAMrtB,SAClCqtB,EAAMrtB,OAASqtB,EAAMkE,kBAGlBlE,EAAMrtB,OACT,MAAM,IAAIvT,MAAM,4DAPd,MAQqCmC,mBAAS,GAR9C,mBAQGs+B,EARH,KAQgBkJ,EARhB,OASyCxnC,mBAAS,MATlD,mBASGynC,EATH,KASkBC,EATlB,OAUyC1nC,mBAASulC,IAVlD,mBAUGoC,EAVH,KAUkBC,EAVlB,KAWEx2B,EAASxU,mBACb,kBACE6hC,EAAMrtB,OAAOvU,KAAI,SAACmiB,GAAD,MACF,kBAANA,EAAiB,CAAEhjB,GAAIgjB,EAAG/iB,YAAa+iB,GAAMA,OAExD,CAACyf,EAAMrtB,SAGHy2B,EAAS75B,cAAiB,WAC1B60B,EAAenB,QAAQmB,EAAenB,YAEtCoG,EAAe95B,cAAiB,WAChC60B,EAAenB,QACjBmB,EAAenB,OAAO,iBAGpBqG,EAAS/5B,cAAiB,SAACg6B,GAC/BhF,EAAqB1E,EAAa0J,GAAaL,GAC3CrJ,IAAgBptB,EAAQ9D,OAAS,EACnCo6B,EAAkBlJ,EAAc,GAE5BuE,EAAenB,QAAQmB,EAAenB,OAAO,iBAG/CuG,EAASj6B,cAAiB,WAC1BswB,EAAc,EAChBkJ,EAAkBlJ,EAAc,GAE5BuE,EAAenB,QAAQmB,EAAenB,OAAO,qBAIrDrhC,qBAAU,WACR,IAAMsb,EAAUtQ,YAAW,WACzBq8B,EAAoB,QACnB,KACH,OAAO,kBAAM7rB,aAAaF,MACzB,CAAC8rB,IAEJ,IAAMS,EAAel6B,cAAiB,SAACxK,GAErC,IAAIwkC,EADJN,EAAoBlkC,GAGlBwkC,GADGL,GAAiB,IAAI/pC,SAAS4F,EAAMxH,IAC3By+B,KAAQkN,EAAenkC,EAAMxH,IAErCyiC,EAAMI,cACI8I,EAAcjwB,OAAO,CAAClU,EAAMxH,KAE5BwH,EAAMxH,GAItB4rC,EAAoBI,IACfvJ,EAAMI,eAAiBmJ,EAAU56B,OAAS,GAC7C26B,EAAOC,MAIX3nC,qBAAU,WACR,IAAI2nC,EAAY92B,EAAQotB,GAAale,WAChC4nB,IAAWA,EAAY,IACH,kBAAdA,IAAwBA,EAAY,CAACA,IAChDJ,EAAoBI,KACnB,CAAC1J,EAAakH,EAAmBt0B,IA1EhC,MA4E6BtU,mBAAQ,WACvC,IAD6C,EACvCurC,EAAY,CAChB,IAAKJ,EACLK,UAAWH,EACXI,MAAOR,EACPS,WAAYP,EACZQ,UAAWN,GAEPO,EAAc,GARyB,cAS3Bp3B,GAT2B,yBASpC5N,EAToC,QAUrCilC,EAAsBjlC,EAAMxH,GAC/B6b,MAAM,IACNzD,QAAO,SAAC4K,GAAD,OAAO8nB,GAAQlpC,SAASohB,MAC/B5D,MAAK,SAAC4D,GAAD,OAAQmpB,EAAUnpB,EAAEzO,kBAC5B,IAAKk4B,EAAqB,iBAC1BN,EAAUM,GAAuB,kBAAMP,EAAa1kC,IACpDglC,EAAYhlC,EAAMxH,IAAMysC,GAP1B,2BAA0B,IATmB,gCAkB7C,MAAO,CAACN,EAAWK,KAClB,CAACp3B,EAAQ82B,EAAcL,EAAQE,EAAQE,IA/FtC,mBA4EGE,EA5EH,KA4EcK,EA5Ed,KA8GJ,OAbAnoC,qBAAU,WACR,IAAM0b,EAAY,SAACxW,GACjB,IAAM/H,EAAM+H,EAAE/H,IAAI+S,cACd43B,EAAU3qC,IACZ2qC,EAAU3qC,MAId,OADAmK,OAAO8T,iBAAiB,UAAWM,GAC5B,WACLpU,OAAO+T,oBAAoB,UAAWK,MAEvC,CAACosB,IAGF,kBAAC,GAAD,CACE18B,MAAO,CACL5F,OAAQg9B,EAAeh9B,QAAU,oBACjC6D,UAAW,MAGb,kBAACu9B,GAAD,KACE,kBAAC,GAAD,CAAOrc,IAAK1Z,EAAQotB,GAAahtB,YAEnC,kBAAC61B,GAAD,KACE,kBAACE,GAAD,KACE,kBAACC,GAAD,CAAWrjC,QAASgkC,GAApB,qBAED/2B,EAAQ9D,OAAS,EAChB,kBAACi6B,GAAD,KACE,kCACI/I,EAAc,EADlB,IACsBptB,EAAQ9D,OAD9B,WAIsBtP,IAAtB0nC,EACF,kBAAC6B,GAAD,KACE,kCAAQ7B,EAAR,MAEA,KACJ,kBAAC6B,GAAD,KACE,kBAACC,GAAD,CAAWrjC,QAAS6jC,GAApB,iBAEF,kBAACT,GAAD,KACE,kBAACC,GAAD,CAAWrjC,QAAS4jC,GAApB,kBAGJ,kBAAC,GAAD,KACGz2B,EAAOvU,KAAI,SAAC2G,GAAD,OACV,kBAAC+jC,GAAD,CACE/pC,IAAKgG,EAAMxH,GACXiI,QAAS,kBAAMikC,EAAa1kC,IAC5BiI,MAAO,CACLnF,gBAAiB09B,GAAexgC,GAChCyG,UAAWw9B,IAAkBjkC,EAAQ,sBAAmB1F,IAG1D,kBAACkG,EAAA,EAAD,CACEyH,MAAO,CAAE5K,MAAO,QAChB+mB,QAAS+f,EAAc/pC,SAAS4F,EAAMxH,MAEvCwH,EAAMxH,GACNwsC,EAAYhlC,EAAMxH,IAAlB,YAA6BwsC,EAAYhlC,EAAMxH,IAA/C,KAAwD,UCxP/DmpC,GAAmB,CACvB,eAAgB,aAChBC,QAAS,iBACT,oBAAqB,iBACrBC,MAAO,gBAGFC,GAAuB,GAAbC,GAAiB,GAEnB,eAMR,IALM9G,EAKP,EALJxtB,UAKI,IAJJC,eAII,MAJMq0B,GAIN,MAHJnX,kBAGI,MAHSkX,GAGT,MAFJzC,sBAEI,MAFayC,GAEb,EADJtC,EACI,EADJA,qBACI,EAC8CvE,EAA1CptB,0BADJ,MACyB,CAAC,gBAD1B,EAGE00B,GAAoBxnC,QAAQkgC,EAAME,sBAElCwH,EAAavpC,mBACjB,kBACEmpC,EACI,CACEK,eAAgB3H,EAAMrtB,QAAU,IAAIvU,KAAI,SAACmiB,GAAD,MACzB,kBAANA,EAAiBA,EAAIA,EAAEhjB,OAGlC,CACEqqC,eAAgB5H,EAAMrtB,QAAU,IAAIvU,KAAI,SAACmiB,GAAD,MACzB,kBAANA,EAAiBA,EAAIA,EAAEhjB,SAGxC,CAAC+pC,EAAkBtH,EAAMrtB,SAGrBswB,EAAS1zB,cAAiB,SAACqgB,GAC/B,IAAM6W,EAAe,GACrB,IAAK,IAAM1nC,KAAO6wB,EAAOoK,UACvByM,EAAa1nC,GAAO,CAClBq7B,QAASxK,EAAOoK,UAAUj7B,GAAKq7B,QAAQh8B,IAAI+nC,KAG/C5B,EAAqB,EAAG,CAAEvK,UAAWyM,IACjCrC,EAAenB,QAAQmB,EAAenB,YAGtC+E,EAAe7pC,mBACnB,iBACE,CAAC,UAAU8a,OACTrG,EAAmBxU,KAAI,SAAC6pC,GAAD,OAAQvB,GAAiBuB,MAAKtyB,OAAO7V,YAEhE,CAAC8S,IAIH,GAAIH,EAAQ9D,OAAS,EACnB,MAAO,+EAGT,GAAuB,IAAnB8D,EAAQ9D,OAAc,MAAM,IAAIvP,MAAM,oCAC1C,IAAKqT,EAAQ,GAAGO,SAAU,MAAM,IAAI5T,MAAM,6BAE1C,OACE,yBACE4N,MAAO,CACL5F,OAAQg9B,EAAeh9B,QAAU,qBACjC5E,MAAO,OACPyI,UAAW,MAGb,kBAAC,KAAD,eACEk9B,gBAAiBnI,EAAMxiC,aACnBkqC,EAFN,CAGEM,aAAcA,EACdhO,UAAWwM,KACP7W,GAAc,IAAI,IAAM,IAAIqK,WAEhC9H,UAAWzf,EAAQ,GAAGw3B,UAAY,GAClCC,UAAW,EACXC,SAAU13B,EAAQ,GAAGO,SACrBiwB,OAAQA,OCpFD,YAACn1B,GAAW,IAAD,EAC+BvM,mBAAS,GADxC,mBACjB8hC,EADiB,KACGY,EADH,KAGlBljB,EAASjT,EAAM2E,QAAQ4wB,GAE7B,OACE,kBAAC,GAAD,iBACMv1B,EAAMs2B,eADZ,CAEEf,mBAAoBA,EACpBC,aAAcx1B,EAAM2E,QAAQ9D,OAC5BghB,WAAY7hB,EAAM2E,QAAQrU,KAAI,SAACqS,GAAD,OAAOA,EAAEkR,cACvCnkB,YACEykC,GAAmBn0B,EAAM2E,QAAQ4wB,KACjCv1B,EAAM0E,UAAUhV,YAElB+lC,eAAgB,SAAC1D,GAAD,OAAiBoE,EAAyBpE,MAE1D,kBAACwE,GAAA,EAAD,CACEtlC,KAAM+O,EAAM+xB,aAAe,GAAKwD,EAChCj+B,KAAK,aACLglC,MAAOrpB,EAAOpN,SACd02B,WAAYv8B,EAAMu8B,WAClBC,yBAA0BvpB,EAAOY,YAAc,GAC/C/H,SAAU,SAACqJ,GACTnV,EAAMy2B,qBAAqBlB,EAAoBpgB,GAC3CnV,EAAMs2B,eAAenB,QACvBn1B,EAAMs2B,eAAenB,OAAO,mBCQzBsH,GApCU,SAACz8B,GAAW,IAAD,EACqBvM,mBAAS,GAD9B,mBAC3B8hC,EAD2B,KACPY,EADO,KAE5B1hC,EACJuL,EAAM2E,QAAQ4wB,GAAoBnwB,UAAYpF,EAAM0E,UAAUU,SAChE,IAAK3Q,EACH,MAAM,IAAInD,MAAM,2DAClB,OACE,kBAAC,GAAD,iBACM0O,EAAMs2B,eADZ,CAEEf,mBAAoBA,EACpBC,aAAcx1B,EAAM2E,QAAQ9D,OAC5BghB,WAAY7hB,EAAM2E,QAAQrU,KAAI,SAACqS,GAAD,OAAOA,EAAEkR,cACvCnkB,YACEykC,GAAmBn0B,EAAM2E,QAAQ4wB,KACjCv1B,EAAM0E,UAAUhV,YAElB+lC,eAAgB,SAAC1D,GAAD,OAAiBoE,EAAyBpE,MAE1D,kBAAC,KAAD,CACE9gC,KAAM+O,EAAM+xB,aAAe,GAAKwD,EAChC5+B,QAAQ,OACRlC,KAAMA,EACNmY,eACE5M,EAAM2E,QAAQ4wB,GAAoB1hB,iBAActiB,EAElDmrC,aAAa,cACb5wB,SAAU,SAACQ,GACTtM,EAAMy2B,qBAAqBlB,EAAoBjpB,GAC3CtM,EAAMs2B,eAAenB,QACvBn1B,EAAMs2B,eAAenB,OAAO,mBC5BlC5gC,GAAYC,YAAW,CAC3B6E,KAAM,CACJhF,QAAS,GACTmT,UAAW,UAEbvE,MAAO,CACLnO,OAAQ,IAEV6nC,QAAS,KAGI,eAAuC,IAApC15B,EAAmC,EAAnCA,MAAOvT,EAA4B,EAA5BA,YAAaJ,EAAe,EAAfA,SAC9BgU,EAAI/O,KACV,OACE,yBAAKqC,UAAW0M,EAAEjK,MAChB,kBAAC5C,EAAA,EAAD,CAAYE,QAAQ,KAAKD,UAAU,MAAME,UAAW0M,EAAEL,OACnDA,GAEH,kBAACxM,EAAA,EAAD,CAAYE,QAAQ,KAAKD,UAAU,MAAME,UAAW0M,EAAEq5B,SACnDjtC,GAAeJ,KCpBT,cACb,OACE,kBAACstC,GAAD,CAAQ35B,MAAM,sBAAd,kBACiB,yCADjB,6BAEE,6BACA,6BAHF,2B,0CCEW,eAAyB,IAAtB3L,EAAqB,EAArBA,KAAS0I,EAAY,yBACrC,OAAQ1I,GACN,IAAK,cACL,IAAK,qBACH,OAAO,kBAAC,KAAiB0I,GAC3B,IAAK,sBACH,OAAO,kBAAC,KAAeA,GACzB,IAAK,aACH,OAAO,kBAAC,KAASA,GACnB,IAAK,0BACH,OAAO,kBAAC,KAAeA,GACzB,IAAK,kBACH,OAAO,kBAAC,KAAmBA,GAC7B,QACE,OAAO,kBAAC,KAASA,KCXjBiN,GAAQ7Y,YAAO,MAAPA,CAAc,CAC1BmJ,SAAU,GACVoC,WAAY,OACZrL,MAAOtF,KAAY,KACnB2Z,aAAa,aAAD,OAAe3Z,KAAY,MACvCqS,cAAe,EACfD,aAAc,EACdmW,YAAa,IAET9X,GAAerL,YAAOwJ,IAAPxJ,CAAe,CAClCoF,QAAS,OACTgO,UAAW,OACX3J,eAAgB,aAChBlJ,UAAW,IAqFEkoC,GAlFU,SAAC78B,GAAW,IAAD,EACqBvM,mBAAS,GAD9B,mBAC3B8hC,EAD2B,KACPY,EADO,KAGnBpwB,EACX/F,EADF0E,UAAaqB,OAHmB,EAKWtS,qBALX,mBAK3BqpC,EAL2B,KAKZC,EALY,KAOlC,IAAKh3B,EAAQ,MAAM,IAAIzU,MAAM,kDAE7B,IAAM2hB,EAASjT,EAAM2E,QAAQ4wB,GAE7B,OAAIuH,EAEA,kBAAC,GAAD,CACEr4B,QAAS,CACPC,UAAWo4B,EAAcp4B,UACzBC,QAAS,CAAC,eAEHsO,EAFE,CAGLY,YAAaZ,EAAOY,YAAc,IAAIipB,EAAc92B,eAI1DywB,qBAAsB,SAACuG,EAAWlb,GAChC9hB,EAAMy2B,qBAAqBlB,EAA3B,eACKtiB,EAAOY,WADZ,eAEGipB,EAAc92B,UAAY8b,KAE7Bib,EAAoB,SAO1B,kBAAC,GAAD,iBACM/8B,EAAMs2B,eADZ,CAEEf,mBAAoBA,EACpBC,aAAcx1B,EAAM2E,QAAQ9D,OAC5BghB,WAAY7hB,EAAM2E,QAAQrU,KAAI,SAACqS,GAAD,OAAOA,EAAEkR,cACvCnkB,YAAaykC,GAAmBlhB,IAAWjT,EAAM0E,UAAUhV,YAC3D+lC,eAAgB,SAAC1D,GAAD,OAAiBoE,EAAyBpE,MAE1D,kBAAC,GAAD,eACChsB,EAAOzV,KAAI,SAACsjC,EAAOlsB,GAAR,OACV,kBAAC,GAAD,CACEzW,IAAK2iC,EAAM5tB,UACXtO,QAAS,WACPqlC,EAAoB,eAAKnJ,EAAN,CAAalsB,YAElC1Q,WAAS,EACTL,QAAQ,YAER,kBAACsmC,GAAD,CACE/9B,MAAO,CAAE5K,MAAOtF,KAAY,KAAM8O,YAAa,IAC/CxG,KAAMs8B,EAAMlvB,UAAUpN,OAEvBs8B,EAAM5tB,UACP,kBAACyD,GAAA,EAAD,CAAK3H,SAAU,IACf,kBAACrK,EAAA,EAAD,CACE4jB,QAASrpB,SAASihB,EAAOY,YAAc,IAAI+f,EAAM5tB,cAEnD,kBAAC,KAAD,UAGJ,kBAAC,GAAD,CACEtO,QAAS,kBAAMsI,EAAMs2B,eAAenB,OAAO,eAC3Cn+B,WAAS,EACTL,QAAQ,YAER,kBAAC,KAAD,CACEuI,MAAO,CAAE5K,MAAOtF,KAAY,KAAM8O,YAAa,MANnD,OASE,kBAAC2L,GAAA,EAAD,CAAK3H,SAAU,IACf,kBAAC2H,GAAA,EAAD,CAAKnQ,OAAO,SACZ,kBAAC,KAAD,SC4CO4jC,GArIoB,SAAC,GAU7B,IATLz4B,EASI,EATJA,QACA0wB,EAQI,EARJA,OACAgI,EAOI,EAPJA,WACAnI,EAMI,EANJA,gBACAlS,EAKI,EALJA,YACAuS,EAII,EAJJA,2BACAoB,EAGI,EAHJA,qBACAn9B,EAEI,EAFJA,OACA8jC,EACI,EADJA,aAGM9G,EAAiBjmC,mBACrB,iBAAO,CACL8sC,aACAnI,kBACAlS,cACAuS,6BACAF,SACA77B,YAEF,CACE6jC,EACAnI,EACAK,EACAvS,EACAxpB,EACA67B,IAIJ,IAAK1wB,IAAYA,EAAQC,UAAUpN,KACjC,OACE,kBAACslC,GAAD,CACE35B,MAAM,wCACNvT,YACE,yHAGE,6BACA,6BACA,kBAAC,IAAD,CAAQ4E,MAAM,UAAUqC,QAAQ,YAAYe,QAAS0lC,GAArD,oBASV,IAAK34B,EAAQE,SAAsC,IAA3BF,EAAQE,QAAQ9D,OACtC,OAAO,kBAACw8B,GAAD,MAGT,OAAQ54B,EAAQC,UAAUpN,MACxB,IAAK,aACH,OACE,kBAAC,GAAD,eACEg/B,eAAgBA,GACZ7xB,EAFN,CAGEgyB,qBAAsBA,EACtBtB,OAAQA,KAGd,IAAK,sBACH,OACE,kBAAC,GAAD,eACEmB,eAAgBA,GACZ7xB,EAFN,CAGEgyB,qBAAsBA,EACtBtB,OAAQA,KAGd,IAAK,0BACH,OACE,kBAAC,GAAD,eACEmB,eAAgBA,GACZ7xB,EAFN,CAGEgyB,qBAAsBA,EACtBtB,OAAQA,KAGd,IAAK,qBACH,OACE,kBAACmI,GAAD,eACEhH,eAAgBA,GACZ7xB,EAFN,CAGE0wB,OAAQA,EACRsB,qBAAsBA,KAG5B,IAAK,uBACH,OACE,kBAAC8G,GAAD,eACEjH,eAAgBA,GACZ7xB,EAFN,CAGE0wB,OAAQA,EACRsB,qBAAsBA,KAG5B,IAAK,qBACH,OACE,kBAAC+G,GAAD,eACElH,eAAgBA,GACZ7xB,EAFN,CAGE0wB,OAAQA,EACRsB,qBAAsBA,KAG5B,IAAK,YACH,OACE,kBAAC,GAAD,eACEH,eAAgBA,GACZ7xB,EAFN,CAGEA,QAASA,EACTgyB,qBAAsBA,EACtBtB,OAAQA,KAGd,IAAK,sBACH,OACE,kBAACsI,GAAD,eACEnH,eAAgBA,GACZ7xB,EAFN,CAGEgyB,qBAAsBA,EACtBtB,OAAQA,KAGd,QACE,MAAM,IAAN,OAAW1wB,EAAQC,UAAUpN,KAA7B,qB,iDC9INomC,KAAY,CACVC,IAAK,6DACLC,cAAe,CAAC,gCAAiC,cAGpCF,UCyCAG,G,oDAzCb,WAAY79B,GAAQ,IAAD,8BACjB,cAAMA,IACDxK,MAAQ,CAAEsoC,UAAU,GAFR,E,+DAiBD3oC,EAAO4oC,GAAY,IAAD,OAElCL,GAAOM,WAAU,SAACtd,GAChBA,EAAMud,UAAUF,GAChB,IAAMG,EAAUR,GAAOS,iBAAiBhpC,GACxC,EAAKM,SAAS,CAAEyoC,iB,+BAKlB,OAAIrrC,KAAK2C,MAAMsoC,SAGX,kBAAClB,GAAD,CACE35B,MAAM,mDACNvT,YAAamD,KAAK2C,MAAM4oC,cAKvBvrC,KAAKmN,MAAM1Q,Y,gDAhCY6F,GAM9B,OAJAmB,QAAQnB,MACN,kEACAA,GAEK,CACL2oC,UAAU,EACVM,YAAajpC,EAAMqB,gB,GAdG6nC,IAAMC,WCgB5BC,GAAO,aAEPniC,GAAYhI,YAAO,MAAPA,CAAc,CAC9BC,QAAS,GACT,eAAgB,CACdmT,UAAW,SACXzN,gBAAiB/K,IAAY,KAC7BmO,UAAW,OACX9I,QAAS,GACT,aAAc,CACZmT,UAAW,OACXjK,SAAU,GACVjJ,MAAO,OACPqL,WAAY,OACZyB,aAAc,OAKdo9B,GAAYpqC,YAAOwJ,IAAPxJ,CAAe,CAC/BC,QAAS,GACTK,MAAO,IACP4E,OAAQ,IACR8D,UAAW,8BACXtI,OAAQ,GACRiF,gBAAiB,OACjB,aAAc,CACZpF,UAAW,GACXD,MAAO,GACP4E,OAAQ,IAEV,UAAW,CACTS,gBAAiB,UAIf0kC,GAAYrqC,YAAO,MAAPA,CAAc,CAC9BmJ,SAAU,GACViK,UAAW,SACX7H,WAAY,OACZrL,MAAOtF,KAAY,KACnB0Q,WAAY,GACZ2B,cAAe,KAGXq9B,GAAatqC,YAAOwJ,IAAPxJ,CAAe,CAChCU,OAAQ,EACR,UAAW,CACTgJ,YAAa,EACbxJ,MAAO,QAEToF,WAAY,SACZmE,eAAgB,SAChB,aAAc,CACZ9D,gBAAiB/K,IAAY,KAC7BsF,MAAO,OACP,UAAW,CACTA,MAAO,WAKAqqC,GAAUvqC,YAAO,MAAPA,CAAc,CACnCuL,WAAY,OACZtQ,cAAe,YACfkO,SAAU,GACVga,YAAa,EACbnW,aAAc,EACdzM,UAAW,GACXL,MAAOtF,KAAY,OAGf4vC,GAAmBxqC,YAAO,MAAPA,CAAc,CACrCoF,QAAS,OACTqE,eAAgB,eAChBghC,YAAa,OACbxqC,QAAS,KAELyqC,GAAiB1qC,YAAO,MAAPA,CAAc,CACnCoF,QAAS,OACT9E,MAAO,OACP4E,OAAQ,MAGJylC,GAAa,SAAC,GAAqC,IAAnCC,EAAkC,EAAlCA,kBAAmB3nC,EAAe,EAAfA,SACvC,OAAOiN,GAAUhU,KAAI,SAACmS,GAAD,OACnB,kBAACi8B,GAAD,CACEztC,IAAKwR,EAAEgC,QAAQC,UAAUpN,MAAQ,QACjCV,UACEooC,IAAsBv8B,EAAEgC,QAAQC,UAAUpN,KAAO,WAAa,GAEhEX,QAAQ,WACRe,QAAS,WACHsnC,IAAsBv8B,EAAEgC,QAAQC,UAAUpN,MAC5CD,EAASoL,EAAEgC,QAAQC,UAAUpN,QAIjC,kBAACmL,EAAE8B,KAAH,CAAQ3N,UAAU,SACjB6L,EAAE1M,UAyHMkpC,GApHmB,SAAC,GAK5B,IAAD,IAJJ/M,aAII,MAJI,GAIJ,EAHMgN,EAGN,EAHJ7nC,SAGI,KAFJ8nC,gBAEI,EADJzL,iBACI,WACmDjgC,mBAAS,GAD5D,mBACG2rC,EADH,KACuBC,EADvB,OAE2C5rC,oBAAS,GAFpD,mBAEG6rC,EAFH,KAEmBC,EAFnB,KAGEloC,EAAWoK,cAAiB,WAChC49B,EAAyBziB,KAAKC,OAC9BqiB,EAAY,WAAZ,gBAaF,OAXAprC,qBAAU,WACR,KAAI8oB,KAAKC,MAAQuiB,EAAqB,KAAtC,CACAG,GAAqB,GACrB,IAAInwB,EAAUtQ,YAAW,WACvBygC,GAAqB,KACpB,KACH,OAAO,WACLjwB,aAAaF,OAEd,CAACgwB,IAEClN,EAAM56B,MAAuB,UAAf46B,EAAM56B,KAwBvB,kBAAC,GAAD,KACE,kBAACqnC,GAAD,uBACA,kBAAC,GAAD,CACEK,kBAAmB9M,EAAM56B,KACzBD,SAAU,SAACC,GACTD,EACEiN,GACGhU,KAAI,SAACmS,GAAD,OAAOA,EAAEgC,QAAQC,aACrBmK,MAAK,SAACpM,GAAD,OAAOA,EAAEnL,OAASA,MAAS,OAIzC,kBAACiD,EAAA,EAAD,CAAMC,WAAS,GACb,kBAACD,EAAA,EAAD,CAAMhK,MAAI,EAACivC,OAAQ9L,EAAUj5B,GAAI,GAAIglC,GAAI,GACvC,kBAACd,GAAD,gBACA,kBAACC,GAAD,KACE,kBAACE,GAAD,CAAgB5/B,MAAO,CAAE1B,QAAS8hC,EAAiB,GAAM,IACvD,kBAACI,GAAD,CAAoBzuC,IAAKmuC,GACvB,kBAAC,GAAD,CACEnuC,IAAKmuC,EACL9lC,OAAQ,IACR67B,OAAQoJ,GACR9H,qBAAsB8H,GACtB95B,QAAS,CACPC,UAAWwtB,EACXvtB,QAAS,CAACuB,GAAYgsB,EAAM56B,MAAMmN,QAAQE,QAAQ,WAO9D,kBAACpK,EAAA,EAAD,CAAMhK,MAAI,EAACkK,GAAI,GAAIglC,GAAI/L,EAAW,GAAK,GACrC,kBAACiL,GAAD,gBACA,kBAACl1B,GAAA,EAAD,CAAK/J,WAAY,KACfwyB,EAAM56B,MAAQ,kBAACmnC,GAAD,sBACA,uBAAfvM,EAAM56B,MACL,kBAACqoC,GAAD,CAA4BzN,MAAOA,EAAO76B,SAAUA,IAEtC,yBAAf66B,EAAM56B,MACL,kBAACsoC,GAAD,CAA8B1N,MAAOA,EAAO76B,SAAUA,IAExC,cAAf66B,EAAM56B,MACL,kBAACuoC,GAAD,CAAoB3N,MAAOA,EAAO76B,SAAUA,IAE9B,eAAf66B,EAAM56B,MACL,kBAACwoC,GAAD,CAAoB5N,MAAOA,EAAO76B,SAAUA,IAE9B,wBAAf66B,EAAM56B,MACL,kBAACyoC,GAAD,CAA6B7N,MAAOA,EAAO76B,SAAUA,IAEvC,4BAAf66B,EAAM56B,MACL,kBAAC0oC,GAAD,CAAc9N,MAAOA,EAAO76B,SAAUA,IAExB,wBAAf66B,EAAM56B,MACL,kBAAC2oC,GAAD,CAA6B/N,MAAOA,EAAO76B,SAAUA,IAEvC,uBAAf66B,EAAM56B,MACL,kBAAC4oC,GAAD,CAA4BhO,MAAOA,EAAO76B,SAAUA,IAEtC,oBAAf66B,EAAM56B,MACL,kBAAC,GAAD,CAAa46B,MAAOA,EAAO76B,SAAUA,OAnF3C,kBAAC,GAAD,CAAWT,UAAU,cACnB,yBAAKA,UAAU,WAAf,wBACC0N,GACEuD,QAAO,SAACpF,GAAD,MAAkB,UAAXA,EAAE1M,QAChBzF,KAAI,SAACyX,GAAD,OACH,kBAACy2B,GAAD,CACEvtC,IAAK8W,EAAShS,KACd2B,QAAS,kBAAML,EAAS0Q,EAAStD,QAAQC,aAEzC,6BACE,6BAAMqD,EAAShS,MACf,6BACE,kBAACgS,EAASxD,KAAV,CAAe3N,UAAU,oBCvJ5BupC,GARe/rC,YAAO,MAAPA,CAAc,CAC1CU,OAAQ,GACRT,QAAS,GACTsI,OAAQ,iBACRO,aAAc,EACdE,UAAW,gCCGP7I,GAAYC,YAAW,CAC3B4rC,MAAO,KAGHC,GAAkB,CAAE/jC,WAAY,EAAG5H,MAAO,GAAI4E,OAAQ,IAE7C,eAAoD,IAAjDe,EAAgD,EAAhDA,KAAMpF,EAA0C,EAA1CA,QAASqrC,EAAiC,EAAjCA,eAAgBC,EAAiB,EAAjBA,WACzCrrC,EAAUX,KADgD,EAEpBd,qBAFoB,mBAEzD+sC,EAFyD,KAEzCC,EAFyC,OAGhBhtC,mBAAS,IAHO,0BAGvDitC,EAHuD,EAGvDA,SAAUzvC,EAH6C,EAG7CA,IAAO0vC,EAHsC,KAgChE,OA3BA7sC,qBAAU,WACR,GAAK0sC,EAUL,OADAplC,OAAO8T,iBAAiB,UAAW0xB,GAC5B,WACLxlC,OAAO+T,oBAAoB,UAAWyxB,IAVxC,SAASA,EAAY5nC,GACf,CAAC,QAAS,OAAQ,MAAO,OAAO3H,SAAS2H,EAAE/H,IAAI+S,gBACjD28B,EAAmB,CAAED,SAAU1nC,EAAE/H,IAAI+S,cAAe/S,QAEjC,IAAjB+H,EAAE/H,IAAI4P,QACR8/B,EAAmB,CAAED,WAAUzvC,IAAK+H,EAAE/H,IAAI+S,mBAO7C,CAACw8B,EAAgBvvC,EAAKyvC,EAAUC,IAEnC7sC,qBAAU,WACH7C,IAEHqvC,EAAeE,EADbE,EACY,UAAoBA,EAApB,cAAkCzvC,GAEjBA,GAEjC0vC,EAAmB,IACnBF,EAAkB,SACjB,CAACC,EAAUzvC,EAAKqvC,EAAgBE,IAGjC,kBAACr2B,GAAD,CACElH,MAAM,4BAUN5I,KAAMA,EACNpF,QAASA,GAET,kBAACiuB,GAAA,EAAD,KACE,kBAACC,GAAA,EAAD,CAAOvsB,UAAW1B,EAAQkrC,MAAOjlB,aAAW,gBAC1C,kBAACiI,GAAA,EAAD,KACE,kBAACC,GAAA,EAAD,KACE,kBAACC,GAAA,EAAD,eACA,kBAACA,GAAA,EAAD,CAAWud,MAAM,SAAjB,uBAGJ,kBAACtd,GAAA,EAAD,KACGgd,EAAWjwC,KAAI,SAACwwC,GAAD,OACd,kBAACzd,GAAA,EAAD,CAAUpyB,IAAK6vC,EAAOpxC,aACpB,kBAAC4zB,GAAA,EAAD,KAAYwd,EAAOpxC,aACnB,kBAAC4zB,GAAA,EAAD,CAAWud,MAAM,SACf,kBAAC,IAAD,CACEnpC,QAAS,WACP,GAAI8oC,IAAmBM,EAGrB,OAFAL,EAAkBK,QAClBH,EAAmB,KAIvBzhC,MAAO,CAAEoD,SAAU,IAEnB,2BACGk+B,IAAmBM,EAChBJ,GAAYzvC,EAAZ,WACMyvC,EAAWA,EAAW,IAAM,IADlC,OACuCzvC,GAAO,MAD9C,KAEE,kBACF6vC,EAAOnxC,SAGX,kBAAC,KAAD,CAAUuP,MAAOmhC,gBCtFjCziC,GAASxJ,YAAO81B,IAAP91B,CAAkB,CAC/BU,OAAQ,IAwGKisC,GArGoB,SAAC,GAA2C,IAAzC5B,EAAwC,EAAxCA,gBAAiB6B,EAAuB,EAAvBA,iBAC/CptC,EAAcC,cACd4H,EAAUoD,KAF4D,EAGxC3O,IAA5BC,EAHoE,EAGpEA,WAAYC,EAHwD,EAGxDA,YAHwD,EhGuDxCc,qBAAWtB,GgGnDvCE,EAJoE,EAIpEA,QAASC,EAJ2D,EAI3DA,aAJ2D,EAK5B0D,oBAAS,GALmB,mBAKrEwtC,EALqE,KAKnDC,EALmD,KAO5E,OACE,kBAACz3B,GAAA,EAAD,CAAKpV,QAAS,GACZ,kBAAC,GAAD,CAAQqD,QAASynC,EAAiBxoC,QAAQ,YAA1C,aAGA,kBAAC,GAAD,CACEe,QAAS,WAEL0D,OAAO+lC,QACL,6EAGFH,KAGJrqC,QAAQ,YAVV,oBAcA,kBAAC,GAAD,CACEA,QAAQ,WACRe,QAAS,WACH+D,EAAQ2lC,0BACV3lC,EAAQ4lC,mBAER5lC,EAAQ6lC,oBAEV1tC,MAGD6H,EAAQ2lC,0BAA4B,SAAW,UAXlD,cAaA,kBAAC,GAAD,CACEzqC,QAAQ,WACRe,QAAS,WAEP,IAAM4e,EAAWlb,OAAOmmC,OACtB,+EACAnmC,OAAO21B,aAAamE,QAAQ,gCAAkC,IAE/C,OAAb5e,IACJlb,OAAO21B,aAAa8E,QAAQ,8BAA+Bvf,GAC3Dlb,OAAOU,SAAS0lC,YAVpB,+BAeA,kBAAC,GAAD,CACE7qC,QAAQ,WACRe,QAAS,WACPtH,EACE,sBACC4B,QAAQ7B,EAAW,0BAIvBA,EAAW,sBAAwB,SAAW,UATjD,gBAWEA,EAAW,uBACX,kBAAC,GAAD,CACEwG,QAAQ,WACR2I,SAAUtN,QAAQ7B,EAAW,uBAC7BuH,QAAS,WACP,IAAM4e,EAAWlb,OAAOmmC,OACtB,sBACApxC,EAAW,qBAAuB,IAEnB,OAAbmmB,GACJlmB,EAAY,mBAAoBkmB,KATpC,sBAeF,kBAAC,GAAD,CACE3f,QAAQ,WACRe,QAAS,WACPwpC,GAAoB,KAHxB,uBAQA,kBAACO,GAAD,CACEpnC,KAAM4mC,EACNV,WAAYzwC,EACZmF,QAAS,kBAAMisC,GAAoB,IACnCZ,eAAgB,SAACQ,EAAQ9wC,GAAT,OACdD,EAAa+wC,EAAOrxC,GAAIO,QCrGnB,eAA+D,IAA5DyU,EAA2D,EAA3DA,QAASpN,EAAkD,EAAlDA,SAAU8nC,EAAwC,EAAxCA,gBAAiB6B,EAAuB,EAAvBA,iBACjC9O,EAAUztB,EAArBC,UAER,OACE,6BACE,kBAAC,GAAD,CACEwtB,MAAOA,EACP76B,SAAUA,EACV8nC,gBAAiBA,EACjBuC,aAAW,IAEb,kBAAC,GAAD,KACE,kBAAC/C,GAAD,iBACA,kBAAC,GAAD,CACEqC,iBAAkBA,EAClB7B,gBAAiBA,OCfZ,eAA4D,IAAzD9kC,EAAwD,EAAxDA,KAAM03B,EAAkD,EAAlDA,YAAa4P,EAAqC,EAArCA,YAAatqC,EAAwB,EAAxBA,SAAUpC,EAAc,EAAdA,QAAc,EAC7CxB,qBAD6C,mBACjEsW,EADiE,KAC3D63B,EAD2D,OAE3CnuC,qBAF2C,mBAEjE0B,EAFiE,KAE1D+sB,EAF0D,KAWxE,OARApuB,qBAAU,WACR,IAAM+tC,EAAUrwC,KAAKC,UAAUkwC,EAAa,KAAM,MAC9CE,IAAY93B,IACd63B,EAAWC,GACX3f,EAAY,SAEb,CAAC6P,EAAa4P,EAAa53B,IAG5B,kBAACI,GAAD,CACE9P,KAAMA,EACNpF,QAASA,EACTgO,MAAK,kBAAa8uB,EAAb,MAEL,kBAAC,KAAD,CACEnjC,MAAM,SACNomB,KAAK,aACLtgB,MAAM,OACN/D,MAAOoZ,EACP+3B,YAAa,CAAEC,gBAAiBC,KAChC3qC,SAAU,SAACoL,GACTm/B,EAAWn/B,GACXyf,EAAY,MACZ,IACE7qB,EAAS7F,KAAK4wB,MAAM3f,IACpB,MAAOzJ,GACPkpB,EAAYlpB,EAAExC,gBAIpB,kBAACiT,GAAA,EAAD,CAAKnV,MAAM,OAAOa,KChClBZ,GAAYC,YAAW,CAC3B6E,KAAM,CACJgD,SAAU,QACV7C,QAAS,OACTC,cAAe,SACfgD,OAAQ,EACRC,KAAM,EACNgO,MAAO,EACPhR,WAAY,aACZmD,cAAe,QAEjBolC,OAAQ,CACNzoC,QAAS,OACTO,gBAAiB/K,IAAY,KAC7BuO,SAAU,GACVjJ,MAAO,OACPD,QAAS,EACT+M,aAAc,EACdhE,UAAW,8BACX,YAAa,CACXrD,gBAAiB/K,KAAc,MAEjC,UAAW,CACT+K,gBAAiB/K,IAAW,SAO5BkzC,GAAeryC,wBAAc,IAEtBsyC,GAAY,WAGvB,MAAO,CAAEC,SAFYlxC,qBAAWgxC,IAAxBE,WAKGC,GAAgB,SAAC,GAAkB,IAAhB/yC,EAAe,EAAfA,SAAe,EACduhB,sBAAW,WAAyB,IAAxBrb,EAAuB,uDAAf,GAAIqU,EAAW,uCAChE,GAAoB,QAAhBA,EAAOvS,KAAgB,CACzB,IAAMgrC,EACmB,SAAvBz4B,EAAO04B,YACH,KACA14B,EAAO04B,YACP,KAGN,OAAO/sC,EAAM2V,OAAO,CAClB,CACE1b,GAAI2b,KAAKC,SAAS7U,WAAW8U,MAAM,KAAK,GACxCL,QAASpB,EAAOoB,QAChB3T,KAAMuS,EAAO04B,YACbx3B,KAAMu3B,EACNA,cAGC,MAAoB,SAAhBz4B,EAAOvS,KACT9B,EACJlF,KAAI,SAACkyC,GAAD,sBACAA,EADA,CAEHz3B,KAAMy3B,EAAIz3B,KAjCK,SAmChBlD,QAAO,SAAC26B,GAAD,OAASA,EAAIz3B,KAAO,KAEzBvV,IACN,IA5B0C,mBACtCitC,EADsC,KAC9BC,EAD8B,KA6BvCp/B,EAAI/O,KAEVT,qBAAU,WACR,GAAsB,IAAlB2uC,EAAO5hC,OAAc,OAAO,aAChC,IAAI9M,EAAWC,aAAY,WACzB0uC,EAAa,CAAEprC,KAAM,WA5CF,KA8CrB,OAAO,kBAAMrD,cAAcF,MAC1B,CAAC0uC,IAKJ,OACE,oCACE,kBAACP,GAAaxxC,SAAd,CAAuBC,MAAO,CAAE8xC,SAAQL,SAL3B,SAACn3B,GAAD,IAAkBs3B,EAAlB,uDAAwC,OAAxC,OACfG,EAAa,CAAEprC,KAAM,MAAO2T,UAASs3B,mBAKhCjzC,GAEH,yBAAKsH,UAAW0M,EAAEjK,MACfopC,EAAOnyC,KAAI,SAACkyC,GAAD,OACV,kBAAC33B,GAAA,EAAD,CAAU5Z,IAAKuxC,EAAI/yC,GAAIqb,GAAI03B,EAAIz3B,KAAOy3B,EAAIF,UACxC,kBAACt3B,GAAA,EAAD,CAAMF,GAAI03B,EAAIz3B,KAAO,KACnB,yBAAKnU,UAAWyZ,KAAW/M,EAAE2+B,OAAQO,EAAIlrC,OACtCkrC,EAAIv3B,iBC5Ff7O,GAAYhI,YAAO,MAAPA,CAAc,IAC1BuuC,GAAOvuC,YAAO,MAAPA,CAAc,CACzBoF,QAAS,cACTC,cAAe,SACf3E,OAAQ,IAEJ8tC,GAAQxuC,YAAO,MAAPA,CAAc,CAC1BmJ,SAAU,GACVoC,WAAY,OACZrL,MAAOtF,KAAY,OAEf6zC,GAAQzuC,YAAO,MAAPA,CAAc,CAC1BmJ,SAAU,GACV5I,UAAW,IAGE,eAAgB,IAAbmuC,EAAY,EAAZA,MAChB,OACE,kBAAC,GAAD,KACGA,EAAMxyC,KAAI,SAACqS,GAAD,OACT,kBAACggC,GAAD,CAAM1xC,IAAK0R,EAAE5M,MACX,kBAAC6sC,GAAD,KAAQjgC,EAAE5M,MACV,kBAAC8sC,GAAD,KAAQlgC,EAAEhS,a,oFClBdsc,GAAQ7Y,YAAO,MAAPA,CAAc,CAC1BmJ,SAAU,GACVjJ,MAAOtF,KAAY,KACnBqF,QAAS,GACT,MAAO,CACLC,MAAOtF,IAAY,QAIjBmF,GAAYC,YAAO,MAAPA,CAAc,CAC9BE,MAAOtF,IAAW,OAGL,cAAO,IACZoB,EAAgBF,IAAhBE,YADW,EAEeqD,oBAAS,GAFxB,mBAEZsvC,EAFY,KAEDC,EAFC,OAGyBvvC,mBAAS,IAHlC,mBAGZwvC,EAHY,KAGIC,EAHJ,OAIOzvC,mBAAS,IAJhB,mBAIZ0B,EAJY,KAILC,EAJK,KAKnB,OACE,kBAACqU,GAAA,EAAD,CAAK/J,WAAY,EAAG8H,UAAU,UAC5B,kBAAC,GAAD,sDACiD,IAC/C,uBAAGpD,KAAK,2CAAR,uBAFF,KAOCjP,GAAS,kBAAC,GAAD,KAAYA,GACtB,kBAACsU,GAAA,EAAD,CACE/J,WAAY,EACZlG,QAAQ,OACRqE,eAAe,SACfnE,WAAW,SACXD,cAAc,UAEd,kBAAC3C,EAAA,EAAD,CACEO,SAAU,SAAC2B,GAAD,OAAOkqC,EAAkBlqC,EAAElD,OAAOnF,QAC5CiG,UAAU,gCACVD,QAAQ,WACRM,MAAM,YAER,kBAAC,IAAD,CACEiI,MAAO,CAAEvK,UAAW,IACpBL,MAAM,UACNgL,SAAUyjC,EACVpsC,QAAQ,WACRe,QAAO,sBAAE,4BAAAtF,EAAA,6DACPgD,EAAS,MACT4tC,GAAa,GAFN,kBAKkBj1B,MACrB,iDACA,CACEo1B,QAAS,CAAEC,OAAQH,KARlB,UAWmB,OANlB3sB,EALD,QAWQqY,OAXR,sBAW8B,IAAIr9B,MAAMglB,EAAS9f,YAXjD,gEAaLpB,EAAS,KAAEoB,YACXwsC,GAAa,GAdR,2BAkBPA,GAAa,GACb5yC,EAAY,mBAAoB6yC,GAnBzB,2DAsBRF,EACC,oCACE,kBAACxjC,GAAA,EAAD,CAAkBC,KAAM,GAAIN,MAAO,CAAEpB,YAAa,MADpD,eAKA,oCACE,kBAAC,KAAD,CAAUoB,MAAO,CAAEpB,YAAa,KADlC,Y,iCChFCulC,GAAmB,WAAO,IAAD,EACVC,KAAlB9sB,EAD4B,EAC5BA,KAAM+sB,EADsB,EACtBA,QACd,OAAOlzC,mBACL,kBACGmmB,GAASA,EAAK5Z,QAEX,CACE6H,QAAS+R,EAAK5Z,QACd4mC,WAAY,SAACC,GACXF,EAAQnvB,iBAAMoC,EAAM,CAAC,WAAYitB,MAJrC,OAON,CAACjtB,EAAM+sB,KCdEG,GAAc7zC,wBAAc,IAE5ByzC,GAAiB,kBAAMpyC,qBAAWwyC,KCiBzCtnC,GAAYhI,YAAO,MAAPA,CAAc,CAC9B2b,mBAAoB,iBAEhB4zB,GAAOvvC,YAAO,IAAPA,CAAY,CACvBE,MAAOtF,IAAY,KACnByc,eAAgB,SAGZm4B,GAAe,IAAIC,KAAKC,aAAa,QAAS,CAClD5kC,MAAO,WACP6kC,SAAU,QAENC,GAAsB,IAAIH,KAAKC,aAAa,QAAS,CACzD5kC,MAAO,WACP6kC,SAAU,MACVE,sBAAuB,EACvBC,sBAAuB,IAGnBC,GAAQ,CAAC,QAAS,UAAW,aAEpB,cAAO,IAAD,EACiBj0C,IAA5BC,EADW,EACXA,WAAYC,EADD,EACCA,YADD,EAUfg0C,KAPFC,EAHiB,EAGjBA,iBACAC,EAJiB,EAIjBA,eACAC,EALiB,EAKjBA,cACAC,EANiB,EAMjBA,UACAC,EAPiB,EAOjBA,UACAC,EARiB,EAQjBA,YACAC,EATiB,EASjBA,UATiB,EAWOlxC,qBAXP,mBAWZ0B,EAXY,KAWLC,EAXK,OAYaiuC,KAAxB5+B,EAZW,EAYXA,QAAS++B,EAZE,EAYFA,WAZE,EAcuB/vC,mBAASgR,EAAQmgC,WAAa,IAdrD,mBAcZC,EAdY,KAcGC,EAdH,KAebC,EAAYF,EAAcjxB,MAAQnP,EAAQmgC,WAAa,IAAIhxB,IA2BjE,GAzBA9f,qBAAU,WACU,OAAd6wC,QAAoCpzC,IAAdozC,GACxBJ,EAAc9/B,KAEf,CAACkgC,EAAWlgC,EAAS8/B,IAExBzwC,qBAAU,WAAM,4CAEd,4BAAA1B,EAAA,sEACyB2b,MAAM,6DAAD,OACmCi3B,mBAC3DD,GAFwB,oBAGb50C,EAAW,sBACxB8F,MAAK,SAAC+X,GAAD,OAAOA,EAAEC,UALlB,OACQqI,EADR,OAOEhgB,QAAQC,IAAI,CAAE+f,aACdwuB,EAAiB,eACZrgC,EAAQmgC,UADG,GAEXtuB,EAFW,CAGd2uB,QAAQ,KAXZ,4CAFc,sBACTF,GADS,mCAgBdG,KACC,CAACH,EAAWtgC,EAAQmgC,UAAWz0C,KAE7Bk0C,EACH,OACE,kBAAC,GAAD,+BAEGC,GACC,yBAAKplC,MAAO,CAAE5K,MAAOtF,IAAW,OAASs1C,IAKjD,IAAMa,EAAcJ,EAEW,IAA3BF,EAAc3f,SACd,YACA,UAHA,QAKJ,OACE,kBAAC,GAAD,KACE,kBAACkgB,GAAA,EAAD,CAASD,WAAYhB,GAAM1J,QAAQ0K,IAChC,CAAC,QAAS,UAAW,aAAa70C,KAAI,SAAC+0C,GAAD,OACrC,kBAACC,GAAA,EAAD,CAAMr0C,IAAKo0C,GACT,kBAACE,GAAA,EAAD,KAAYF,QAIjBlwC,GAAS,kBAACsU,GAAA,EAAD,CAAKnV,MAAOtF,IAAW,MAAOmG,GACxB,UAAfgwC,EACC,kBAAC17B,GAAA,EAAD,KACE,kBAAC0Z,GAAA,EAAD,KACE,kBAACC,GAAA,EAAD,KACE,kBAACC,GAAA,EAAD,KACE,kBAACC,GAAA,EAAD,aACA,kBAACA,GAAA,EAAD,iBACA,kBAACA,GAAA,EAAD,kBACA,kBAACA,GAAA,EAAD,sBACA,kBAACA,GAAA,EAAD,gBAGJ,kBAACC,GAAA,EAAD,KACGtC,OAAOkL,KAAKqY,GAAWl0C,KAAI,SAACk1C,GAAD,OAC1B,kBAACniB,GAAA,EAAD,KACE,kBAACC,GAAA,EAAD,CAAWpkB,MAAO,CAAE7P,cAAe,eAChCm2C,EAAQ5yB,QAAQ,KAAM,MAEzB,kBAAC0Q,GAAA,EAAD,KAAYkhB,EAAUgB,IACtB,kBAACliB,GAAA,EAAD,KACe,iBAAZkiB,EACG,GACAxB,GAAoBtf,QACjB+f,EACCC,EAAY,eAAKF,EAAN,eAAkBgB,EAAU,MACvChB,EAAUiB,cACc,IAAvBjB,EAAUgB,GAAiB,EAAIhB,EAAUgB,MAGpD,kBAACliB,GAAA,EAAD,KACGsgB,GAAalf,QACX+f,EACCC,EAAY,eAAKF,EAAN,eAAkBgB,EAAU,MACvChB,EAAUiB,eAGhB,kBAACniB,GAAA,EAAD,UAGJ,kBAACD,GAAA,EAAD,KACE,kBAACC,GAAA,EAAD,mBACA,kBAACA,GAAA,EAAD,MACA,kBAACA,GAAA,EAAD,MACA,kBAACA,GAAA,EAAD,MACA,kBAACA,GAAA,EAAD,KAAYsgB,GAAalf,OAAO+f,KAElC,kBAACphB,GAAA,EAAD,KACE,kBAACC,GAAA,EAAD,yBACA,kBAACA,GAAA,EAAD,MACA,kBAACA,GAAA,EAAD,MACA,kBAACA,GAAA,EAAD,MACA,kBAACA,GAAA,EAAD,oBAIN,kBAAC7Z,GAAA,EAAD,CACEjQ,QAAQ,OACRqE,eAAe,WACfnE,WAAW,SACXrF,QAAS,EACTqL,WAAY,GAEZ,kBAAC+J,GAAA,EAAD,iBAAem6B,GAAalf,OAAOigB,IACnC,kBAACl7B,GAAA,EAAD,CAAK3H,SAAU,IACf,kBAAC,IAAD,CACEpK,QAAS,kBAAMtH,EAAY,mBAAoB,OAC/CuG,QAAQ,YAFV,WAMA,kBAAC,IAAD,CACErC,MAAOqwC,EAAYF,EAAY,UAAY,OAC3CvlC,MAAO,CAAE5C,WAAY,IACrB3F,QAAQ,WACRyN,KAAK,sDAJP,eAQA,kBAAC,IAAD,CACE1M,QAAO,sBAAE,4BAAAtF,EAAA,6DACPgD,EAAS,MADF,SAEgB2Y,MACrB,qDACA,CACEsI,OAAQ,OACRkI,KAAM/sB,KAAKC,UAAU,CACnBgT,UACAihC,MAAOjB,EACPkB,QAASx1C,EAAW,sBAEtBgzC,QAAS,CAAE,eAAgB,sBAG5BltC,MAAK,SAAC+X,GAAD,OAAOA,EAAEC,UACd9X,OAAM,SAAC6C,GAEN,OADA5D,EAAS4D,EAAExC,YACJ,QAjBJ,UAED8f,EAFC,8BAoBLlhB,EAAS,8BApBJ,kBAqBE,MArBF,OAwBPouC,EACEpvB,iBAAM3P,EAAS,CAAC,aAAc,CAC5BmP,IAAK0C,EAASsvB,aA1BX,2CA8BT1mC,MAAO,CAAE5C,WAAY,IACrB3F,QAAQ,WACRrC,MAAOqwC,GAAaF,EAAY,UAAY,QAjC9C,sBAuCa,YAAfU,EACF,kBAAC17B,GAAA,EAAD,KACGo7B,EAAcI,OACb,kBAAC9hB,GAAA,EAAD,KACE,kBAACI,GAAA,EAAD,KACE,kBAACF,GAAA,EAAD,KACE,kBAACC,GAAA,EAAD,eACA,kBAACA,GAAA,EAAD,KAAYuhB,EAAclW,SAE5B,kBAACtL,GAAA,EAAD,KACE,kBAACC,GAAA,EAAD,aACA,kBAACA,GAAA,EAAD,KACE,kBAACqgB,GAAD,CAAMv/B,KAAMygC,EAAcjxB,KAAMixB,EAAcjxB,OAGlD,kBAACyP,GAAA,EAAD,KACE,kBAACC,GAAA,EAAD,yBACA,kBAACA,GAAA,EAAD,KAAYuhB,EAAc3f,SAAS2gB,QAAQ,GAA3C,MAEDhB,EAAca,OACb,kBAACriB,GAAA,EAAD,KACE,kBAACC,GAAA,EAAD,oBACA,kBAACA,GAAA,EAAD,SACIuhB,EAAc3f,SAAW2f,EAAca,MAD3C,aAQR,kBAACj8B,GAAA,EAAD,CAAKpV,QAAS,EAAGmT,UAAU,UACzB,kBAACjI,GAAA,EAAD,CAAkBC,KAAM,OAG5B,kBAACiK,GAAA,EAAD,CAAKjQ,QAAQ,OAAO7E,UAAW,EAAGkJ,eAAe,YAW/C,kBAAC4L,GAAA,EAAD,CAAK3H,SAAU,MAOF,cAAfqjC,EACF,kBAAC17B,GAAA,EAAD,KACE,kBAAC0Z,GAAA,EAAD,KACE,kBAACI,GAAA,EAAD,KACE,kBAACF,GAAA,EAAD,KACE,kBAACC,GAAA,EAAD,yBACA,kBAACA,GAAA,EAAD,cAEDuhB,EAAca,OACb,kBAACriB,GAAA,EAAD,KACE,kBAACC,GAAA,EAAD,mBACA,kBAACA,GAAA,EAAD,KACGsgB,GAAalf,OAAOmgB,EAAca,WAM7C,kBAACj8B,GAAA,EAAD,CAAKjQ,QAAQ,OAAO7E,UAAW,EAAGkJ,eAAe,YAC/C,kBAAC,IAAD,CAAQlH,QAAQ,YAAhB,aAWF,OClTGmvC,GAAmBj2C,wBAAc,IAEjCk2C,GAAoB,SAAC,GAAkB,IAAhBz2C,EAAe,EAAfA,SAAe,EACbY,IAA5BC,EADyC,EACzCA,WAAYC,EAD6B,EAC7BA,YAD6B,EAEOqD,oBAAS,GAFhB,mBAE1CuyC,EAF0C,KAEpBC,EAFoB,OAGPxyC,oBAAS,GAHF,mBAG1CyyC,EAH0C,KAG3BC,EAH2B,OAIP1yC,oBAAS,GAJF,mBAI1C2yC,EAJ0C,KAI3BC,EAJ2B,OAKf5yC,mBAAS,MALM,mBAK1CkxC,EAL0C,KAK/B2B,EAL+B,KAM3C91C,EAAeH,mBACnB,iBAAO,CACL61C,gBACAvB,YACA4B,kBAAkB,WAAD,4BAAE,4BAAAn0C,EAAA,0DACb4zC,EADa,wDAEjBC,GAAwB,GAFP,SAGWl4B,MAC1B,qDACA9X,MAAK,SAAC+X,GAAD,OAAOA,EAAEC,UALC,OAGXi4B,EAHW,OAMjBD,GAAwB,GACxBE,EAAiBD,GAPA,2CAAF,kDAAC,GASlB3B,cAAc,WAAD,4BAAE,8BAAAnyC,EAAA,0DACTg0C,EADS,oDAEbC,GAAiB,GACXG,EAASr2C,EAAW,oBAHb,0EAOM4d,MAAM,iDAErB,CACEo1B,QAAS,CAAEC,OAAQoD,KAVZ,cAOXlwB,EAPW,iBAaMA,EAASrI,OAbf,QAaXqI,EAbW,gEAeXhgB,QAAQnB,MAAR,MACAkxC,GAAiB,GAhBN,kBAiBJ/f,QAAQE,OAAR,OAjBI,QAmBTlQ,EAASqY,QAAU,KACrBv+B,EAAY,mBAAoB,MAGlCk2C,EAAahwB,EAASmwB,QACtBJ,GAAiB,GAxBJ,0DAAF,kDAAC,MA2BhB,CACEH,EACAF,EAEA71C,EAAW,oBACXi2C,EACAzB,EACAx0C,EACAC,IAGJ,OACE,kBAAC01C,GAAiBp1C,SAAlB,CAA2BC,MAAOH,GAC/BlB,I,UC/DQ,cAEb,OADkBqgC,QAEdv0B,OAAOU,SAAS4qC,OAAOr1C,SAAS,mBCJvB,YAACoT,EAAS+gC,GACvB,IAAIz/B,GAAUtB,EAAQC,WAAa,IAAIqB,QAAU,GAYjD,OAAQy/B,GACN,IAAK,eACL,IAAK,cACH,OAAQ/gC,EAAQE,SAAW,IAAI9D,OACjC,IAAK,mBACH,OAAOogB,OAAOkL,KAAK1nB,EAAQC,UAAUqB,QAAU,IAAIlF,OACrD,IAAK,mBACH,GAA+B,eAA3B4D,EAAQC,UAAUpN,KACpB,OAAOmN,EAAQC,UAAUU,SAASC,UAAUwC,QAC1C,SAACqrB,GAAD,MAAkB,SAAXA,EAAE57B,QACTuJ,OACG,GAA+B,cAA3B4D,EAAQC,UAAUpN,KAC3B,OAAOyO,EAAO8B,QACZ,SAAC2rB,GAAD,MACuB,eAArBA,EAAE9uB,UAAUpN,MAC+B,SAA3Ck8B,EAAE9uB,UAAUU,SAASC,UAAU,GAAG/N,QACpCuJ,OAEF,MAAM,IAAIvP,MACR,oDACEmT,EAAQC,UAAUpN,MAG1B,IAAK,4BACH,OAAOmN,EAAQC,UAAUG,OAAOhE,OAClC,QACE,MAAM,IAAIvP,MAAJ,sCAAwCk0C,EAAxC,QC/BCpB,GAAe,WAC1B,IAAMuC,EAAkBC,KAChBniC,EAAY4+B,KAAZ5+B,QAFwB,EAS5BvT,qBAAW40C,IALbI,EAJ8B,EAI9BA,cACAvB,EAL8B,EAK9BA,UACAkC,EAN8B,EAM9BA,WACAN,EAP8B,EAO9BA,kBACAhC,EAR8B,EAQ9BA,cAEMp0C,EAAeD,IAAfC,WACF22C,EAAoB90C,QAAQ7B,EAAW,uBACvC42C,EAAqB/0C,QAAQ7B,EAAW,qBAO9C,GALA2D,qBAAU,WACJgzC,GAAqBH,GACpBT,GAAeK,MACnB,CAACL,EAAeS,EAAiBG,EAAmBP,IAEnDO,EACF,MAAO,CAAEzC,kBAAkB,EAAOC,eAAgB,sBACpD,GAAIqC,EAAiB,MAAO,CAAEtC,kBAAkB,GAChD,IAAK0C,GAAsBtiC,EAAQE,QAAQ9D,OAAS,IAClD,MAAO,CACLwjC,kBAAkB,EAClBC,eAAgB,yBAGpB,IAAK4B,EACH,MAAO,CACL7B,kBAAkB,EAClBC,eAAgB,qBAIpB,IAAK,IAAD,EAEA4B,EAAczhC,EAAQC,UAAUpN,OAAS,GADnC0vC,EADN,EACMA,QAAoBC,EAD1B,EACezC,UAGjB,IAAKwC,EACH,MAAO,CACL3C,kBAAkB,EAClBC,eAAe,2BAAD,OAA6B7/B,EAAQC,UAAUpN,KAA/C,MAIlB,IADA,IAAMktC,EAAY,GAClB,MAA2BvjB,OAAOkL,KAAK8a,GAAvC,eAA8D,CAAzD,IAAMC,EAAY,KACrB1C,EAAU0C,GAAgBC,GAAuB1iC,EAASyiC,GAG5D,IAAME,EAAWnmB,OAAOkL,KAAKqY,GAGvB6C,EAAc,aAAOC,SAAP,YAAmBF,GAAnB,QAA6B,UAAYJ,KACvDtC,EAAc,SAACF,GACnB,OAAO6C,EAAc,WAAd,cAAkBD,EAAS92C,KAAI,SAACi3C,GAAD,OAAQ/C,EAAU+C,SAEpD9C,EAAYC,EAAYF,GAE9B,MAAO,CACLH,kBAAkB,EAClBM,YACAJ,gBACAsC,aACAG,UACAC,uBACAzC,YACAE,cACAD,YACA+C,gBAAiBr3C,EAAW,qBAE9B,MAAO6I,GACP,MAAO,CAAEqrC,kBAAkB,EAAOC,eAAgBtrC,EAAExC,cCtElD4F,GAAYhI,YAAO,MAAPA,CAAc,CAC9BoF,QAAS,OACTC,cAAe,SACfC,WAAY,WAuBC+tC,GApBc,WAAO,IAC1Bt3C,EAAeD,IAAfC,WACFu3C,EAAY11C,QAAQ7B,EAAW,qBAErC,OACE,kBAAC,GAAD,KACIu3C,EAGA,kBAAC,GAAD,CACEz2C,IAAI,gBACJiO,MAAO,CAAEvK,UAAW,GAAID,MAAO,OAAQgV,SAAU,MAEjD,kBAAC,GAAD,OANF,kBAAC,GAAD,CAAazY,IAAI,kBCnBnBmL,GAAYhI,YAAO,MAAPA,CAAc,CAC9BmJ,SAAU,GACVlJ,QAAS,GACTmT,UAAW,SACXlT,MAAOtF,KAAY,KACnB,MAAO,CACLsF,MAAOtF,IAAY,QAgBR24C,GAZmB,WAChC,OACE,kBAAC,GAAD,wHAEwC,IACtC,uBAAGvjC,KAAK,uEAAR,uBCAAwjC,GAAoBxzC,YAAO,MAAPA,CAAc,CACtCC,QAAS,GACTiF,OAAQ,OACRE,QAAS,OACTC,cAAe,SACfwD,UAAW,eAGE,eASR,IARLwH,EAQI,EARJA,QACAmmB,EAOI,EAPJA,gBACAid,EAMI,EANJA,oBACAC,EAKI,EALJA,4BAKI,IAJJxmC,qBAII,MAJY,WAIZ,EAHJ87B,EAGI,EAHJA,aACA2K,EAEI,EAFJA,6BACAC,EACI,EADJA,qBACI,EACyBv0C,mBAAS,SADlC,mBACGoP,EADH,KACeolC,EADf,KAEExsC,EAAUoD,KACRwlC,EAAqBD,KAArBC,iBACF6D,EAAgBtB,KAClBuB,EAAkB,EAOtB,OANI1jC,EAAQE,SAAWF,EAAQE,QAAQ9D,OAAS,IAC9CsnC,EACE1jC,EAAQE,QACLrU,KAAI,SAACqS,GAAD,YAAwBpR,IAAjBoR,EAAEkR,YAA6C,OAAjBlR,EAAEkR,cAC3ChM,OAAO7V,SAAS6O,OAAS4D,EAAQE,QAAQ9D,QAEzCgnC,EACL,kBAACnI,GAAD,KACE,kBAAC,GAAD,CACE5c,YAAW,iBAAY+kB,EAAoB9V,aAC3C0E,qBAAsB,SAAC2R,EAAetmB,GAAY,IAE9CiQ,EAEE8V,EAFF9V,YACU9e,EAHmC,YAI3C40B,EADFljC,QAH6C,MAM3C8+B,EAAah/B,EACjBg/B,EAAarvB,iBACXqvB,EACA,CAAC,UAAW1R,EAAa,cACzBjQ,GAIA7O,EAAOtS,QAAUW,QACE/P,IAAjB0hB,EAAOtS,OAAyC,aAAlBW,IAEhCmiC,EAAarvB,iBACXqvB,EACA,CAAC,UAAW1R,EAAa,SACzBzwB,IAIJwmC,EACE1zB,iBAAMyzB,EAAqB,CAAC,UAAW,EAAG,cAAe/lB,IAE3D8I,EAAgB6Y,IAElBtO,OAAQ,WAA6B,IAA5B4E,EAA2B,uDAAd,UAChB8N,EAAoBQ,WACtBN,EACEnrB,KAAKC,MAAQgrB,EAAoBQ,WAHH,IAM1BtW,EAAgB8V,EAAhB9V,YACR,OAAQgI,GACN,IAAK,aACH,GAAIhI,IAAgBttB,EAAQE,QAAQ9D,OAAS,EAU3C,OATApF,EAAQO,QAAQ,cAAe,CAC7BssC,eAAgB7jC,EAAQC,UAAUpN,YAEpCwwC,EAA4B,eACvBrjC,EADsB,CAEzBE,QAAS,CAACF,EAAQE,QAAQotB,EAAc,IACxCA,YAAaA,EAAc,EAC3BsW,UAAWzrB,KAAKC,SAIpB,MACF,IAAK,iBACH,GAAoB,IAAhBkV,EAOF,YANA+V,EAA4B,eACvBrjC,EADsB,CAEzBE,QAAS,CAACF,EAAQE,QAAQotB,EAAc,IACxCA,YAAaA,EAAc,EAC3BsW,UAAWzrB,KAAKC,SAQxBirB,EAA4B,OAE9BrjC,QAASojC,EACTzK,aAAc,kBAAMA,MAIxB,kBAACwK,GAAD,KACE,kBAACn+B,GAAA,EAAD,CAAKjQ,QAAQ,QACX,kBAACiQ,GAAA,EAAD,KACE,kBAAC3F,GAAA,EAAD,CAAMnT,MAAOkS,EAAYxL,SAAU,SAAC2B,EAAG+K,GAAJ,OAAekkC,EAAOlkC,KACvD,kBAACE,GAAA,EAAD,CAAKE,KAAM,kBAAC,KAAD,MAAqBlN,MAAM,QAAQtG,MAAM,WAClDu3C,GACA,kBAACjkC,GAAA,EAAD,CACEE,KAAM,kBAAC,KAAD,MACNlN,MAAM,kBACNtG,MAAM,mBAGT0zC,GACC,kBAACpgC,GAAA,EAAD,CACEE,KAAM,kBAAC,KAAD,MACNlN,MAAM,aACNtG,MAAM,gBAKd,kBAAC8Y,GAAA,EAAD,CAAK3H,SAAU,IACf,kBAACymC,GAAD,CACEzF,MAAO,CACL,CACE/sC,KAAM,mBACNpF,MAAOya,KAAKyG,MAAwB,IAAlBs2B,GAAyB,KAE7C,CACEpyC,KAAM,kBACNpF,MAAO63C,KACL,IAAI5rB,KAAKA,KAAKC,MAAQmrB,IACtBxxC,SAAS,EAAG,IAEhB,CACET,KAAM,sBACNpF,MAAO63C,KACL,IAAI5rB,KACFA,KAAKC,MACHmrB,GACG,EAAIG,IACJ1jC,EAAQE,SAAW,IAAI9D,SAE9BrK,SAAS,EAAG,QAKtB,kBAACiT,GAAA,EAAD,CAAK3H,SAAU,GACG,UAAfe,GACC,kBAACivB,GAAD,CACEthB,OAAQ/L,EAAQE,SAAW,IAAI9D,OAC/B8D,QAASF,EAAQE,SAAW,GAC5BuL,WAAYzL,EAAQE,SAAW,IAAIrU,KAAI,SAACqS,GAAD,OACrC3Q,QAAQ2Q,EAAEkR,eAEZnc,QAAS,SAACq6B,GACRt2B,EAAQO,QAAQ,cAAe,CAC7BssC,eAAgB7jC,EAAQC,UAAUpN,OAEpCwwC,EAA4B,eACvBrjC,EADsB,CAEzBE,QAAS,CAACF,EAAQE,QAAQotB,IAC1BA,cACAsW,UAAWzrB,KAAKC,YAKR,mBAAfha,GAAmC,kBAAC,GAAD,MACpB,cAAfA,GAA8B,kBAAC,GAAD,SCxKjCtO,I,cAAYC,YAAW,CAC3BoN,aAAc,CACZtN,MAAO,QAETm0C,SAAU,CACR3qC,YAAa,GAEf4qC,SAAU,CACRpsC,WAAY,GAEd9B,UAAW,CACThB,QAAS,OACTC,cAAe,SACf/E,MAAO,QACP4E,OAAQ,YAIG,eAgBR,IAfLkd,EAeI,EAfJA,KAEA/R,GAaI,EAdJqe,YAcI,EAbJre,SAEAxG,GAWI,EAZJrB,QAYI,EAXJqB,WACA2V,EAUI,EAVJA,IAUI,IATJjM,gBASI,MATO,UASP,MARJijB,uBAQI,MARc,kBAAM,MAQpB,EAPJxS,EAOI,EAPJA,aAOI,KANJ3K,WAMI,EALJk7B,oBAKI,MALU,QAKV,EAJJp2C,EAII,EAJJA,WACAT,EAGI,EAHJA,KAEAwP,GACI,EAFJ+E,YAEI,EADJ/E,eAEM4mC,EAAgBtB,KADlB,EAEkCnzC,mBAASkU,GAF3C,mBAECihC,EAFD,KAEeC,EAFf,KAGEvlC,EAAI/O,KACF6tC,EAAaD,KAAbC,SAJJ,EAKuB3uC,mBAASy0C,EAAgB,QAAUS,GAL1D,mBAKG3zB,EALH,KAKS8zB,EALT,OAMkDr1C,qBANlD,mBAMGo0C,EANH,KAMwBkB,EANxB,OAOiDt1C,mBAAS,IAP1D,mBAOGu1C,EAPH,KAOsBC,EAPtB,OAQ+Bx1C,qBAR/B,mBAQGy1C,EARH,KAQaC,EARb,KASIC,GAAgB5tC,MAAiB,IAAjC4tC,YACF3tC,EAAUoD,KAEVwqC,EAAanB,EAAgB,CAAC,SAAW,CAAC,QAAS,UAAW,SAZhE,EC1DS,WAAO,IAAD,EAC4Cr3B,sBAC7D,SAACrb,EAAO8zC,GACN,IAAMC,EAAqB/zC,EAAMg0C,gBAC9B9wC,OAAO,IACPyS,OAAO,CAACm+B,IACX,MAAO,CACLG,qBACEF,EAAmBpjC,QAAO,SAACC,EAAKhU,GAAN,OAAYgU,EAAMhU,IAAG,GAC/Cm3C,EAAmB1oC,OACrB2oC,gBAAiBD,KAGrB,CAAEE,qBAAsB,EAAGD,gBAAiB,KAb3B,mBAenB,MAAO,CAfY,KACVC,qBADU,MD2EfC,GAjBA,mBAeF1B,EAfE,KAgBF2B,EAhBE,KAmBJ71C,qBAAU,WACR,GAAKs1C,EAAL,CACA,IAAMQ,EAAqB,kBAAMd,EAAW,aACtCe,EAAoB,kBAAMf,EAAW,YACrCgB,EAAkB,kBAAMhB,EAAW,UAIzC,OAHAM,EAAYvkB,GAAG,qBAAsB+kB,GACrCR,EAAYvkB,GAAG,oBAAqBglB,GACpCT,EAAYvkB,GAAG,kBAAmBilB,GAC3B,WACLV,EAAYW,eAAe,qBAAsBH,GACjDR,EAAYW,eAAe,oBAAqBF,GAChDT,EAAYW,eAAe,kBAAmBD,OAE/C,CAACV,IAEJt1C,qBAAU,WACK,SAATkhB,GACFm0B,EAAe33C,KAAKC,UAAUgT,EAAS,KAAM,OAElC,UAATuQ,GACF+zB,EAAuB,MAEzBttC,EAAQO,QAAQ,kBAAmB,CAAEgG,IAAKgT,MACzC,CAACA,EAAMvZ,EAAS0tC,EAAgB1kC,IAEnC3Q,qBAAU,WACR,GAAKo1C,GAAqB,SAATl0B,EACjB,IAEE4V,EAAgBp5B,KAAK4wB,MAAM8mB,IAC3B,MAAOlwC,OACR,CAACkwC,EAAUl0B,EAAM4V,IAEpB,IAAM9nB,EAAcrB,cAAiB,SAACO,GAAD,OAAS8mC,EAAW9mC,EAAIgC,kBAEvDgmC,EAAmB35C,mBACvB,iBAAO,CACL45C,gBAAiB,kBAAMnB,EAAW,UAClCoB,gBAAiB,kBAAMpB,EAAW,UAClCqB,kBAAmB,kBAAMrB,EAAW,eAEtC,CAACA,IAGH,OACE,kBAAC,UAAD,CAASsB,SAAUJ,GACjB,yBAAKpzC,UAAW+zB,KAAWrnB,EAAE9I,UAAW,sBACtC,kBAACoU,GAAD,CACE3L,MACEhF,EACE,kBAACnH,EAAA,EAAD,CACEG,MAAM,aACNtG,MAAOijB,EACPjd,QAAQ,WACR6I,KAAK,UAGP,kBAAC6qC,GAAD,CACEpzC,MAAM,YACNI,SAAU,SAACizC,GACTlyB,EAAahE,iBAAMoC,EAAM,CAAC,YAAa8zB,IACvCzB,EAAgByB,IAElB35C,MAAOi4C,GAAgB,KAI7B9lC,YAAaA,EACbD,WAAYmS,EACZpS,KAAMymC,IAER,yBAAKnqC,MAAO,CAAE5F,OAAQ,OAAQyT,UAAW,WAC7B,SAATiI,GACC,kBAAC,KAAD,CACEpmB,MAAM,SACNomB,KAAK,aACLtgB,MAAM,OACN/D,MAAOu4C,GAAY,GACnBpH,YAAa,CAAEC,gBAAiBC,KAChC3qC,SAAU,SAACoL,GAAD,OAAO0mC,EAAe1mC,MAG1B,UAATuS,GACC,kBAACu1B,GAAD,CACEpL,gBAAiB,kBAAM2J,EAAW,SAClCrkC,QAASA,EACTu8B,iBAAkB,WAChBpW,EACExW,iBACE3P,EACA,CAAC,WACDA,EAAQE,QAAQrU,KAAI,SAACqS,GAAD,OAAOurB,mBAAQvrB,EAAG,oBAI5CtL,SAAU,SAAC66B,GAEPA,EAAM56B,OAASmN,EAAQC,UAAUpN,MACN,UAA3BmN,EAAQC,UAAUpN,MAClBmN,EAAQE,QAAQrU,KAAI,SAACqS,GAAD,OAAOA,EAAEkR,cAAY22B,KAAKx4C,SAE9CowC,EACE,yFACA,SAIJxX,EAAgB,eACXnmB,EADU,CAEbC,UAAWwtB,QAKT,YAATld,GACC,kBAACy1B,GAAD,CACEj0B,KAAMA,EACN/R,QAASA,EACTosB,sBAAuB,SAACkB,GACtBgX,EAAuB,eAClBtkC,EADiB,CAEpBE,QAAS,CAACF,EAAQE,QAAQotB,IAC1BA,cACA2Y,oBAAqB9tB,KAAKC,SAE5BphB,EAAQO,QAAQ,cAAe,CAC7BssC,eAAgB7jC,EAAQC,UAAUpN,OAEpCwxC,EAAW,UAEblY,sBAAuB,SAACmB,GACtBkX,EAAwB,CAAE5uC,MAAM,EAAM03B,iBAExCjB,aAAc,SAACiB,GACb,IAAMxc,EAAU,YAAO9Q,EAAQE,SAC/B4Q,EAAWo1B,OAAO5Y,EAAa,GAC/BnH,EAAgB,eACXnmB,EADU,CAEbE,QAAS4Q,MAGb6C,aAAc,SAAC5B,GACb4B,EAAa5B,GACbqyB,EAAgBryB,EAAK7O,WAEvBijB,gBAAiBA,EACjBr4B,WAAYA,EACZT,KAAMA,IAGA,UAATkjB,GACC,kBAAC41B,GAAD,CACEtpC,cAAeA,EACfmD,QAASA,EACTujC,qBAAsBA,EACtBD,6BAA8B4B,EAC9B/e,gBAAiBA,EACjBid,oBAAqBA,EACrBC,4BAA6BiB,EAC7B3L,aAAc,kBAAM0L,EAAW,aAIrC,kBAAC+B,GAAD,iBACM7B,EADN,CAEErH,iBACoCpwC,IAAlCy3C,EAAkBjX,YACdttB,EAAQE,QAAQqkC,EAAkBjX,aAClC,KAEN98B,QAAS,WACPg0C,EAAwB,CAAE5uC,MAAM,KAElChD,SAAU,SAACyzC,GACTlgB,EACExW,iBACE3P,EACA,CAAC,UAAWukC,EAAkBjX,aAC9B+Y,W,+BE/PD,YAACC,GACd,IAD4B,EACtBC,EAAyB,GADH,cAESD,GAFT,IAE5B,2BAAgD,CAAC,IAAD,UAAnCpsC,EAAmC,EAAnCA,SAAUssC,EAAyB,EAAzBA,GAAI9mB,EAAqB,EAArBA,KACzB,GAAIA,EAAKvJ,WAAW,cAClBowB,EAAuBr2B,KAAK,CAC1Brd,KAAM,UACN2T,QAAQ,GAAD,OAAKtM,EAAL,wCAEJ,GAAIwlB,EAAKvJ,WAAW,eAAgB,CACzC,IAAMswB,EAAc/mB,EAAK/Q,MAAM,sBAC/B43B,EAAuBr2B,KAAK,CAC1Brd,KAAM,OACN2T,QAAQ,GAAD,OAAKtM,EAAL,2BAAgCusC,EAAY,WAGrDF,EAAuBr2B,KAAK,CAC1B1J,QAAQ,GAAD,OAAKtM,EAAL,kBAAuBssC,EAAvB,eAAgC9mB,GACvC7sB,KAAM,UAjBgB,gCAqB5B,OAAO0zC,GCXD52B,GAAoC+2B,KAApC/2B,MAAOg3B,GAA6BD,KAA7BC,MAAOC,GAAsBF,KAAtBE,SAAUnd,GAAYid,KAAZjd,QAEhC,SAASod,GAAWl5C,EAAGua,GACrB,OAAOva,EAAE+Y,OAAO,CAACwB,IAGnB,SAAS4+B,GAAU9wB,EAAK0J,GACtB,GAAoB,IAAhBA,EAAKtjB,OAAc,OAAOqtB,GAAQzT,EAAK0J,EAAK,IAChD,IAAMqnB,EAAarnB,EAAKzrB,MAAM,GAAI,GAC5BzH,EAAMkzB,EAAKA,EAAKtjB,OAAS,GACzB4qC,EAAYL,GAAM3wB,EAAK+wB,GAC7B,GAAIriB,MAAMC,QAAQqiB,GAAY,CAC5B,IAAM/jC,EAAQ2kB,SAASp7B,GACvB,OAAOmjB,GAAMqG,EAAK+wB,EAAN,sBACPC,EAAU/yC,MAAM,EAAGgP,IADZ,YAEP+jC,EAAU/yC,MAAMgP,EAAQ,MAG7B,OAAO0M,GAAMqG,EAAK+wB,EAAYtd,GAAQud,EAAWx6C,IAItC,gBAACy6C,EAAQC,GAAa,IAAD,gBACdA,GADc,IAClC,2BAA6B,CAAC,IAAnBC,EAAkB,QACrBX,EAAaW,EAAbX,GAAI9mB,EAASynB,EAATznB,KAEV,GAAoB,KADpBA,EAAOA,EAAK7Y,MAAM,KAAKzD,OAAO7V,UACrB6O,OAAc,CAErB,GAAW,YAAPoqC,EAAkB,CACpBS,EAASE,EAAMj7C,MACf,SAEF,MAAM,IAAIW,MAAM,0CAElB,OAAQ25C,GACN,IAAK,UACHS,EAASt3B,GAAMs3B,EAAQvnB,EAAMynB,EAAMj7C,OACnC,SAEF,IAAK,OACH+6C,EAASt3B,GAAMs3B,EAAQvnB,EAAMinB,GAAMM,EAAQE,EAAMC,KAAKvgC,MAAM,OAC5D,SAEF,IAAK,MACH,GAAKwgC,MAAMzf,SAASlI,EAAKzrB,OAAO,GAAG,KAK/BgzC,EAFkBviB,MAAMC,QAAQgiB,GAAMM,EAAQvnB,IAErCknB,GAASK,EAAQvnB,EAAMmnB,GAAYM,EAAMj7C,OAEzCyjB,GAAMs3B,EAAQvnB,EAAMynB,EAAMj7C,YANrC+6C,EAASt3B,GAAMs3B,EAAQvnB,EAAMynB,EAAMj7C,OASrC,SAEF,IAAK,OACH,IAAMk7C,EAAOD,EAAMC,KAAKvgC,MAAM,KAE9BogC,EAASH,GADTG,EAASt3B,GAAMs3B,EAAQvnB,EAAMinB,GAAMM,EAAQG,IAChBA,GAC3B,SAEF,IAAK,SACHH,EAASH,GAAUG,EAAQvnB,GAC3B,SAEF,QACE,OAAOunB,IA7CqB,gCAgDlC,OAAOA,GChFHj6C,GAAY4J,EAAQ,KAcX,YAAC0wC,GAAD,OAZI,SAACppC,GAClB,IACEiF,EADEokC,EAAO,EAGX,IAAKpkC,EAAI,EAAGA,EAAIjF,EAAE9B,OAAQ+G,IAExBokC,GAAQA,GAAQ,GAAKA,EADfrpC,EAAEspC,WAAWrkC,GAEnBokC,GAAQ,EAEV,OAAOA,EAGaE,CAAWz6C,GAAUs6C,KCNrCI,GAAS,I,WCUb,cAAsC,IAAxBC,EAAuB,EAAvBA,UAAWztC,EAAY,EAAZA,SAAY,yBAVrCytC,UAAY,wBAUyB,KATrCC,QAAU,SAACz4B,EAAK04B,EAASC,KASY,KARrCC,SAAW,SAAC54B,EAAK04B,EAASC,KAQW,KAPrCE,UAAY,SAAC74B,EAAK04B,EAASC,KAOU,KANrC5tC,SAAW,YAM0B,KAJrC+tC,UAAY,KAIyB,KAHrCl3C,MAAQ,KAG6B,KAFrCkO,QAAU,KAGR7Q,KAAKu5C,UAAYA,EACjBv5C,KAAKw5C,QAAUM,KAAK,OAAQ,MAAOP,GACnCv5C,KAAK25C,SAAWG,KAAK,OAAQ,OAAQP,GACrCv5C,KAAK45C,UAAYE,KAAK,OAAQ,QAASP,GACvCv5C,KAAK8L,SACHA,GAAQ,oBAAiByM,KAAKC,SAAS7U,SAAS,IAAIkC,MAAM,EAAG,I,oGAG7Ck0C,G,uFACK/5C,KAAK25C,SAAS,eAAgB,CACnDlqB,IAAKsqB,I,OADDt2B,E,OAINzjB,KAAK2C,MAAQo3C,EACb/5C,KAAK65C,UAAYp2B,EAASu2B,SAC1Bh6C,KAAK6Q,QAAU4S,EAAS5S,Q,uRAKJ7Q,KAAKw5C,QAAL,uBACArH,mBAAmBnyC,KAAK65C,a,cADpCI,E,yBAGC,CACLt3C,MAAOs3C,EAAIC,SACXrpC,QAASopC,EAAIppC,U,sCAGT,IAAIpS,MAAJ,iCACsBuB,KAAK65C,UAD3B,cAC0C,KAAEl2C,a,+RAMnB3D,KAAKm6C,iB,gBAA9Bx3C,E,EAAAA,MAAOkO,E,EAAAA,QACf7Q,KAAK2C,MAAQA,EACb3C,KAAK6Q,QAAUA,E,iLAGCgpC,G,wEAChB75C,KAAK65C,UAAYA,E,SACX75C,KAAKo6C,sB,8RASDp6C,KAAKw5C,QAAL,uBACQrH,mBAAmBnyC,KAAK65C,WADhC,wBAEN75C,KAAK6Q,U,mBANPkoC,E,EAAAA,MACAsB,E,EAAAA,kBACAC,E,EAAAA,cACApC,E,EAAAA,UAOmB,IAAjBa,EAAM/qC,QAAgBssC,IAAkBt6C,KAAK6Q,Q,yCACxC,M,UAGH0pC,EAAmBC,GAAoBtC,GAEzCuC,EAAWC,GAAmB16C,KAAK2C,MAAOo2C,GAE1CI,GAAKsB,KAAcJ,E,wBACrB52C,QAAQnB,MAAM,4D,UACRtC,KAAKo6C,sB,iCACJ,CAAErB,QAAOb,UAAWqC,I,eAG7Bv6C,KAAK2C,MAAQ83C,EACbz6C,KAAK6Q,QAAUypC,E,kBACR,CAAEvB,QAAOb,UAAWqC,I,yLAGJE,G,gFAEF,KADf1B,EAAQ4B,eAAoB36C,KAAK2C,MAAO83C,IACpCzsC,O,yCAAqB,M,uBAEoBhO,KAAK45C,UAAL,uBACjCzH,mBAAmBnyC,KAAK65C,YACxC,CACEd,QACAjtC,SAAU9L,KAAK8L,W,mBAJXuuC,E,EAAAA,kBAAmBC,E,EAAAA,cAQvBnB,GAAKsB,KAAcJ,E,wBACrB52C,QAAQnB,MACN,6E,UAEItC,KAAKo6C,sB,iCACJp6C,M,eAGTA,KAAK2C,MAAQ83C,EACbz6C,KAAK6Q,QAAUypC,E,kBACRt6C,M,+GD7GI,CAAyB,CAAEu5C,UAJxChxC,OAAO21B,aAAa0c,6BACpB,4CAKWC,GAA0B,uCAAG,WAAOl3B,GAAP,SAAApkB,EAAA,sEAClC+5C,GAAOwB,cAAcn3B,EAAK5Z,SADQ,gCAEjC,CACL+K,SAAU6O,EAAK7O,SACflY,GAAI+mB,EAAK/mB,GACTi9C,UAAWP,GAAOO,UAClB94B,IAAI,GAAD,OAAKxY,OAAOU,SAASC,OAArB,cAAiCowC,GAAOO,WAC3C9vC,QAAS4Z,EAAK5Z,QACdoY,KAAM,WARgC,2CAAH,sDAY1B44B,GAAW,uCAAG,WAAOlB,GAAP,SAAAt6C,EAAA,sEACnB+5C,GAAOyB,YAAYlB,GADA,gCAElB,CACLl3C,MAAO22C,GAAO32C,MACdkO,QAASyoC,GAAOzoC,UAJO,2CAAH,sD,UEpBT,YAAC+W,GACd,IADsB,EAChBozB,EAAiB,SAACC,GACtBC,EAAWzc,IAAIwc,IAGbC,EAAa,IAAI3c,IALC,cAMD3W,EAAI9V,SANH,IAMtB,2BAAkC,CAAC,IAAxBsO,EAAuB,QAChCgO,OAAOkL,KAAK6hB,mBAAQ/6B,IAASjb,SAAQ,SAAC81C,GAAD,OAAOD,EAAeC,OAPvC,iCAStBC,EAAa5kB,MAAM0iB,KAAKkC,GAAY3W,MAClC,SAAChlC,EAAGilC,GAAJ,OAAUjlC,EAAEkZ,MAAM,KAAKzK,OAASw2B,EAAE/rB,MAAM,KAAKzK,WAGhC2pC,MAAK,SAACsD,GAAD,OAAOA,EAAEz8C,SAAS,yBACpC08C,EAAaA,EAAWlmC,QAAO,SAACimC,GAAD,OAAOA,EAAEz8C,SAAS,wBACtCsjB,KAAK,oBAGlB,IAAM9B,EAAU,CACdugB,KAAK,CACH,aADE,mBAEC5hB,KAAMiJ,EAAI9V,QAAQ9D,QAAQvQ,KAAI,SAACsX,GAAD,wBAAkBA,QAErDwP,QAAQ,CAAE,KAAH,mBAAW22B,KAGpB,OAAOrsB,KAAIusB,MAAMxzB,EAAK5H,ICpBlBq7B,GAAY,CAAEC,SAAU,kBAAM,OCN9B1yC,GAAUoD,KCIVuvC,GAAoB,CACxB,qBACA,uBACA,qBACA,0BACA,sBACA,sBACA,YACA,cAGa,eAAwB,IAArB53B,EAAoB,EAApBA,KAAoB,KAAd+sB,QAC2BrvC,MAAzCnC,EAD4B,EAC5BA,WAAYJ,EADgB,EAChBA,aAAcY,EADE,EACFA,WAE5B+mB,EAAgBC,iBAAO,IACvB80B,EAAyBvnC,uBAAY,WACzC,GAAK/U,GAA+B,YAAjBJ,EAAnB,CAEA,IAAIgoB,EAAUnE,GAA6B8D,EAAcG,QAASjD,GAClE,QACE7e,IAAQ6e,KACNmD,EAAQ/c,QAAQ+H,UAAYgV,EAAQhS,WACrCymC,GAAkB/8C,SAASmlB,EAAK5Z,QAAQ8H,UAAU/S,eACjC,YAAlB6kB,EAAK7O,aAIN,CAAC6O,EAAMzkB,EAAYJ,IAEtBmC,qBAAU,WACH/B,GAA+B,YAAjBJ,IACdgG,IAAQpF,KACP87C,KCnCK,SAAC73B,GAAU,SACT83B,EADQ,8EACvB,WAA0Bj5B,GAA1B,mBAAAjjB,EAAA,4DACiB,4CAG6Bb,IAAxCikB,GAA2BH,KAC7BzB,EAJa,uCAII4B,GAA2BH,IALhD,SAMmBtH,MAAM6F,EAAK,CAC1ByC,OAAQ,MACR8sB,QAAS,CACP,mBAAoB,oBAErBhtC,OAAM,SAAChB,GACRmB,QAAQC,IAAI,qCAAsCpB,MAZtD,cAMEmhB,EANF,gBAcqBA,EAASi4B,OAd9B,cAcQA,EAdR,yBAeSA,GAfT,4CADuB,sBAkEvB,GA/CA,SAAuB/3B,GACrB,MAAa,cAATA,GAA0C,cAAlBA,EAAK7O,SA8C/B6mC,CAAch4B,GAAO,CACvB,IAAI/R,EAAU+R,EAAK5Z,QACnB4Z,EAAOpC,iBACLoC,EACA,CAAC,WACDpC,iBAAM3P,EAAS,CAAC,WAAY+Q,GAA6B/Q,KAE3D,IAAIwJ,EAAOzc,KAAKC,UAAU+kB,IAhD5B,SAAoCA,GAClCpjB,KAAQs7B,IAAR,UAAelY,EAAK7O,SAApB,KAAiC,KAAM,CACrCiO,MAAO,YACNzf,OAAM,SAACC,GAAD,OAASE,QAAQC,IAAIH,MA8C9Bq4C,CAA2Bj4B,GA3C7B,SAAoCA,EAAMvI,GACxC7a,KAAQs7B,IAAR,UAAelY,EAAK7O,SAApB,iCAA6DsG,EAAM,CACjE2H,MAAO,YACNzf,OAAM,SAACC,GAAD,OAASE,QAAQC,IAAIH,MAyC9Bs4C,CAA2Bl4B,EAAMvI,GAtCnC,SAA+BuI,GACxB7e,IAAQ6e,EAAK5Z,QAAQ+H,UACxB6R,EAAK5Z,QAAQ+H,QAAQ3M,QAArB,uCAA6B,WAAOqd,GAAP,mBAAAjjB,EAAA,kEAGpBuF,IAAQ6d,GAA2BH,IAHf,gCAIVi5B,EAAWj5B,GAJD,OAIvBk5B,EAJuB,6BAKb52C,IAAQ0d,EAAQ3P,YAC1B6oC,EAAOl5B,EAAQ3P,UANQ,OAWvBipC,EADEh3C,IAAQ0d,EAAQnC,YACCsC,GAA4BH,GAE5BA,EAAQnC,WAGzBka,EAhBqB,UAgBL5W,EAAK7O,SAhBA,iBAgBiBgnC,GAC1Cv7C,KAAQs7B,IAAItB,EAAYmhB,EAAM,CAC5B34B,MAAO,YACNzf,OAAM,SAACC,GAAD,OAASE,QAAQC,IAAIH,MAnBL,kDAqBzBE,QAAQC,IAAR,MArByB,0DAA7B,uDAqCFq4C,CAAsBp4B,IDzCUq4B,CAAiBr4B,GAC/C8C,EAAcG,QAAUjD,MAEzB,CAAC63B,EAAwB97C,EAAYikB,EAAMzkB,EAAYJ,KE5B7C,cAAO,IHTN2wB,EGSK,EACK7uB,qBADL,mBACZ+iB,EADY,KACN+sB,EADM,KAEXnB,EAAaD,KAAbC,SAEA+L,EJPK,SAAC33B,EAAMs4B,GAEpB,IADkBnf,KACF,OAAOue,GAFY,IAG3B9L,EAAaD,KAAbC,SACAxe,EAAWpoB,KAAXooB,OACFuqB,EAAW1sC,cAAiB,WAA8B,IAAD,yDAAP,GAAO,IAA1BstC,cAA0B,kBAE9CC,IAF8C,2EAE7D,kCAAA58C,EAAA,yDACM62B,EAAWzS,EAAKyS,SACfzS,EAAKyS,WAAY8lB,EAFxB,iCAMcnrB,EAAOsE,OAAO+mB,eAAe,CACrCC,QAAS,CACP,CAAEn5C,KAAM,YAAao5C,WAAY,CAAC,aAClC,CAAEp5C,KAAM,WAAYo5C,WAAY,CAAC,eATzC,mBAIMliB,EAJN,EAIMA,UACUmiB,EALhB,EAKMnmB,SAOFA,GACGmmB,GACDA,EAAY10B,SAAS,UACrB00B,EAAY10B,SAAS,QACjB00B,EAHJ,UAIOA,EAJP,cAKEniB,GAAchE,EAlBtB,wBAmBMmZ,EAAS,kBAnBf,2BAsBI0M,EAAW,eACNt4B,EADK,CAERyS,WACAthB,SAAUshB,EAAS3d,MAAM,KAAK5S,OAAO,GAAG,MAzB9C,yBA4BQkrB,EACHvoB,QAAQ,MACRwuB,SAASwlB,UACRpmB,EACAA,EAASvO,SAAS,QACd40B,GAAS94B,EAAK5Z,SACdpL,KAAKC,UAAU+kB,EAAK5Z,QAAS,KAAM,OAlC7C,QAoCEwlC,EAAS,eApCX,6CAF6D,sBACxD5rB,GAuCLw4B,OAuBF,OApBAl7C,qBAAU,WACH0iB,GAASA,EAAKyS,UACfzS,EAAK7O,WAAa6O,EAAKyS,SAAS3d,MAAM,KAAK5S,OAAO,GAAG,IACvDo2C,EACE16B,iBACEoC,EACA,CAAC,YACDA,EAAKyS,SACF3d,MAAM,KACN5S,MAAM,GAAI,GACVyS,OAAO,CACNqL,EAAK7O,UACF6O,EAAK7O,SAAS+S,SAAS,SAAW,GAAK,mBAE3C4J,KAAK,SAIb,CAAC9N,EAAMs4B,IAEH,CAAEX,YI7DYoB,CAAc/4B,EAAM+sB,GAAjC4K,SAJW,ECXN,SAAC33B,EAAMs4B,GAAgB,IAAD,EACI19C,YAAgB,cAAe,IADnC,mBAC9BiV,EAD8B,KACjBC,EADiB,KAcnC,OAXKD,IAAaA,EAAc,IAChCvS,qBAAU,WACH0iB,GAA0B,YAAlBA,EAAK7O,WACdtB,EAAY/V,KAAI,SAACC,GAAD,OAAUA,EAAKd,MAAI4B,SAASmlB,EAAK/mB,IACnD6W,EACED,EAAY/V,KAAI,SAACmX,GAAD,OAASA,EAAGhY,KAAO+mB,EAAK/mB,GAAK+mB,EAAO/O,MAGtDnB,EAAkB,CAACkQ,GAAMrL,OAAO9E,GAAa3N,MAAM,EAAG,OAEvD,CAAC8d,EAAMlQ,EAAmBD,IACtB,CAAEA,cAAaC,qBDEqBlV,CAAgBolB,GAAnDnQ,EALW,EAKXA,YAAaC,EALF,EAKEA,mBPYR,SAACkQ,EAAMs4B,GAEpB,IAAMnwC,EAAWvD,OAAO21B,aAAapyB,SACrC7K,qBAAU,WACR,GAAI6K,IAAaA,EAAStN,SAAS,aACjC,IACE86C,GAAOxtC,SAAWnN,KAAK4wB,MAAMhnB,OAAO21B,aAAapyB,UACjD,MAAO3F,OAEV,CAAC2F,IAEJ7K,qBAAU,WACR,GAAK0iB,GAAsB,WAAdA,EAAKxB,MACdwB,EAAKk2B,YAAcP,GAAOO,UAA9B,CAEA,IAAM8C,EAAmB,uCAAG,sBAAAp9C,EAAA,sEACA+5C,GAAOsD,qBADP,kBAIxBX,EAAW,eACNt4B,EADK,CAER5Z,QAASuvC,GAAO32C,SAIf4Z,EAVqB,iDAW1BA,EAAUtQ,WAAW0wC,EAAqB,KAXhB,2CAAH,qDAcrBpgC,EAAUtQ,WAAW0wC,EAAqB,KAC9C,OAAO,WACLlgC,aAAaF,GACbA,EAAU,SAEX,CAACoH,EAAMs4B,IAGVh7C,qBAAU,WAAM,4CAEd,sBAAA1B,EAAA,2FAFc,sBACTokB,GAAsB,WAAdA,EAAKxB,MADJ,mCAGd06B,KACC,CAACl5B,IOpDJm5B,CAAUn5B,EAAM+sB,GAGhBqM,GAAc,CAAEp5B,OAAM+sB,YHlBRjhB,EGqBG9L,GAAQA,EAAK5Z,QHpB9B9I,qBAAU,WACHwuB,GAAQA,EAAI5d,YACjBjJ,GAAQO,QAAQ,iBAAkB,CAAEssC,eAAgBhmB,EAAI5d,UAAUpN,OAClEmE,GAAQQ,OAAOC,IAAI,CAAE2zC,yBAA0BvtB,EAAI5d,UAAUpN,UAC5D,CAACgrB,IACJxuB,qBAAU,WACHwuB,GAAQA,EAAI3d,SACjBlJ,GAAQO,QAAQ,eAAgB,CAC9B8zC,cAAextB,EAAI3d,SAAW,IAAI9D,WAEnC,CAACyhB,IACJxuB,qBAAU,WACR,GAAKwuB,GAAQA,EAAI3d,QAAjB,CACA,IAAMorC,GAAgBztB,EAAI3d,SAAW,IAAIkD,QAAO,SAAClF,GAAD,OAAOA,EAAEkR,cAAYhT,OACrEpF,GAAQO,QAAQ,oBAAqB,CACnC8zC,cAAextB,EAAI3d,SAAW,IAAI9D,OAClCmvC,kBAAmBD,EACnBE,kBAAmBF,GAAgBztB,EAAI3d,SAAW,IAAI9D,YAEvD,CAACyhB,IGGJ,IAAM4tB,EAAWzuC,cAAiB,SAAC0uC,GAAY,IAC/BxoC,EAA6BwoC,EAAnCp6C,KAAsBkzB,EAAaknB,EAAnBhsB,KAExB,SAASisB,EAAiBxzC,GACxB,IACE,IAAI6H,EAEFA,EADEkD,EAAS+S,SAAS,OACV6H,GAAW3lB,GAEXpL,KAAK4wB,MAAMxlB,GAGvB2mC,EAAQ,CACN57B,WACAshB,WACAjU,KAAMiU,EAAW,aAAe,gBAChCrsB,QAAS6H,EACThV,GAAIw5B,IAEN,MAAOjwB,GACP1C,QAAQC,IAAIyC,EAAExC,YACd4rC,EAAS,8CAA+C,UAK5D,GAAI+N,EAAOvzC,QACTwzC,EAAiBD,EAAOvzC,aACnB,CACL,IAAMyf,EAAS,IAAIC,WACnBD,EAAOE,OAAS,SAACvjB,GAEfo3C,EADgBp3C,EAAElD,OAAOqf,SAG3BkH,EAAOI,WAAW0zB,OAIhBE,EAAU5uC,aAAgB,uCAAC,WAAOmS,GAAP,qBAAAxhB,EAAA,yDACzBs6C,EAAY4D,mBAAmB18B,EAAIR,MAAM,iBAAiB,IAC1Dm9B,EAAY38B,EAAIviB,SAAS,kBAC1Bq7C,EAH0B,iEAIPkB,GAAYlB,GAJL,mBAIvBl3C,EAJuB,EAIvBA,MAJuB,mDAM/B4F,OAAOo1C,QAAQC,aACb,GACAr1C,OAAOsK,SAASzC,MAFlB,cAGS+hC,mBAAmB0H,IAH5B,OAII6D,EAAY,kBAAoB,KAGpChN,EAAQ,CACN3vB,MACA84B,YACA13B,KAAM,SACNvlB,GAAIi9C,EACJ9vC,QAASpH,IAlBoB,4CAAD,uDAsBhC1B,qBAAU,WACH0iB,GACa,WAAdA,EAAKxB,MACT5Z,OAAOo1C,QAAQC,aAAa,GAAIr1C,OAAOsK,SAASzC,MAAhD,OACC,CAACuT,IAEJ1iB,qBAAU,WACJsH,OAAOU,SAAS4qC,OAAOtzB,MAAM,yBAC/Bi9B,EAAQj1C,OAAOU,SAASsI,QAEzB,CAACisC,IAEJ,IAAMK,EAAcjvC,aAAgB,sBAAC,4BAAArP,EAAA,sEACbs7C,GAA2Bl3B,GADd,OAC7Bm6B,EAD6B,OAEnCpN,EAAQoN,GACRv1C,OAAOo1C,QAAQC,aACb,GACAr1C,OAAOsK,SAASzC,MAFlB,cAGS+hC,mBAAmB2L,EAAQjE,aAND,4CAUrC,OAAOr8C,mBACL,iBAAO,CACLmmB,OACA+sB,UACA2M,WACAG,UACAK,cACAvC,WACA9nC,cACAC,uBAEF,CACEkQ,EACA+sB,EACA2M,EACA/B,EACAuC,EACArqC,EACAC,EACA+pC,K,oDExHAj0C,GAAYhI,YAAO,MAAPA,CAAc,CAC9BM,MAAO,QACPyI,UAAW,QACXpD,gBAAiB/K,KAAY,KAC7BqF,QAAS,GACT,WAAY,CACVC,MAAOtF,KAAY,KACnBuO,SAAU,GACVoC,WAAY,QAEd,cAAe,CACbrL,MAAOtF,KAAY,KACnBuO,SAAU,GACV5I,UAAW,GAEb,UAAW,CACTD,MAAO,OACPuI,UAAW,aACX5I,QAAS,GACT,aAAc,CACZK,MAAO,oBACPuI,UAAW,aACXE,UAAW,IACXI,SAAU,OAIVqzC,GAAUx8C,YAAO,MAAPA,CAAc,CAC5BC,QAAS,IAELoL,GAAerL,YAAOwJ,IAAPxJ,CAAe,CAClCE,MAAO,OACPiI,YAAa,wBACbzH,OAAQ,IAkEK+oC,G,oDA9Db,WAAY79B,GAAQ,IAAD,8BACjB,cAAMA,IACDxK,MAAQ,CAAEsoC,UAAU,GAFR,E,+DAaD3oC,EAAO4oC,GAAY,IAAD,OAElCL,GAAOM,WAAU,SAACtd,GAChBA,EAAMud,UAAUF,GAChB,IAAMG,EAAUR,GAAOS,iBAAiBhpC,GACxC,EAAKM,SAAS,CAAEyoC,iB,+BAKlB,OAAIrrC,KAAK2C,MAAMsoC,SAGX,kBAAC,GAAD,KACE,yBAAKlnC,UAAU,SAAf,yBACA,yBAAKA,UAAU,YAAf,8BACA,yBAAKA,UAAU,QACb,kCAAW/D,KAAK2C,MAAMq7C,eAExB,kBAACD,GAAD,KACE,kBAAC,GAAD,CACEj6C,QAAQ,WACRb,OAAO,SACPsO,KAAK,2DAEL,kBAAC,KAAD,CAAYlF,MAAO,CAAE5K,MAAO,OAAQwJ,YAAa,KALnD,0BAcA,kBAAC,GAAD,CACEnH,QAAQ,WACRe,QAAS,kBAAM0D,OAAOU,SAAS0lC,WAFjC,4CAWD3uC,KAAKmN,MAAM1Q,Y,gDArDY6F,GAE9B,MAAO,CACL2oC,UAAU,EACV+S,aAAcr/C,KAAKC,UAAUq/C,gBAAY,OAAS37C,EAAMutB,W,GAVlC2b,IAAMC,WC1ClC,SAASyS,GAAkB/3C,GACzB,IAAIg4C,EACF,wGAIF,OADEh4C,GAAKoC,OAAOzF,OAAOs7C,YAAcD,EAC5BA,EAGM,ICIA,cAAO,IAAD,EASfE,KAPF16B,EAFiB,EAEjBA,KACA+sB,EAHiB,EAGjBA,QACA2M,EAJiB,EAIjBA,SACAG,EALiB,EAKjBA,QACAK,EANiB,EAMjBA,YACArqC,EAPiB,EAOjBA,YACAC,EARiB,EAQjBA,mBDZW,WAAqC,IAApC6qC,IAAmC,yDACjDr9C,qBAAU,WACR,GAAKq9C,IACD/1C,OAAOU,SAASC,OAAO1K,SAAS,aAEpC,OADA+J,OAAO8T,iBAAiB,eAAgB6hC,IACjC,WACL31C,OAAO+T,oBAAoB,eAAgB4hC,OAE5C,CAACI,ICMJC,CAAqBp/C,QAAQwkB,IAVV,MAWFrK,KAAVvB,EAXY,sBAauBnX,mBAAS,YAbhC,mBAaZ6N,EAbY,KAaG+vC,EAbH,KAcbC,EAAmB7vC,cAAiB,SAACsG,GACzCw7B,EAAQ,CACN57B,SAAU,UACV/K,QAASmL,EAAStD,QAClBhV,GApBiB2b,KAAKC,SAAS7U,WAAW8U,MAAM,KAAK,GAqBrD0J,KAAM,qBAIJu8B,EAAiB9vC,cAAiB,SAAClR,GAAD,OAAUgzC,EAAQhzC,MACpDgW,EAAc9E,cAAiB,kBAAM8hC,EAAQ,SAC7C3jC,EAAa6B,cAAiB,SAACijB,GACnC,GAAKlO,EAAL,CACA,IAAMg7B,GAAch7B,EAAKk2B,WAAal2B,EAAK7O,UAAY,QAAU+c,EAClD,SAAXA,EACF+sB,KAASjgD,KAAKC,UAAU+kB,EAAK5Z,SAAU40C,GACnB,QAAX9sB,GACT+sB,KAASnC,GAAS94B,EAAK5Z,SAAU40C,OAI/BvzC,EAAYuY,GAAsB,WAAdA,EAAKxB,KAnCZ,EAoC4BvhB,oBAAS,GApCrC,mBAoCZ4K,EApCY,KAoCIC,EApCJ,KAsCbJ,EAAgB4I,sBAAW,uCAC/B,WAAO4qC,GAAP,SAAAt/C,EAAA,sEACQi+C,EAAQqB,GADhB,2CAD+B,sDAI/B,CAACrB,IAGGjyC,EAAiBqD,cAAiB,kBACtC8hC,EAAQ,eACH/sB,EADE,CAELxB,KAAM,gBACNrN,SAAU6O,EAAK7O,UAAL,kBAA4B6O,EAAK/mB,UAIzCm7B,EAAkBnpB,cAAiB,SAACkwB,GACxC4R,EAAQnvB,iBAAMoC,EAAM,CAAC,WAAYmb,OAGnC,OACE,oCACE,kBAAC+R,GAAYhzC,SAAb,CAAsBC,MAAO,CAAE6lB,OAAM+sB,YACnC,kBAACv7B,GAActX,SAAf,CACEC,MAAO,CACLsS,MAAOuT,EACW,kBAAdA,EAAKxB,KACHwB,EAAK7O,SACL6O,EAAK5C,IACP,UACJvN,cACAC,oBACAM,gBAAiB0qC,EACjB/qC,cACAG,WAAYwpC,EACZvpC,iBAAkB4qC,EAClBtzC,YACAI,iBACAC,uBACAJ,gBACAE,iBACAD,gBAAiBuyC,EACjB1yC,SAAUhM,QAAQwkB,GAClB5W,aACA2B,sBAAuB8vC,EACvB/vC,gBACA+B,eAAgBmT,IAGhBA,EASA,kBAACm7B,GAAD,KACE,kBAACC,GAAD,eACEp7B,KAAMA,EACNvlB,IAAKulB,EAAK/mB,IACN+mB,EAHN,CAIElV,cAAeA,EACfrD,UAAWA,EACXwG,QAAS+R,EAAK5Z,QACdguB,gBAAiBA,EACjBxS,aAAcmrB,EACdhxC,YAAU,EACV8T,YAAaA,MAnBjB,kBAACwrC,GAAD,CACEpkC,WAAYyiC,EACZxiC,eAAgB4jC,EAChBjrC,YAAaA,EACbM,iBAAkB4qC,EAClB3jC,mBAAoB,kBAAMtP,GAAqB,QAoBvD,kBAACuO,GAAD,CAAajC,OAAQA,MCjHZ,cAAO,IAAD,EASfsmC,KAPF16B,EAFiB,EAEjBA,KACAs4B,EAHiB,EAGjBA,WACAoB,EAJiB,EAIjBA,SACAG,EALiB,EAKjBA,QACAK,EANiB,EAMjBA,YACAvC,EAPiB,EAOjBA,SACA9nC,EARiB,EAQjBA,YARiB,EAWuB5S,mBAAS,YAXhC,mBAWZ6N,EAXY,KAWG+vC,EAXH,OAYFllC,KAAVvB,EAZY,sBAcapP,KAAxBooB,EAdW,EAcXA,OAAQwlB,EAdG,EAcHA,YAEVkI,EAAmB7vC,cAAiB,SAACsG,GACzC+mC,EAAW,CACTnnC,SAAU,UACV/K,QAASmL,EAAStD,QAClBhV,GAtBiB2b,KAAKC,SAAS7U,WAAW8U,MAAM,KAAK,GAuBrD0J,KAAM,kBAIJu8B,EAAiB9vC,cAAiB,SAAClR,GAAD,OAAUu+C,EAAWv+C,MACvDgW,EAAc9E,cAAiB,kBAAMqtC,EAAW,SAEtDh7C,qBAAU,WACR,IAAMg+C,EAAoB,kBAAMhD,EAAW,OACrCiD,EAAY,SAACC,GAAiC,IAAD,yDAAP,GAAjBC,EAAwB,EAAxBA,aACzBX,EACEhtC,GAAUuK,MAAK,SAACpM,GAAD,OAAOA,EAAE1M,OAASk8C,MAAiB3tC,GAAU,KAG1D4tC,EAAa,kBAAM/D,EAAS,CAAEY,QAAQ,KACtCoD,EAAW,uCAAG,gCAAA//C,EAAA,yDACbokB,EADa,iEAEkBoN,EAAOsE,OAAO+mB,eAAe,CAC/DC,QAAS,CAAC,CAAEn5C,KAAM,WAAYo5C,WAAY,CAAC,eAH3B,mBAEZliB,EAFY,EAEZA,UAAWhE,EAFC,EAEDA,UAGbgE,EALc,wDAMlBhE,GACGA,GAAYA,EAASvO,SAAS,QAC3BuO,EADJ,UAEOA,EAFP,YAPgB,UAWZrF,EACHvoB,QAAQ,MACRwuB,SAASwlB,UAAUpmB,EAAUqmB,GAAS94B,EAAK5Z,UAb5B,4CAAH,qDAeXw1C,EAAwB,SAACp5C,EAAGwd,GAAJ,OAAa05B,EAAS15B,IAQpD,OANA4yB,EAAYvkB,GAAG,oBAAqBitB,GACpC1I,EAAYvkB,GAAG,WAAYktB,GAC3B3I,EAAYvkB,GAAG,YAAautB,GAC5BhJ,EAAYvkB,GAAG,YAAaspB,GAC5B/E,EAAYvkB,GAAG,eAAgBqtB,GAC/B9I,EAAYvkB,GAAG,gBAAiBstB,GACzB,WACL/I,EAAYW,eAAe,oBAAqB+H,GAChD1I,EAAYW,eAAe,WAAYgI,GACvC3I,EAAYW,eAAe,YAAaqI,GACxChJ,EAAYW,eAAe,YAAaoE,GACxC/E,EAAYW,eAAe,eAAgBmI,GAC3C9I,EAAYW,eAAe,gBAAiBoI,MAE7C,CACD37B,EACAs4B,EACA1F,EACA8G,EACAoB,EACA1tB,EACAuqB,IAGF,IAAMlwC,EAAYuY,GAAsB,WAAdA,EAAKxB,KA7EZ,EA8E4BvhB,oBAAS,GA9ErC,mBA8EZ4K,EA9EY,KA8EIC,EA9EJ,KAgFbJ,EAAgBuD,aAAgB,uCAAC,WAAOiwC,GAAP,SAAAt/C,EAAA,sEAC/Bi+C,EAAQqB,GADuB,2CAAD,uDAIhCtzC,EAAiBqD,cAAiB,kBACtCqtC,EAAW,eACNt4B,EADK,CAERxB,KAAM,gBACNrN,SAAU6O,EAAK7O,UAAL,kBAA4B6O,EAAK/mB,UAIzC2T,KAAsBoT,GAAQ,IAAI5Z,SAAW,IAAI+H,SAAW,IAAI6lC,MACpE,SAACv3B,GAAD,MACE,CAACA,EAAOlO,SAAUkO,EAAO/N,SAAU+N,EAAO3N,QACvCuC,OAAO7V,SACP1B,KAAI,SAAC8B,GAAD,OAAOA,EAAEf,SAAS,cACtBm5C,KAAKx4C,YAER,iMACA,KAEJ,OACE,oCACE,kBAACgW,GAActX,SAAf,CACEC,MAAO,CACL0V,cACAO,gBAAiB0qC,EACjB/qC,cACAtD,MAAOuT,EACW,WAAdA,EAAKxB,KACHwB,EAAK7O,SACL6O,EAAK5C,IACP,UACJ5V,SAAUhM,QAAQwkB,GAClB7P,iBAAkB4qC,EAClBh2C,WAAW,EACXmL,WAAYwpC,EACZ5uC,gBACAC,sBAAuB8vC,EAGvBpzC,YACAI,iBACAC,uBACA8E,mBACAlF,gBACAE,iBACAD,gBAAiBuyC,EACjBrtC,eAAgBmT,IAGhBA,EASA,kBAACo7B,GAAD,eACE3gD,IAAKulB,EAAK/mB,IACN+mB,EAFN,CAGEvY,UAAWA,EACXqD,cAAeA,EACfmD,QAAS+R,EAAK5Z,QACdy1C,iBAAkB,SAAC/H,GACjBwE,EAAW16B,iBAAMoC,EAAM,CAAC,YAAa8zB,KAEvC1f,gBAAiB,SAAC+G,GAChBmd,EAAW16B,iBAAMoC,EAAM,CAAC,WAAYmb,QAlBxC,kBAACkgB,GAAD,CACElkC,kBAAkB,EAClBF,WAAYyiC,EACZxiC,eAAgB4jC,EAChBjrC,YAAaA,EACbM,iBAAkB4qC,KAkBxB,kBAAC1kC,GAAD,CAAajC,OAAQA,MC7IZ0nC,I,OAnBI,WACjB,IAAM7oB,EAAWjuB,KACjB,OACE,kBAAC+2C,EAAD,KACE,kBAAC,EAAD,KACE,kBAAC,GAAD,KACE,kBAAC,GAAD,KACE,kBAAC,GAAD,KACE,kBAAC,EAAD,KACGvgD,QAAQy3B,GAAY,kBAAC+oB,GAAD,MAAiB,kBAACC,GAAD,cCjBtDC,IAASC,OAAO,kBAAC,GAAD,MAASjtC,SAASktC,eAAe,W","file":"static/js/main.15c79615.chunk.js","sourcesContent":["import React from \"react\"\nimport createMuiTheme from \"@material-ui/core/styles/createMuiTheme\"\nimport { ThemeProvider } from \"@material-ui/core/styles\"\nimport \"./theme.css\"\nimport * as colors from \"@material-ui/core/colors\"\n\nconst theme = createMuiTheme({\n  palette: {\n    primary: colors.blue,\n    secondary: colors.blue,\n  },\n  typography: {\n    fontFamily: '\"Inter\", \"Roboto\", sans-serif',\n    button: {\n      textTransform: \"none\",\n    },\n  },\n})\n\nexport default ({ children }: any) => {\n  return <ThemeProvider theme={theme}>{children}</ThemeProvider>\n}\n","import React, { createContext, useContext, useMemo } from \"react\"\nimport { useAppConfig } from \"../AppConfig\"\nimport { HotKeys } from \"react-hotkeys\"\n\nexport const defaultHotkeys = [\n  {\n    id: \"switch_to_label\",\n    description: \"Go to Labels Tab\",\n    binding: \"shift+3\",\n  },\n  {\n    id: \"switch_to_setup\",\n    description: \"Go to Setup Tab\",\n    binding: \"shift+1\",\n  },\n  {\n    id: \"switch_to_samples\",\n    description: \"Go to Samples Tab\",\n    binding: \"shift+2\",\n  },\n  {\n    id: \"select_tool\",\n    description: \"Switch to the Select Tool\",\n    binding: \"escape\",\n  },\n  {\n    id: \"zoom_tool\",\n    description: \"Select the Zoom Tool\",\n    binding: \"z\",\n  },\n  {\n    id: \"create_point\",\n    description: \"Create a point\",\n  },\n  {\n    id: \"pan_tool\",\n    description: \"Select the Pan Tool\",\n  },\n  {\n    id: \"create_polygon\",\n    description: \"Create a Polygon\",\n  },\n  {\n    id: \"create_pixel\",\n    description: \"Create a Pixel Mask\",\n  },\n  {\n    id: \"save_and_previous_sample\",\n    description: \"Save and go to previous sample\",\n  },\n  {\n    id: \"save_and_next_sample\",\n    description: \"Save and go to next sample\",\n  },\n  {\n    id: \"save_and_exit_sample\",\n    description: \"Save and exit current sample\",\n  },\n  {\n    id: \"exit_sample\",\n    description: \"Exit sample without saving\",\n  },\n]\n\nexport const HotkeyContext = createContext({\n  hotkeys: defaultHotkeys,\n  changeHotkey: (id, newBinding) => null,\n})\n\nexport const useHotkeyStorage = () => useContext(HotkeyContext)\n\nexport const HotkeyStorageProvider = ({ children }) => {\n  const { fromConfig, setInConfig } = useAppConfig()\n\n  const hotkeys = useMemo(\n    () =>\n      defaultHotkeys.map((item) => {\n        if (fromConfig(`hotkeys.${item.id}`)) {\n          return { ...item, binding: fromConfig(`hotkeys.${item.id}`) }\n        } else {\n          return item\n        }\n      }),\n    [fromConfig]\n  )\n\n  const contextValue = useMemo(\n    () => ({\n      hotkeys,\n      changeHotkey: (id, newBinding) =>\n        setInConfig(`hotkeys.${id}`, newBinding),\n    }),\n    [setInConfig, hotkeys]\n  )\n\n  const keyMap = useMemo(() => {\n    const keyMap = {}\n    for (const { id, binding } of hotkeys) keyMap[id] = binding\n    return keyMap\n  }, [hotkeys])\n\n  return (\n    <HotkeyContext.Provider value={contextValue}>\n      <HotKeys keyMap={keyMap}>{children}</HotKeys>\n    </HotkeyContext.Provider>\n  )\n}\n","import React, { useMemo, useContext, createContext } from \"react\"\nimport { useLocalStorage } from \"react-use\"\nimport { defaultHotkeys } from \"../HotkeyStorage\"\n\nconst configKeyNames = [\n  \"auth.provider\",\n  \"auth.cognito.identity_pool_id\",\n  \"auth.cognito.region\",\n  \"auth.cognito.user_pool_id\",\n  \"auth.cognito.user_pool_web_client_id\",\n  \"auth.cognito.mandatory_sign_in\",\n  \"auth.cognito.authentication_flow_type\",\n  \"auth.cognito.storage.aws_s3.bucket\",\n  \"auth.cognito.storage.aws_s3.region\",\n  \"labelhelp.disabled\",\n  \"labelhelp.apikey\",\n  ...defaultHotkeys.map(({ id }) => `hotkeys.${id}`),\n]\n\n// NOTE: appConfig should not allow any nested values\nexport const AppConfigContext = createContext({\n  appConfig: {},\n  setAppConfig: (newConfig) => undefined,\n  fromConfig: (key) => undefined,\n  setInConfig: (key, value) => undefined,\n})\n\nexport const useAppConfig = () => useContext(AppConfigContext)\n\nexport const AppConfigProvider = ({ children }) => {\n  const [appConfig, setAppConfig] = useLocalStorage(\"app_config\", {})\n  const contextValue = useMemo(() => {\n    return {\n      appConfig,\n      setAppConfig,\n      fromConfig: (key) => {\n        if (!configKeyNames.includes(key)) {\n          throw new Error(`Unknown config key name \"${key}\"`)\n        }\n        return appConfig[key]\n      },\n      setInConfig: (key, value) => {\n        if (\n          typeof value !== \"string\" &&\n          typeof value !== \"number\" &&\n          typeof value !== \"boolean\" &&\n          value !== undefined &&\n          value !== null\n        ) {\n          throw new Error(\n            `Config can only have boolean/strings/numbers/null/undefined, something tried to set appConfig[\"${key}\"] = ${JSON.stringify(\n              value\n            )}`\n          )\n        }\n        if (!configKeyNames.includes(key)) {\n          throw new Error(`Unknown config key name \"${key}\"`)\n        }\n        setAppConfig({ ...appConfig, [key]: value })\n      },\n    }\n  }, [appConfig, setAppConfig])\n  return (\n    <AppConfigContext.Provider value={contextValue}>\n      {children}\n    </AppConfigContext.Provider>\n  )\n}\n","import Amplify, { Auth } from \"aws-amplify\"\n\nclass CognitoHandler {\n  authProvider = \"cognito\"\n  constructor(appConfig) {\n    this.authConfig = {\n      Auth: {\n        identityPoolId: appConfig[\"auth.cognito.identity_pool_id\"],\n        region: appConfig[\"auth.cognito.region\"],\n        userPoolId: appConfig[\"auth.cognito.user_pool_id\"],\n        userPoolWebClientId: appConfig[\"auth.cognito.user_pool_web_client_id\"],\n        mandatorySignIn: true,\n        authenticationFlowType: \"USER_PASSWORD_AUTH\",\n      },\n      Storage: {\n        AWSS3: {\n          bucket: appConfig[\"auth.cognito.storage.aws_s3.bucket\"],\n          region: appConfig[\"auth.cognito.storage.aws_s3.region\"],\n        },\n      },\n    }\n    this.isLoggedIn = false\n  }\n  setUser = (userHandle) => {\n    this.user = userHandle\n    this.isLoggedIn = Boolean(userHandle)\n    this.hasChanged = true\n  }\n  login = async (tryUser) => {\n    Amplify.configure(this.authConfig)\n\n    const userHandle = await Auth.currentAuthenticatedUser()\n\n    this.user = userHandle\n    this.hasChanged = true\n  }\n  logout = () => {\n    this.user = null\n    this.isLoggedIn = false\n    this.hasChanged = true\n    Auth.signOut()\n  }\n  getState = () => ({\n    user: this.user,\n    isLoggedIn: this.isLoggedIn,\n    authConfig: this.authConfig,\n  })\n}\n\nexport default CognitoHandler\n","import React, {\n  useState,\n  useEffect,\n  createContext,\n  useContext,\n  useMemo,\n} from \"react\"\nimport { useAppConfig } from \"../../components/AppConfig\"\nimport CognitoHandler from \"./cognito-handler.js\"\nimport { useUpdate } from \"react-use\"\n\nexport const authProviders = [\"cognito\"]\n\nconst AuthContext = createContext({ authProvider: \"none\" })\n\nexport const AuthProvider = ({ children }) => {\n  const { appConfig, fromConfig } = useAppConfig()\n  const [handler, setHandler] = useState({ authProvider: \"none\" })\n  const authProvider = fromConfig(\"auth.provider\")\n  const forceUpdate = useUpdate()\n\n  useEffect(() => {\n    if (handler && handler.authProvider === authProvider) return\n    if (authProvider === \"cognito\") {\n      setHandler(new CognitoHandler(appConfig))\n    }\n  }, [authProvider, appConfig, handler])\n\n  useEffect(() => {\n    if (!handler) return\n    const interval = setInterval(() => {\n      if (handler.hasChanged) {\n        forceUpdate()\n        handler.hasChanged = false\n      }\n    }, 1000)\n    return () => {\n      clearInterval(interval)\n    }\n  }, [handler, forceUpdate])\n\n  const contextValue = useMemo(\n    () => ({\n      authProvider: handler.authProvider,\n      ...(handler.getState ? handler.getState() : {}),\n      // TODO remove setUser\n      setUser: handler.setUser,\n      logout: handler.logout,\n      login: handler.login,\n    }),\n    [handler]\n  )\n\n  return (\n    <AuthContext.Provider value={contextValue}>{children}</AuthContext.Provider>\n  )\n}\n\nexport const useAuth = () => useContext(AuthContext)\n\nexport default useAuth\n","import React, { Fragment, useState } from \"react\"\nimport Typography from \"@material-ui/core/Typography\"\nimport TextField from \"@material-ui/core/TextField\"\nimport Button from \"@material-ui/core/Button\"\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\"\nimport Checkbox from \"@material-ui/core/Checkbox\"\nimport { makeStyles } from \"@material-ui/core/styles\"\nimport isEmpty from \"lodash/isEmpty\"\nimport { styled } from \"@material-ui/core/styles\"\nimport Amplify, { Auth } from \"aws-amplify\"\nimport * as colors from \"@material-ui/core/colors\"\nimport { useAuth } from \"../../utils/auth-handlers/use-auth.js\"\n\nconst ErrorText = styled(\"div\")({\n  padding: 16,\n  color: colors.red[500],\n})\n\nconst useStyles = makeStyles((theme) => ({\n  form: {\n    width: \"100%\",\n    marginTop: theme.spacing(1),\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2),\n  },\n}))\n\nexport default ({ onUserChange, onRequireCompleteSignUp, onClose }) => {\n  const { authConfig, setUser } = useAuth()\n  const classes = useStyles()\n\n  const [error, setError] = useState()\n\n  const [state, setState] = useState({\n    username: \"\",\n    password: \"\",\n    notAuthorizedException: false,\n  })\n\n  const handleSignInClick = () => {\n    if (isEmpty(state.username) || isEmpty(state.password)) {\n      setState((prevState) => ({\n        ...prevState,\n        notAuthorizedException: true,\n      }))\n    } else {\n      SignInAWS(state.username, state.password)\n    }\n  }\n\n  const handleTextFieldChange = (event) => {\n    event.persist()\n    setState((prevState) => ({\n      ...prevState,\n      [event.target.name]: event.target.value,\n      notAuthorizedException: false,\n    }))\n  }\n\n  async function SignInAWS(username, password) {\n    setError(null)\n    try {\n      await Amplify.configure(authConfig)\n      await Auth.signIn(username, password)\n        .then((user) => {\n          setUser(user)\n          if (user.challengeName === \"NEW_PASSWORD_REQUIRED\") {\n            onRequireCompleteSignUp(user)\n          } else {\n            onUserChange(user)\n            onClose()\n          }\n          return user\n        })\n        .catch((err) => {\n          if (err.code === \"UserNotConfirmedException\") {\n            console.log(\"Must confirm the account\")\n            // The error happens if the user didn't finish the confirmation step when signing up\n            // In this case you need to resend the code and confirm the user\n            // About how to resend the code and confirm the user, please check the signUp part\n          } else if (err.code === \"PasswordResetRequiredException\") {\n            console.log(\"Password has been reset\")\n            // The error happens when the password is reset in the Cognito console\n            // In this case you need to call forgotPassword to reset the password\n            // Please check the Forgot Password part.\n          } else if (err.code === \"NotAuthorizedException\") {\n            console.log(\"Bad password message\")\n            setState({ ...state, notAuthorizedException: true, password: \"\" })\n            // The error happens when the incorrect password is provided\n          } else if (err.code === \"UserNotFoundException\") {\n            console.log(\"User not found message\")\n            // The error happens when the supplied username/username does not exist in the Cognito user pool\n          } else {\n            console.log(\"Error that we do not handle for\")\n            console.log(err.code)\n          }\n          setError(err.toString())\n          return err\n        })\n    } catch (e) {\n      setError(e.toString())\n    }\n  }\n\n  return (\n    <Fragment>\n      <Typography component=\"h1\" variant=\"h5\">\n        Sign in\n      </Typography>\n      {error && <ErrorText>{error}</ErrorText>}\n      <form className={classes.form} noValidate>\n        <TextField\n          error={state.notAuthorizedException}\n          variant=\"outlined\"\n          margin=\"normal\"\n          required\n          fullWidth\n          id=\"username\"\n          label=\"Username\"\n          name=\"username\"\n          autoComplete=\"username\"\n          helperText={\n            state.notAuthorizedException\n              ? \"The username or password is incorrect.\"\n              : \"\"\n          }\n          autoFocus\n          onChange={handleTextFieldChange}\n        />\n        <TextField\n          variant=\"outlined\"\n          margin=\"normal\"\n          required\n          fullWidth\n          name=\"password\"\n          label=\"Password\"\n          type=\"password\"\n          id=\"password\"\n          autoComplete=\"current-password\"\n          value={state.password}\n          onChange={handleTextFieldChange}\n        />\n        <FormControlLabel\n          control={<Checkbox value=\"remember\" color=\"primary\" />}\n          label=\"Remember me\"\n        />\n        <Button\n          onClick={handleSignInClick}\n          fullWidth\n          variant=\"contained\"\n          color=\"primary\"\n          className={classes.submit}\n        >\n          Sign In\n        </Button>\n      </form>\n    </Fragment>\n  )\n}\n","import React, { Fragment, useState } from \"react\"\nimport { Typography, TextField, Button } from \"@material-ui/core\"\nimport { makeStyles } from \"@material-ui/core/styles\"\nimport { Auth } from \"aws-amplify\"\nimport { useAuth } from \"../../utils/auth-handlers/use-auth.js\"\n\nconst useStyles = makeStyles((theme) => ({\n  form: {\n    width: \"100%\",\n    marginTop: theme.spacing(1),\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2),\n  },\n}))\n\nexport default ({ requiredAttributes, onUserChange, onClose }) => {\n  const { user } = useAuth()\n  const requiredAttributesDict = {}\n  const requiredAttributesErrorDict = {}\n  requiredAttributes.forEach((requiredAttribute) => {\n    requiredAttributesDict[requiredAttribute] = \"\"\n    requiredAttributesErrorDict[requiredAttribute] = false\n  })\n\n  const [state, setState] = useState({\n    newPassword: \"\",\n    newPasswordNotValid: false,\n    newPasswordConfirmation: \"\",\n    newPasswordNotEqualsConfirmation: false,\n    requiredAttributesDict: requiredAttributesDict,\n    requiredAttributesErrorDict: requiredAttributesErrorDict,\n  })\n\n  const classes = useStyles()\n\n  const capitalizeFirstLetter = (string) => {\n    return string.charAt(0).toUpperCase() + string.slice(1)\n  }\n\n  const handleCompleteSignUpClick = () => {\n    if (\n      checkIfPasswordEqualsConfirmationPassword() &&\n      _handleCantBeNull(\"checkAll\")\n    ) {\n      completeNewPassword()\n    } else {\n      console.log(\"Something missing\")\n    }\n\n    /// completeNewPassword();\n  }\n\n  const _handleAttributesTextFieldChange = (event) => {\n    setState({\n      ...state,\n      requiredAttributesDict: {\n        ...state.requiredAttributesDict,\n        [event.target.name]: event.target.value,\n      },\n    })\n  }\n\n  const _handleTextFieldChange = (event) => {\n    setState({\n      ...state,\n      newPasswordError: null,\n      newPasswordNotValid: false,\n      newPasswordNotEqualsConfirmation: false,\n      [event.target.name]: event.target.value,\n    })\n  }\n\n  const checkIfPasswordEqualsConfirmationPassword = () => {\n    if (state.newPassword === state.newPasswordConfirmation) {\n      setState({ ...state, newPasswordNotEqualsConfirmation: false })\n      return true\n    } else {\n      setState({ ...state, newPasswordNotEqualsConfirmation: true })\n      return false\n    }\n  }\n\n  const _handleCantBeNull = (e) => {\n    let allGood = true\n    if (e === \"checkAll\") {\n      requiredAttributes.forEach((requiredAttribute) => {\n        if (state.requiredAttributesDict[requiredAttribute] === \"\") {\n          setState({\n            ...state,\n            requiredAttributesErrorDict: {\n              ...state.requiredAttributesErrorDict,\n              [requiredAttribute]: true,\n            },\n          })\n          allGood = false\n        }\n      })\n    } else {\n      if (e.target.value === \"\") {\n        setState({\n          ...state,\n          requiredAttributesErrorDict: {\n            ...state.requiredAttributesErrorDict,\n            [e.target.name]: true,\n          },\n        })\n      } else {\n        setState({\n          ...state,\n          requiredAttributesErrorDict: {\n            ...state.requiredAttributesErrorDict,\n            [e.target.name]: false,\n          },\n        })\n      }\n    }\n    return allGood\n  }\n\n  function completeNewPassword() {\n    Auth.completeNewPassword(\n      user, // the Cognito User Object\n      state.newPassword, // the new password\n      state.requiredAttributesDict\n    )\n      .then((user) => {\n        onUserChange(user)\n        onClose()\n      })\n      .catch((err) => {\n        setState({ ...state, newPasswordError: err.toString() })\n      })\n  }\n\n  return (\n    <Fragment>\n      <Typography component=\"h1\" variant=\"h5\">\n        Complete your Sign Up\n      </Typography>\n      <form className={classes.form} noValidate>\n        <TextField\n          error={state.newPasswordNotValid}\n          variant=\"outlined\"\n          margin=\"normal\"\n          required\n          fullWidth\n          name=\"newPassword\"\n          label=\"New password\"\n          type=\"password\"\n          id=\"password\"\n          value={state.newPassword}\n          onChange={_handleTextFieldChange}\n          helperText={state.newPasswordError || \"\"}\n        />\n        <TextField\n          error={state.newPasswordNotEqualsConfirmation}\n          variant=\"outlined\"\n          margin=\"normal\"\n          required\n          fullWidth\n          name=\"newPasswordConfirmation\"\n          label=\"Confirm new password\"\n          type=\"password\"\n          id=\"confirm-password\"\n          onChange={_handleTextFieldChange}\n          value={state.newPasswordConfirmation}\n          onBlur={checkIfPasswordEqualsConfirmationPassword}\n          helperText={\n            state.newPasswordNotEqualsConfirmation\n              ? \"New password and confirmation password must be the same\"\n              : \"\"\n          }\n        />\n        {requiredAttributes.map((requiredAttribute) => {\n          return (\n            <TextField\n              error={state.requiredAttributesErrorDict[requiredAttribute]}\n              variant=\"outlined\"\n              margin=\"normal\"\n              required\n              fullWidth\n              name={requiredAttribute.toString()}\n              key={requiredAttribute.toString()}\n              label={capitalizeFirstLetter(requiredAttribute.toString())}\n              type=\"text\"\n              id={requiredAttribute.toString()}\n              onChange={_handleAttributesTextFieldChange}\n              value={state.requiredAttributesDict.requiredAttribute}\n              onBlur={_handleCantBeNull}\n              helperText={\n                state.requiredAttributesErrorDict[requiredAttribute]\n                  ? `${capitalizeFirstLetter(\n                      requiredAttribute.toString()\n                    )} can't be null`\n                  : \"\"\n              }\n            />\n          )\n        })}\n        <Button\n          onClick={handleCompleteSignUpClick}\n          fullWidth\n          variant=\"contained\"\n          color=\"primary\"\n          className={classes.submit}\n        >\n          Complete Sign Up\n        </Button>\n      </form>\n    </Fragment>\n  )\n}\n","import React, { useState } from \"react\"\nimport { makeStyles } from \"@material-ui/core/styles\"\nimport Drawer from \"@material-ui/core/Drawer\"\n\nimport Avatar from \"@material-ui/core/Avatar\"\nimport Paper from \"@material-ui/core/Paper\"\nimport Grid from \"@material-ui/core/Grid\"\nimport LockOutlinedIcon from \"@material-ui/icons/LockOutlined\"\nimport ArrowForwardIcon from \"@material-ui/icons/ArrowForward\"\nimport SignIn from \"./SignIn\"\nimport CompleteSignUp from \"./CompleteSignUp\"\n\nconst useStyles = makeStyles((theme) => ({\n  drawer: {\n    width: 500,\n  },\n  root: {\n    height: \"100vh\",\n  },\n  paper: {\n    margin: theme.spacing(8, 4),\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n  },\n  close: {\n    cursor: \"pointer\",\n    color: theme.palette.secondary.main,\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main,\n  },\n}))\n\nexport default ({ loginDrawerOpen, onClose }) => {\n  const classes = useStyles()\n  const [user, setUser] = useState({})\n\n  const [state, setState] = useState({\n    signingIn: true,\n    completeSignUp: false,\n    user: \"\",\n  })\n\n  const toggleCompleteSignUp = (user) => {\n    setState((prevState) => ({\n      ...prevState,\n      signingIn: false,\n      completeSignUp: true,\n      user: user,\n      requiredAttributes: user.challengeParam.requiredAttributes,\n    }))\n  }\n\n  const drawer = () => (\n    <div className={classes.drawer} role=\"presentation\">\n      <Grid container component=\"main\" className={classes.root}>\n        <Grid\n          item\n          xs={12}\n          sm={12}\n          md={12}\n          component={Paper}\n          elevation={6}\n          square\n        >\n          <div className={classes.paper}>\n            <Grid container>\n              <Grid item xs>\n                <ArrowForwardIcon onClick={onClose} className={classes.close} />\n              </Grid>\n            </Grid>\n            <Avatar className={classes.avatar}>\n              <LockOutlinedIcon />\n            </Avatar>\n            {state.signingIn && (\n              <SignIn\n                onRequireCompleteSignUp={(user) => toggleCompleteSignUp(user)}\n                onUserChange={(user) => {\n                  setUser(user)\n                }}\n                onClose={onClose}\n              />\n            )}\n            {state.completeSignUp && (\n              <CompleteSignUp\n                requiredAttributes={state.requiredAttributes}\n                user={user}\n                onClose={onClose}\n                onUserChange={(user) => {\n                  setUser(user)\n                }}\n              />\n            )}\n          </div>\n        </Grid>\n      </Grid>\n    </div>\n  )\n\n  return (\n    <>\n      <Drawer anchor=\"right\" open={loginDrawerOpen} onClose={onClose}>\n        {drawer()}\n      </Drawer>\n    </>\n  )\n}\n","// @flow\n\nexport default () => {\n  if (window.require) {\n    return window.require(\"electron\")\n  }\n  return null\n}\n","import posthog from \"posthog-js\"\nimport useElectron from \"./use-electron\"\n\nwindow.posthogInitialized = false\nexport default () => {\n  const isDesktop = Boolean(useElectron())\n  if (!window.posthogInitialized) {\n    posthog.init(\"8ieaFOCUBS195OEkGCHl84_DsY03sSPKpzV00JYjf7M\", {\n      api_host: \"https://posthog.universaldatatool.com\",\n      autocapture: false,\n    })\n    window.posthog = posthog\n    const domain = isDesktop ? \"desktop\" : window.location.origin\n    posthog.capture(\"domain\", { domain })\n    posthog.capture(\"is_desktop\", { isDesktop: isDesktop })\n    posthog.people.set({ is_desktop: isDesktop, domain })\n    window.posthogInitialized = true\n  }\n  return posthog\n}\n","// @flow\n\nimport React, { useState, useEffect } from \"react\"\nimport { useLocalStorage } from \"react-use\"\nimport IconButton from \"@material-ui/core/IconButton\"\nimport PeopleIcon from \"@material-ui/icons/People\"\nimport ArrowForwardIcon from \"@material-ui/icons/ArrowForward\"\nimport { styled } from \"@material-ui/core/styles\"\nimport * as colors from \"@material-ui/core/colors\"\nimport Button from \"@material-ui/core/Button\"\nimport TextField from \"@material-ui/core/TextField\"\nimport InputAdornment from \"@material-ui/core/InputAdornment\"\nimport AddBoxTwoTone from \"@material-ui/icons/AddBoxTwoTone\"\nimport ExitToAppIcon from \"@material-ui/icons/ExitToApp\"\nimport CircularProgress from \"@material-ui/core/CircularProgress\"\nimport usePosthog from \"../../utils/use-posthog\"\n\nconst Container = styled(\"div\")({ position: \"relative\", marginLeft: 8 })\nconst WIDTH = 300\nconst borderColor = colors.grey[500]\nconst popupBoxBeforeAndAfter = {\n  bottom: \"100%\",\n  left: \"25%\",\n  border: \"solid transparent\",\n  content: '\" \"',\n  height: 0,\n  width: 0,\n  position: \"absolute\",\n  pointerEvents: \"none\",\n}\nconst PopupBox = styled(\"div\")({\n  position: \"absolute\",\n  zIndex: 10,\n  top: 45,\n  padding: 16,\n  boxSizing: \"border-box\",\n  borderRadius: 4,\n  left: -WIDTH / 4 + 22,\n  backgroundColor: \"#fff\",\n  border: `1px solid ${borderColor}`,\n  width: WIDTH,\n  minHeight: 200,\n  boxShadow: \"0px 3px 12px rgba(0,0,0,0.3)\",\n  \"&:before\": {\n    ...popupBoxBeforeAndAfter,\n    borderColor: \"rgba(0,0,0, 0)\",\n    borderBottomColor: borderColor,\n    borderWidth: 12,\n    marginLeft: -12,\n  },\n  \"&:after\": {\n    ...popupBoxBeforeAndAfter,\n    borderColor: \"rgba(255,255,255, 0)\",\n    borderBottomColor: \"#fff\",\n    borderWidth: 10,\n    marginLeft: -10,\n  },\n  \"& h1\": {\n    fontSize: 18,\n    marginTop: 0,\n    color: colors.blue[800],\n  },\n  \"& h2\": {\n    fontSize: 14,\n    color: colors.grey[800],\n  },\n  opacity: 1,\n  transition: \"opacity 200ms linear, transform 200ms ease\",\n  \"&.hidden\": {\n    opacity: 0,\n    transform: \"translate(0, 10px)\",\n    pointerEvents: \"none\",\n  },\n})\nconst ErrorText = styled(\"div\")({\n  color: colors.red[500],\n  padding: 8,\n  fontSize: 14,\n})\n\nconst CreateNewButton = styled(Button)({\n  marginTop: 16,\n  justifyContent: \"flex-start\",\n  color: colors.blue[500],\n  \"& .icon\": {\n    marginRight: 8,\n    opacity: 0.7,\n  },\n})\nconst ExitButton = styled(Button)({\n  marginTop: 16,\n  justifyContent: \"flex-start\",\n  \"& .icon\": {\n    marginRight: 8,\n    opacity: 0.7,\n    color: colors.red[500],\n  },\n})\n\nexport default ({\n  fileOpen = false,\n  inSession = false,\n  error,\n  onJoinSession,\n  onCreateSession,\n  onLeaveSession,\n  sessionBoxOpen,\n  changeSessionBoxOpen,\n}) => {\n  const [loadingSession, changeLoadingSession] = useState(false)\n  const [sessionUrl, changeSessionUrl] = useState(\"\")\n  const [userName, changeUserName] = useLocalStorage(\"userName\", \"anonymous\")\n  const posthog = usePosthog()\n\n  useEffect(() => {\n    if (loadingSession) {\n      setTimeout(() => {\n        changeLoadingSession(false)\n      }, 10000)\n    }\n  }, [loadingSession])\n\n  return (\n    <Container\n      onMouseEnter={() => changeSessionBoxOpen(true)}\n      onMouseLeave={() => changeSessionBoxOpen(false)}\n    >\n      <IconButton style={{ color: inSession ? colors.blue[500] : undefined }}>\n        <PeopleIcon />\n      </IconButton>\n      <PopupBox className={sessionBoxOpen ? \"\" : \"hidden\"}>\n        <h1>Collaborate</h1>\n        {!inSession ? (\n          <>\n            <h2>Join a Session</h2>\n            <TextField\n              variant=\"outlined\"\n              label=\"URL to Session\"\n              value={sessionUrl}\n              onChange={(e) => changeSessionUrl(e.target.value)}\n              InputProps={{\n                endAdornment: (\n                  <InputAdornment position=\"end\">\n                    <IconButton\n                      color=\"primary\"\n                      onClick={() => {\n                        posthog.capture(\"join_collaborative_session\")\n                        onJoinSession(sessionUrl)\n                      }}\n                      disabled={!sessionUrl}\n                    >\n                      <ArrowForwardIcon />\n                    </IconButton>\n                  </InputAdornment>\n                ),\n              }}\n            />\n            {error && <ErrorText>{error}</ErrorText>}\n            <CreateNewButton\n              fullWidth\n              disabled={!fileOpen || loadingSession || error}\n              onClick={() => {\n                posthog.capture(\"create_collaborative_session\")\n                onCreateSession()\n                changeLoadingSession(true)\n              }}\n            >\n              {loadingSession ? (\n                <CircularProgress className=\"icon\" size={24} />\n              ) : (\n                <AddBoxTwoTone className=\"icon\" />\n              )}\n              Create New Session\n            </CreateNewButton>\n          </>\n        ) : (\n          <>\n            <TextField\n              style={{ marginTop: 12 }}\n              variant=\"outlined\"\n              label=\"User Name\"\n              value={userName}\n              onChange={(e) => changeUserName(e.target.value)}\n            />\n            <ExitButton fullWidth onClick={onLeaveSession}>\n              <ExitToAppIcon className=\"icon\" />\n              Leave Session\n            </ExitButton>\n          </>\n        )}\n      </PopupBox>\n    </Container>\n  )\n}\n","// @flow\n\nimport React from \"react\"\nimport { styled } from \"@material-ui/core/styles\"\nimport * as colors from \"@material-ui/core/colors\"\n\nconst WIDTH = 300\nconst borderColor = colors.grey[500]\nconst popupBoxBeforeAndAfter = {\n  bottom: \"100%\",\n  left: \"25%\",\n  border: \"solid transparent\",\n  content: '\" \"',\n  height: 0,\n  width: 0,\n  position: \"absolute\",\n  pointerEvents: \"none\",\n}\nconst PopupBox = styled(\"div\")({\n  position: \"absolute\",\n  zIndex: 10,\n  top: 45,\n  padding: 16,\n  boxSizing: \"border-box\",\n  borderRadius: 4,\n  left: -WIDTH / 4 + 22,\n  backgroundColor: \"#fff\",\n  border: `1px solid ${borderColor}`,\n  width: WIDTH,\n  minHeight: 200,\n  boxShadow: \"0px 3px 12px rgba(0,0,0,0.3)\",\n  \"&:before\": {\n    ...popupBoxBeforeAndAfter,\n    borderColor: \"rgba(0,0,0, 0)\",\n    borderBottomColor: borderColor,\n    borderWidth: 12,\n    marginLeft: -12,\n  },\n  \"&:after\": {\n    ...popupBoxBeforeAndAfter,\n    borderColor: \"rgba(255,255,255, 0)\",\n    borderBottomColor: \"#fff\",\n    borderWidth: 10,\n    marginLeft: -10,\n  },\n  \"& h1\": {\n    fontSize: 18,\n    marginTop: 0,\n    color: colors.blue[800],\n  },\n  \"& h2\": {\n    fontSize: 14,\n    color: colors.grey[800],\n  },\n  opacity: 1,\n  transition: \"opacity 200ms linear, transform 200ms ease\",\n  \"&.hidden\": {\n    opacity: 0,\n    transform: \"translate(0, 10px)\",\n    pointerEvents: \"none\",\n  },\n})\n\nexport default ({ open, children }) => {\n  return <PopupBox className={open ? \"\" : \"hidden\"}>{children}</PopupBox>\n}\n","// @flow\n\nimport React, { useState } from \"react\"\nimport IconButton from \"@material-ui/core/IconButton\"\nimport DownloadIcon from \"@material-ui/icons/GetApp\"\nimport { styled } from \"@material-ui/core/styles\"\nimport * as colors from \"@material-ui/core/colors\"\nimport Button from \"@material-ui/core/Button\"\nimport HeaderPopupBox from \"../HeaderPopupBox\"\n\nconst Container = styled(\"div\")({ position: \"relative\" })\n\nconst StyledButton = styled(Button)({\n  justifyContent: \"flex-start\",\n  \"& .fakeicon\": {\n    display: \"inline\",\n    marginRight: 8,\n    padding: 4,\n    paddingTop: 5,\n    fontSize: 11,\n    fontWeight: \"bold\",\n    color: \"#fff\",\n    backgroundColor: colors.grey[700],\n    borderRadius: 4,\n    width: 36,\n    \"&.blue\": {\n      backgroundColor: colors.blue[700],\n    },\n    \"&.green\": {\n      backgroundColor: colors.green[700],\n    },\n  },\n})\n\nexport default ({ onDownload }) => {\n  const [open, changeOpen] = useState(false)\n\n  return (\n    <Container\n      onMouseEnter={() => changeOpen(true)}\n      onMouseLeave={() => changeOpen(false)}\n    >\n      <IconButton>\n        <DownloadIcon />\n      </IconButton>\n      <HeaderPopupBox open={open}>\n        <h1>Download</h1>\n        <StyledButton fullWidth onClick={() => onDownload(\"csv\")}>\n          <div className=\"fakeicon green\">CSV</div>\n          Download CSV\n        </StyledButton>\n        <StyledButton fullWidth onClick={() => onDownload(\"json\")}>\n          <div className=\"fakeicon blue\">JSON</div>\n          Download JSON\n        </StyledButton>\n      </HeaderPopupBox>\n    </Container>\n  )\n}\n","// @flow\n\nimport React from \"react\"\nimport SvgIcon from \"@material-ui/core/SvgIcon\"\n\nfunction GitHub(props: Object) {\n  return (\n    <SvgIcon {...props}>\n      <path d=\"M12.007 0C6.12 0 1.1 4.27.157 10.08c-.944 5.813 2.468 11.45 8.054 13.312.19.064.397.033.555-.084.16-.117.25-.304.244-.5v-2.042c-3.33.735-4.037-1.56-4.037-1.56-.22-.726-.694-1.35-1.334-1.756-1.096-.75.074-.735.074-.735.773.103 1.454.557 1.846 1.23.694 1.21 2.23 1.638 3.45.96.056-.61.327-1.178.766-1.605-2.67-.3-5.462-1.335-5.462-6.002-.02-1.193.42-2.35 1.23-3.226-.327-1.015-.27-2.116.166-3.09 0 0 1.006-.33 3.3 1.23 1.966-.538 4.04-.538 6.003 0 2.295-1.5 3.3-1.23 3.3-1.23.445 1.006.49 2.144.12 3.18.81.877 1.25 2.033 1.23 3.226 0 4.607-2.805 5.627-5.476 5.927.578.583.88 1.386.825 2.206v3.29c-.005.2.092.393.26.507.164.115.377.14.565.063 5.568-1.88 8.956-7.514 8.007-13.313C22.892 4.267 17.884.007 12.008 0z\" />\n    </SvgIcon>\n  )\n}\n\nexport default GitHub\n","// @flow weak\n\nimport seed from \"seed-random\"\nimport * as colors from \"@material-ui/core/colors\"\n\nconst fadedGrey = {\n  ...colors.grey,\n  // \"800\": colors.grey[600],\n  // \"700\": colors.grey[500],\n  // \"600\": colors.grey[400],\n  // \"500\": colors.grey[300],\n  // \"400\": colors.grey[200],\n  // \"300\": colors.grey[100],\n  isFaded: true,\n}\n\nconst availableColors = [\n  colors.blue,\n  colors.deepOrange,\n  colors.green,\n  colors.purple,\n  colors.pink,\n  colors.cyan,\n  colors.orange,\n  colors.indigo,\n]\n\nconst colorMap = {\n  ...colors,\n  complete: colors.blue,\n  incomplete: fadedGrey,\n  faded: fadedGrey,\n  review: colors.deepOrange,\n}\n\nexport default (brush) => {\n  return (\n    colorMap[brush] || availableColors[seed(brush) * availableColors.length]\n  )\n}\n","// @flow\n\nimport React, { useState } from \"react\"\nimport IconButton from \"@material-ui/core/IconButton\"\nimport BrushIcon from \"@material-ui/icons/Brush\"\nimport { styled } from \"@material-ui/core/styles\"\nimport * as colors from \"@material-ui/core/colors\"\nimport Button from \"@material-ui/core/Button\"\nimport HeaderPopupBox from \"../HeaderPopupBox\"\nimport useEventCallback from \"use-event-callback\"\nimport memoize from \"lodash/memoize\"\nimport getBrushColorPalette from \"../../utils/get-brush-color-palette.js\"\n\nconst Container = styled(\"div\")({ position: \"relative\" })\nconst BrushCircle = styled(\"div\")(({ color }) => ({\n  display: \"inline\",\n  marginRight: 8,\n  backgroundColor: color[700],\n  width: 24,\n  height: 24,\n  borderRadius: 20,\n}))\n\nconst OtherColorContainers = styled(\"div\")({\n  paddingTop: 10,\n  padding: 4,\n  display: \"flex\",\n  flexWrap: \"wrap\",\n})\n\nconst StyledIconButton = styled(IconButton)(({ iconcolor, selected }) => ({\n  display: \"flex\",\n  justifyContent: \"center\",\n  alignItems: \"center\",\n  backgroundColor: iconcolor[700],\n  border: selected ? `4px solid ${iconcolor[\"A200\"]}` : \"4px solid #fff\",\n  boxSizing: \"content-box\",\n  margin: 4,\n  transition: \"transform 200ms linear\",\n  \"&:hover\": {\n    backgroundColor: iconcolor[800],\n    transform: \"scale(1.2,1.2)\",\n  },\n  \"&:active\": {\n    transition: \"transform 100ms linear\",\n    transform: \"scale(1.4,1.4)\",\n  },\n}))\n\nconst StyledButton = styled(Button)(({ selected, iconcolor }) => ({\n  justifyContent: \"flex-start\",\n  marginTop: 4,\n  marginBottom: 4,\n  paddingTop: 8,\n  paddingBottom: 8,\n  backgroundColor: selected ? iconcolor[50] : \"#fff\",\n  border: selected ? `2px solid ${iconcolor[200]}` : \"2px solid #fff\",\n  \"&:hover\": {\n    backgroundColor: selected ? iconcolor[100] : \"none\",\n  },\n}))\n\nexport default ({ selectedBrush, onChangeSelectedBrush }) => {\n  const [open, changeOpen] = useState(false)\n  const handleClick = useEventCallback((color) =>\n    memoize(() => onChangeSelectedBrush(color))\n  )\n\n  return (\n    <Container\n      onMouseEnter={() => changeOpen(true)}\n      onMouseLeave={() => changeOpen(false)}\n    >\n      <IconButton>\n        <BrushIcon\n          style={{ color: getBrushColorPalette(selectedBrush)[800] }}\n        />\n      </IconButton>\n      <HeaderPopupBox open={open}>\n        <h1>Sample Brushes</h1>\n        <StyledButton\n          selected={selectedBrush === \"complete\" || selectedBrush === \"blue\"}\n          iconcolor={colors.blue}\n          fullWidth\n          onClick={handleClick(\"complete\")}\n        >\n          <BrushCircle color={colors.blue} />\n          Complete\n        </StyledButton>\n        <StyledButton\n          selected={\n            selectedBrush === \"review\" || selectedBrush === \"deepOrange\"\n          }\n          iconcolor={colors.deepOrange}\n          fullWidth\n          onClick={handleClick(\"review\")}\n        >\n          <BrushCircle color={colors.deepOrange} />\n          Review\n        </StyledButton>\n        <OtherColorContainers>\n          <StyledIconButton\n            onClick={handleClick(\"green\")}\n            selected={selectedBrush === \"green\"}\n            iconcolor={colors.green}\n          />\n          <StyledIconButton\n            onClick={handleClick(\"purple\")}\n            selected={selectedBrush === \"purple\"}\n            iconcolor={colors.purple}\n          />\n          <StyledIconButton\n            onClick={handleClick(\"pink\")}\n            selected={selectedBrush === \"pink\"}\n            iconcolor={colors.pink}\n          />\n          <StyledIconButton\n            onClick={handleClick(\"cyan\")}\n            selected={selectedBrush === \"cyan\"}\n            iconcolor={colors.cyan}\n          />\n          <StyledIconButton\n            onClick={handleClick(\"orange\")}\n            selected={selectedBrush === \"orange\"}\n            iconcolor={colors.orange}\n          />\n          <StyledIconButton\n            onClick={handleClick(\"indigo\")}\n            selected={selectedBrush === \"indigo\"}\n            iconcolor={colors.indigo}\n          />\n        </OtherColorContainers>\n      </HeaderPopupBox>\n    </Container>\n  )\n}\n","// @flow weak\n\nimport React, { memo } from \"react\"\nimport AppBar from \"@material-ui/core/AppBar\"\nimport Toolbar from \"@material-ui/core/Toolbar\"\nimport Tabs from \"@material-ui/core/Tabs\"\nimport Tab from \"@material-ui/core/Tab\"\nimport { makeStyles } from \"@material-ui/core/styles\"\nimport SettingsIcon from \"@material-ui/icons/Settings\"\nimport StorageIcon from \"@material-ui/icons/Storage\"\nimport BorderColorIcon from \"@material-ui/icons/BorderColor\"\nimport MenuIcon from \"@material-ui/icons/Menu\"\nimport CollaborateButton from \"../CollaborateButton\"\nimport DownloadButton from \"../DownloadButton\"\nimport Button from \"@material-ui/core/Button\"\nimport GithubIcon from \"../Header/GithubIcon\"\nimport IconButton from \"@material-ui/core/IconButton\"\nimport packageJSON from \"../../../package.json\"\nimport BrushButton from \"../BrushButton\"\nimport useAuth from \"../../utils/auth-handlers/use-auth.js\"\n\nconst capitalize = (s) => {\n  return s.charAt(0).toUpperCase() + s.slice(1)\n}\n\nconst useStyles = makeStyles((theme) => ({\n  headerButton: {\n    marginLeft: 16,\n  },\n  grow: { flexGrow: 1 },\n  list: {\n    width: 300,\n  },\n  tab: {\n    color: \"#000\",\n    \"& .icon\": {},\n  },\n  fullHeightTab: {\n    ...theme.mixins.toolbar,\n    [theme.breakpoints.down(\"sm\")]: {\n      minWidth: 20,\n    },\n  },\n  tabWrapper: {\n    display: \"flex\",\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    textTransform: \"none\",\n    color: \"#000\",\n    \"&&& svg\": {\n      marginBottom: 0,\n      marginRight: 8,\n      width: 18,\n      height: 18,\n    },\n  },\n}))\n\nconst getIcon = (t) => {\n  switch (t) {\n    case \"Setup\":\n      return <SettingsIcon className=\"icon\" />\n    case \"Label\":\n      return <BorderColorIcon className=\"icon\" />\n    case \"Samples\":\n      return <StorageIcon className=\"icon\" />\n    default:\n      return <div></div>\n  }\n}\n\nconst HeaderToolbar = ({\n  tabs,\n  currentTab,\n  onChangeTab,\n  additionalButtons,\n  onOpenDrawer,\n  title = \"Universal Data Tool\",\n  isDesktop,\n  fileOpen,\n  sessionBoxOpen,\n  changeSessionBoxOpen,\n  inSession,\n  onCreateSession,\n  onLeaveSession,\n  onJoinSession,\n  onDownload,\n  selectedBrush,\n  onChangeSelectedBrush,\n  isSmall,\n  authConfig,\n  changeLoginDrawerOpen,\n  collaborateError,\n  isWelcomePage,\n}) => {\n  const c = useStyles()\n  const { authProvider, isLoggedIn, logout } = useAuth()\n  return (\n    <AppBar color=\"default\" position=\"static\">\n      <Toolbar variant=\"dense\">\n        {!isDesktop && (\n          <IconButton onClick={onOpenDrawer} className={c.headerButton}>\n            <MenuIcon />\n          </IconButton>\n        )}\n        {fileOpen ? title : \"Universal Data Tool v\" + packageJSON.version}\n        <CollaborateButton\n          sessionBoxOpen={sessionBoxOpen}\n          changeSessionBoxOpen={changeSessionBoxOpen}\n          fileOpen={fileOpen}\n          inSession={inSession}\n          onCreateSession={onCreateSession}\n          onLeaveSession={onLeaveSession}\n          onJoinSession={onJoinSession}\n          error={collaborateError}\n        />\n        {fileOpen && (\n          <BrushButton\n            selectedBrush={selectedBrush}\n            onChangeSelectedBrush={onChangeSelectedBrush}\n          />\n        )}\n        {!isDesktop && fileOpen && <DownloadButton onDownload={onDownload} />}\n        <div className={c.grow} />\n        {additionalButtons}\n        {tabs.length > 0 && (\n          <Tabs\n            onChange={(e, newTab) => onChangeTab(newTab.toLowerCase())}\n            value={currentTab}\n          >\n            {tabs.map((t) => (\n              <Tab\n                key={t}\n                classes={{ root: c.fullHeightTab, wrapper: c.tabWrapper }}\n                className={c.tab}\n                icon={getIcon(t)}\n                label={isSmall ? \"\" : t}\n                value={t.toLowerCase()}\n              />\n            ))}\n          </Tabs>\n        )}\n        {authProvider !== \"none\" && isWelcomePage && !isLoggedIn && (\n          <Button\n            onClick={() => {\n              changeLoginDrawerOpen(true)\n            }}\n            className={c.headerButton}\n          >\n            Login with {capitalize(authProvider)}\n          </Button>\n        )}\n        {isLoggedIn && (\n          <Button onClick={logout} className={c.headerButton}>\n            Logout\n          </Button>\n        )}\n        {!isSmall && (\n          <IconButton\n            href=\"https://github.com/openhumanannotation/universal-data-tool\"\n            className={c.headerButton}\n          >\n            <GithubIcon />\n          </IconButton>\n        )}\n      </Toolbar>\n    </AppBar>\n  )\n}\n\nexport default memo(HeaderToolbar)\n","// @flow\n\nimport ImageSearch from \"@material-ui/icons/ImageSearch\"\nimport Image from \"@material-ui/icons/Image\"\nimport CropFree from \"@material-ui/icons/CropFree\"\nimport TextFormat from \"@material-ui/icons/TextFormat\"\nimport Edit from \"@material-ui/icons/Edit\"\nimport Audiotrack from \"@material-ui/icons/Audiotrack\"\nimport Category from \"@material-ui/icons/Category\"\nimport ThreeDRotation from \"@material-ui/icons/ThreeDRotation\"\nimport OndemandVideoIcon from \"@material-ui/icons/OndemandVideo\"\nimport ContactSupport from \"@material-ui/icons/ContactSupport\"\n\nexport const templates = [\n  {\n    name: \"Empty\",\n    Icon: CropFree,\n    dataset: {\n      interface: {},\n      samples: [],\n    },\n  },\n  {\n    name: \"Image Segmentation\",\n    Icon: ImageSearch,\n    dataset: {\n      interface: {\n        type: \"image_segmentation\",\n        labels: [\"valid\", \"invalid\"],\n        regionTypesAllowed: [\n          \"bounding-box\",\n          \"polygon\",\n          // \"full-segmentation\",\n          \"point\",\n          // \"pixel-mask\"\n        ],\n      },\n      samples: [\n        {\n          imageUrl:\n            \"https://s3.amazonaws.com/asset.workaround.online/example-jobs/sticky-notes/image1.jpg\",\n        },\n        {\n          imageUrl:\n            \"https://s3.amazonaws.com/asset.workaround.online/example-jobs/sticky-notes/image2.jpg\",\n        },\n      ],\n    },\n  },\n  {\n    name: \"Image Classification\",\n    Icon: Image,\n    dataset: {\n      interface: {\n        type: \"image_classification\",\n        labels: [\"valid\", \"invalid\"],\n      },\n      samples: [\n        {\n          imageUrl:\n            \"https://s3.amazonaws.com/asset.workaround.online/example-jobs/sticky-notes/image1.jpg\",\n        },\n        {\n          imageUrl:\n            \"https://s3.amazonaws.com/asset.workaround.online/example-jobs/sticky-notes/image2.jpg\",\n        },\n      ],\n    },\n  },\n  {\n    name: \"Video Segmentation\",\n    Icon: OndemandVideoIcon,\n    dataset: {\n      interface: {\n        type: \"video_segmentation\",\n        labels: [\"valid\", \"invalid\"],\n        regionTypesAllowed: [\"bounding-box\", \"polygon\", \"point\"],\n      },\n      samples: [\n        {\n          videoUrl:\n            \"https://s3.amazonaws.com/asset.workaround.online/SampleVideo_1280x720_1mb.mp4\",\n        },\n      ],\n    },\n  },\n  {\n    name: \"Data Entry\",\n    Icon: Edit,\n    dataset: {\n      interface: {\n        type: \"data_entry\",\n        description: \"# Markdown description here\",\n        surveyjs: {\n          questions: [\n            {\n              type: \"text\",\n              name: \"document_title\",\n              title: \"Title of Document\",\n            },\n          ],\n        },\n      },\n      samples: [\n        {\n          pdfUrl: \"https://arxiv.org/pdf/1906.01969.pdf\",\n        },\n        {\n          pdfUrl: \"https://arxiv.org/pdf/1908.07069.pdf\",\n        },\n      ],\n    },\n  },\n  {\n    name: \"Named Entity Recognition\",\n    Icon: TextFormat,\n    dataset: {\n      interface: {\n        type: \"text_entity_recognition\",\n        overlapAllowed: false,\n        labels: [\n          {\n            id: \"food\",\n            displayName: \"Food\",\n            description: \"Edible item.\",\n          },\n          {\n            id: \"hat\",\n            displayName: \"Hat\",\n            description: \"Something worn on the head.\",\n          },\n        ],\n      },\n      samples: [\n        {\n          document:\n            \"This strainer makes a great hat, I'll wear it while I serve spaghetti!\",\n        },\n        {\n          document: \"Why are all these dumpings covered in butter?!\",\n        },\n      ],\n    },\n  },\n  {\n    name: \"Text Classification\",\n    Icon: ContactSupport,\n    dataset: {\n      interface: {\n        type: \"text_classification\",\n        labels: [\"positive_sentiment\", \"negative_sentiment\"],\n      },\n      samples: [\n        {\n          document: \"Wow this is terrible. I hated it.\",\n        },\n        {\n          document: \"This has made me so happy. I love this.\",\n        },\n        {\n          document:\n            \"At first I wasn't sure. Then I thought, oh it's not very good.\",\n        },\n      ],\n    },\n  },\n  {\n    name: \"Audio Transcription\",\n    Icon: Audiotrack,\n    dataset: {\n      interface: {\n        type: \"audio_transcription\",\n        description: \"# Markdown description here\",\n      },\n      samples: [\n        {\n          audioUrl: \"https://html5tutorial.info/media/vincent.mp3\",\n        },\n      ],\n    },\n  },\n  {\n    name: \"Composite\",\n    Icon: Category,\n    dataset: {\n      description: \"# Markdown description here\",\n      interface: {\n        type: \"composite\",\n        fields: [\n          {\n            fieldName: \"textInfo\",\n            interface: {\n              type: \"data_entry\",\n              surveyjs: {\n                questions: [\n                  {\n                    type: \"text\",\n                    name: \"group_letter\",\n                    title: \"Letter of Group\",\n                  },\n                ],\n              },\n            },\n          },\n          {\n            fieldName: \"segmentation\",\n            interface: {\n              type: \"image_segmentation\",\n              labels: [\"group text\"],\n              regionTypesAllowed: [\"bounding-box\"],\n            },\n          },\n        ],\n      },\n      samples: [\n        {\n          imageUrl:\n            \"https://s3.amazonaws.com/asset.workaround.online/example-jobs/sticky-notes/image1.jpg\",\n        },\n        {\n          imageUrl:\n            \"https://s3.amazonaws.com/asset.workaround.online/example-jobs/sticky-notes/image2.jpg\",\n        },\n      ],\n    },\n  },\n  {\n    name: \"3D Bounding Box\",\n    Icon: ThreeDRotation,\n    dataset: {\n      interface: {\n        type: \"3d_bounding_box\",\n        description: \"3D Bounding Box\",\n      },\n      samples: [{}],\n    },\n  },\n]\n\nexport const templateMap = templates.reduce((acc, t) => {\n  acc[t.name] = t\n  acc[t.dataset.interface.type] = t\n  return acc\n}, {})\n\nexport default templates\n","//@flow weak\n\nimport React, { useCallback } from \"react\"\nimport Drawer from \"@material-ui/core/Drawer\"\nimport { useDropzone } from \"react-dropzone\"\nimport List from \"@material-ui/core/List\"\nimport ListItem from \"@material-ui/core/ListItem\"\nimport ListItemText from \"@material-ui/core/ListItemText\"\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\"\nimport ListSubheader from \"@material-ui/core/ListSubheader\"\nimport { GoMarkGithub } from \"react-icons/go\"\nimport { makeStyles } from \"@material-ui/core/styles\"\nimport HomeIcon from \"@material-ui/icons/Home\"\nimport { FaTrashAlt } from \"react-icons/fa\"\nimport templates from \"../StartingPage/templates\"\nimport * as colors from \"@material-ui/core/colors\"\nimport FileIcon from \"@material-ui/icons/InsertDriveFile\"\nimport NoteAddIcon from \"@material-ui/icons/NoteAdd\"\n\nconst useStyles = makeStyles({})\n\nexport default ({\n  recentItems,\n  changeRecentItems,\n  onClickHome,\n  onCloseDrawer,\n  drawerOpen,\n  onOpenFile,\n  onOpenRecentItem,\n  onClickTemplate,\n}) => {\n  const c = useStyles()\n\n  const onDrop = useCallback(\n    (acceptedFiles) => {\n      onOpenFile(acceptedFiles[0])\n    },\n    [onOpenFile]\n  )\n\n  function onDeleteFile(i) {\n    changeRecentItems(\n      recentItems.filter((oneRecentFile) => oneRecentFile.id !== i)\n    )\n  }\n\n  const { getRootProps, getInputProps } = useDropzone({ onDrop })\n\n  return (\n    <Drawer open={drawerOpen} onClose={onCloseDrawer}>\n      <List className={c.list}>\n        <ListItem onClick={onClickHome} button>\n          <ListItemIcon>\n            <HomeIcon />\n          </ListItemIcon>\n          <ListItemText>Home</ListItemText>\n        </ListItem>\n        <ListItem {...getRootProps()} button>\n          <ListItemIcon>\n            <NoteAddIcon />\n          </ListItemIcon>\n          <ListItemText>Open File</ListItemText>\n          <input {...getInputProps()} />\n        </ListItem>\n        <ListSubheader>Recent Files</ListSubheader>\n        {recentItems.length === 0 ? (\n          <ListItem>\n            <ListItemText\n              style={{ textAlign: \"center\", color: colors.grey[500] }}\n            >\n              No Recent Items\n            </ListItemText>\n          </ListItem>\n        ) : (\n          recentItems.map((ri, index) => (\n            <ListItem key={ri.fileName} button>\n              <ListItemIcon\n                onClick={() => {\n                  onOpenRecentItem(ri)\n                }}\n              >\n                <FileIcon />\n              </ListItemIcon>\n              <ListItemText\n                onClick={() => {\n                  onOpenRecentItem(ri)\n                }}\n              >\n                {ri.fileName}\n              </ListItemText>\n              <ListItemIcon\n                onClick={() => {\n                  onDeleteFile(ri.id)\n                }}\n              >\n                <FaTrashAlt />\n              </ListItemIcon>\n            </ListItem>\n          ))\n        )}\n        <ListSubheader>Create From Template</ListSubheader>\n        {templates.map((template) => (\n          <ListItem\n            button\n            key={template.name}\n            onClick={() => onClickTemplate(template)}\n          >\n            <ListItemIcon>\n              <template.Icon />\n            </ListItemIcon>\n            <ListItemText>{template.name}</ListItemText>\n          </ListItem>\n        ))}\n        <ListSubheader>Explore More</ListSubheader>\n        {/* <ListItem button>\n      <ListItemIcon>\n        <CodeIcon />\n      </ListItemIcon>\n      <ListItemText>Integrate</ListItemText>\n    </ListItem> */}\n        <ListItem\n          button\n          onClick={() => {\n            window.location.href =\n              \"https://github.com/OpenHumanAnnotation/universal-data-tool/releases\"\n          }}\n        >\n          <ListItemIcon>\n            <GoMarkGithub />\n          </ListItemIcon>\n          <ListItemText>Github</ListItemText>\n        </ListItem>\n      </List>\n    </Drawer>\n  )\n}\n","// @flow weak\n\nimport React, { useState, createContext, useContext, useCallback } from \"react\"\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\"\nimport LoginDrawer from \"../LoginDrawer\"\n\nimport HeaderToolbar from \"../HeaderToolbar\"\nimport HeaderDrawer from \"../HeaderDrawer\"\n\nexport const HeaderContext = createContext({\n  recentItems: [],\n  changeRecentItems: () => null,\n  onClickTemplate: () => null,\n  onClickHome: () => null,\n  onOpenFile: () => null,\n  onOpenRecentItem: () => null,\n  isDesktop: false,\n  inSession: false,\n  onJoinSession: () => null,\n  onCreateSession: () => null,\n  onLeaveSession: () => null,\n  sessionBoxOpen: false,\n  changeSessionBoxOpen: () => null,\n  fileOpen: false,\n  onDownload: () => null,\n  authConfig: null,\n  onUserChange: () => null,\n  user: null,\n  logoutUser: () => null,\n})\n\nconst emptyArray = []\n\nexport default ({\n  additionalButtons = emptyArray,\n  title,\n  currentTab,\n  onChangeTab,\n  tabs = emptyArray,\n}) => {\n  const [drawerOpen, changeDrawerOpen] = useState(false)\n  const [loginDrawerOpen, changeLoginDrawerOpen] = useState(false)\n  let headerContext = useContext(HeaderContext)\n  if (!headerContext.recentItems) headerContext.recentItems = []\n\n  const isSmall = useMediaQuery(\"(max-width: 800px)\")\n\n  const onOpenDrawer = useCallback(() => changeDrawerOpen(true), [])\n  const onCloseDrawer = useCallback(() => changeDrawerOpen(false), [])\n\n  return (\n    <>\n      <HeaderToolbar\n        tabs={tabs}\n        currentTab={currentTab}\n        onChangeTab={onChangeTab}\n        additionalButtons={additionalButtons}\n        onOpenDrawer={onOpenDrawer}\n        isSmall={isSmall}\n        {...headerContext}\n        changeLoginDrawerOpen={changeLoginDrawerOpen}\n        title={title}\n      />\n      <HeaderDrawer\n        drawerOpen={drawerOpen}\n        onCloseDrawer={onCloseDrawer}\n        onClickHome={headerContext.onClickHome}\n        recentItems={headerContext.recentItems}\n        changeRecentItems={headerContext.changeRecentItems}\n        onOpenFile={headerContext.onOpenFile}\n        onClickTemplate={headerContext.onClickTemplate}\n        onOpenRecentItem={headerContext.onOpenRecentItem}\n      />\n      <LoginDrawer\n        authConfig={headerContext.authConfig}\n        loginDrawerOpen={loginDrawerOpen}\n        onClose={() => changeLoginDrawerOpen(false)}\n        onUserChange={headerContext.onUserChange}\n        logoutUser={headerContext.logoutUser}\n      />\n    </>\n  )\n}\n","// @flow\n\nimport React, { useState } from \"react\"\nimport Box from \"@material-ui/core/Box\"\nimport Dialog from \"@material-ui/core/Dialog\"\nimport DialogActions from \"@material-ui/core/DialogActions\"\nimport DialogContent from \"@material-ui/core/DialogContent\"\nimport DialogTitle from \"@material-ui/core/DialogTitle\"\nimport CloseIcon from \"@material-ui/icons/Close\"\nimport FullScreenIcon from \"@material-ui/icons/Fullscreen\"\nimport FullScreenExitIcon from \"@material-ui/icons/FullscreenExit\"\nimport IconButton from \"@material-ui/core/IconButton\"\nimport Button from \"@material-ui/core/Button\"\nimport { grey, blue, red } from \"@material-ui/core/colors\"\nimport ReactMarkdown from \"react-markdown\"\nimport { styled } from \"@material-ui/core/styles\"\n\nconst StyledDialogTitle = styled(DialogTitle)({\n  backgroundColor: grey[100],\n  borderBottom: `1px solid ${grey[300]}`,\n  paddingBottom: 12,\n  boxShadow: \"0px 2px 3px rgba(0,0,0,0.05)\",\n})\nconst StyledDialogContent = styled(DialogContent)({\n  paddingTop: 16,\n})\nconst StyledDialogActions = styled(DialogActions)({\n  backgroundColor: grey[100],\n  borderTop: `1px solid ${grey[300]}`,\n})\n\nexport default ({\n  open = false,\n  title,\n  children,\n  markdownContent,\n  onClose,\n  red: redOn,\n  noActionBar = false,\n  actions = [],\n}) => {\n  const [fullScreen, changeFullScreen] = useState(false)\n  return (\n    <Dialog open={open} onClose={onClose} fullScreen={fullScreen}>\n      <StyledDialogTitle>\n        <Box display=\"flex\" alignItems=\"center\">\n          <span style={{ color: redOn ? red[700] : undefined }}>{title}</span>\n          <div style={{ flexGrow: 1 }} />\n          <IconButton onClick={() => changeFullScreen(!fullScreen)}>\n            {fullScreen ? <FullScreenExitIcon /> : <FullScreenIcon />}\n          </IconButton>\n          <IconButton onClick={onClose}>\n            <CloseIcon />\n          </IconButton>\n        </Box>\n      </StyledDialogTitle>\n      <StyledDialogContent>\n        <Box maxWidth=\"90vw\" minWidth={400} lineHeight={1.5}>\n          {markdownContent ? (\n            <ReactMarkdown source={markdownContent} />\n          ) : (\n            children\n          )}\n        </Box>\n      </StyledDialogContent>\n      {!noActionBar && (\n        <StyledDialogActions>\n          <Button onClick={() => onClose()}>\n            <span style={{ color: grey[700], fontWeight: 500 }}>Close</span>\n          </Button>\n          {actions.map((action, i) => (\n            <Button disabled={action.disabled} key={i} onClick={action.onClick}>\n              <span\n                style={{ color: redOn ? red[700] : blue[700], fontWeight: 500 }}\n              >\n                {action.text}\n              </span>\n            </Button>\n          ))}\n        </StyledDialogActions>\n      )}\n    </Dialog>\n  )\n}\n","// @flow\n\nimport React from \"react\"\nimport Button from \"@material-ui/core/Button\"\nimport { makeStyles } from \"@material-ui/core/styles\"\nimport templates from \"../StartingPage/templates\"\nimport SimpleDialog from \"../SimpleDialog\"\n\nconst useStyles = makeStyles({\n  bigButton: {\n    padding: 10,\n    width: 150,\n    height: 120,\n    border: \"1px solid #ccc\",\n    margin: 10,\n  },\n  bigIcon: {\n    width: 48,\n    height: 48,\n  },\n})\n\nexport default ({ open, onClose, onSelect }) => {\n  const c = useStyles()\n  return (\n    <SimpleDialog title=\"Create from Template\" open={open} onClose={onClose}>\n      {templates.map((template) => (\n        <Button\n          key={template.name}\n          onClick={() => onSelect(template)}\n          className={c.bigButton}\n        >\n          <div>\n            <div>{template.name}</div>\n            <div>\n              <template.Icon className={c.bigIcon} />\n            </div>\n          </div>\n        </Button>\n      ))}\n    </SimpleDialog>\n  )\n}\n","// @flow\nimport React from \"react\"\n\nimport SvgIcon from \"@material-ui/core/SvgIcon\"\n\nconst CognitoIcon = (props) => {\n  return (\n    <SvgIcon {...props} viewBox=\"0 0 75 75\">\n      <g id=\"Reference\">\n        <rect\n          id=\"Red_Light_BG\"\n          data-name=\"Red Light BG\"\n          style={{ fill: \"#d6242d\" }}\n          width=\"75\"\n          height=\"75\"\n        />\n        <g id=\"Product_Icon\" data-name=\"Product Icon\">\n          <path\n            style={{ fill: \"#fff\" }}\n            d=\"M55,15H16.46a3.92,3.92,0,0,0-3.71,4.1v24.8A3.92,3.92,0,0,0,16.46,48H37.75V46H16.46a2,2,0,0,1-1.71-2.1V27h18V42a1,1,0,0,0,1,1h8V41H35.2V40.7a7.74,7.74,0,0,1,5.53-7.43,5.91,5.91,0,0,0,4.92,0,7.82,7.82,0,0,1,4.42,3.42l1.7-1v0a9.8,9.8,0,0,0-4.34-3.82,5.4,5.4,0,0,0,1.27-3.48,5.5,5.5,0,0,0-11,0A5.42,5.42,0,0,0,39,31.8a9.67,9.67,0,0,0-4.22,3.62V22h17v13.7h0V36h2V27h3V37h2l0-17.9A3.92,3.92,0,0,0,55,15ZM43.2,24.87a3.48,3.48,0,0,1,3.5,3.46,3.43,3.43,0,0,1-1.81,3,3.57,3.57,0,0,1-3.39,0,3.44,3.44,0,0,1-1.8-3A3.48,3.48,0,0,1,43.2,24.87ZM53.75,25V21a1,1,0,0,0-1-1h-19a1,1,0,0,0-1,1v4h-18v-5.9A2,2,0,0,1,16.46,17H55a2,2,0,0,1,1.73,2.1V25Z\"\n          />\n          <rect\n            style={{ fill: \"#fff\" }}\n            x=\"16.77\"\n            y=\"31.95\"\n            width=\"10.98\"\n            height=\"2\"\n          />\n          <rect\n            style={{ fill: \"#fff\" }}\n            x=\"16.77\"\n            y=\"36.95\"\n            width=\"6.98\"\n            height=\"2\"\n          />\n          <rect\n            style={{ fill: \"#fff\" }}\n            x=\"25.77\"\n            y=\"36.95\"\n            width=\"2.98\"\n            height=\"2\"\n          />\n          <path style={{ fill: \"#fff\" }} d=\"M51.78,35.65h0v0Z\" />\n          <path\n            style={{ fill: \"#fff\" }}\n            d=\"M52.14,60.05a10.11,10.11,0,1,1,1.22-20.14h0a10.12,10.12,0,0,1,6.46,16.61,10.47,10.47,0,0,1-3.37,2.57A10.19,10.19,0,0,1,52.14,60.05Zm0-18.22a8,8,0,0,0-3.69.9,8.11,8.11,0,0,0,7.16,14.55,8.2,8.2,0,0,0,2.71-2.07,8.11,8.11,0,0,0-5.19-13.32h0A8.22,8.22,0,0,0,52.12,41.83Z\"\n          />\n          <path\n            style={{ fill: \"#fff\" }}\n            d=\"M50.55,54.2h0a1,1,0,0,1-.71-.29l-3.23-3.23L48,49.27l2.52,2.52,5.7-5.71,1.42,1.42-6.42,6.41A1,1,0,0,1,50.55,54.2Z\"\n          />\n          <path style={{ fill: \"#fff\" }} d=\"M51.78,35.65h0v0Z\" />\n        </g>\n      </g>\n    </SvgIcon>\n  )\n}\n\nexport default [\n  {\n    name: \"AWS - Cognito\",\n    provider: \"cognito\",\n    Icon: CognitoIcon,\n    dataset: {\n      interface: {},\n      samples: [],\n    },\n  },\n]\n","// @flow\nimport React from \"react\"\nimport { makeStyles } from \"@material-ui/core/styles\"\nimport { red } from \"@material-ui/core/colors\"\nimport Collapse from \"@material-ui/core/Collapse\"\nimport Fade from \"@material-ui/core/Fade\"\n\nconst useStyles = makeStyles({\n  root: {\n    position: \"fixed\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    bottom: 0,\n    left: 0,\n    right: 0,\n    alignItems: \"center\",\n    pointerEvents: \"none\",\n  },\n  errorBox: {\n    display: \"flex\",\n    backgroundColor: red[700],\n    color: \"#fff\",\n    padding: 4,\n    marginBottom: 4,\n  },\n})\n\nexport default ({ errors }) => {\n  const c = useStyles()\n  return (\n    <div className={c.root}>\n      {errors.map((err) => (\n        <Collapse key={err.id} in={err.life < 5000}>\n          <Fade in={err.life > 500}>\n            <div className={c.errorBox}>{err.message}</div>\n          </Fade>\n        </Collapse>\n      ))}\n    </div>\n  )\n}\n","// @flow\n\nimport { useState, useEffect } from \"react\"\n\nconst REFRESH_INTERVAL = 100\n\nexport default () => {\n  const [errors, changeErrors] = useState([])\n  useEffect(() => {\n    if (errors.length === 0) return () => {}\n    let interval = setInterval(() => {\n      changeErrors(\n        errors\n          .map((err) => ({\n            ...err,\n            life: err.life - REFRESH_INTERVAL,\n          }))\n          .filter((err) => err.life > 0)\n      )\n    }, REFRESH_INTERVAL)\n    return () => clearInterval(interval)\n  }, [errors])\n\n  function addError(message: string) {\n    changeErrors(\n      errors.concat([\n        {\n          id: Math.random().toString().split(\".\")[1],\n          message,\n          life: 5000,\n        },\n      ])\n    )\n  }\n\n  return [errors, addError]\n}\n","// @flow\n\nimport React, { useState } from \"react\"\nimport Button from \"@material-ui/core/Button\"\nimport { makeStyles } from \"@material-ui/core/styles\"\nimport authTemplates from \"./authTemplates\"\nimport SimpleDialog from \"../SimpleDialog\"\nimport isEmpty from \"lodash/isEmpty\"\nimport Survey from \"material-survey/components/Survey\"\nimport ErrorToasts from \"../ErrorToasts\"\nimport useErrors from \"../../utils/use-errors.js\"\nimport Amplify from \"aws-amplify\"\nimport { useAppConfig } from \"../AppConfig\"\nimport * as colors from \"@material-ui/core/colors\"\n\nconst useStyles = makeStyles({\n  bigButton: {\n    padding: 10,\n    width: 150,\n    height: 120,\n    border: \"1px solid #ccc\",\n    margin: 10,\n  },\n  bigIcon: {\n    width: 48,\n    height: 48,\n  },\n  cognitoIcon: {\n    width: 48,\n    height: 48,\n  },\n  howToSetupText: {\n    padding: 16,\n    color: colors.grey[600],\n    \"& a\": {\n      color: colors.blue[500],\n      textDecoration: \"none\",\n    },\n  },\n})\n\nconst forms = {\n  cognito: {\n    questions: [\n      {\n        name: \"auth.cognito.identity_pool_id\",\n        title: \"Amazon Cognito Identity Pool ID\",\n        placeholder: \"XX-XXXX-X:XXXXXXXX-XXXX-1234-abcd-1234567890ab\",\n        type: \"text\",\n        isRequired: true,\n      },\n      {\n        name: \"auth.cognito.region\",\n        title: \"AWS Region\",\n        placeholder: \"XX-XXXX-X\",\n        type: \"text\",\n        isRequired: true,\n      },\n      {\n        name: \"auth.cognito.user_pool_id\",\n        title: \"Amazon Cognito User Pool ID\",\n        placeholder: \"XX-XXXX-X_12ab34cd9\",\n        type: \"text\",\n        isRequired: true,\n      },\n      {\n        name: \"auth.cognito.user_pool_web_client_id\",\n        title: \"Amazon Cognito Web Client ID\",\n        placeholder: \"26-char alphanumeric string\",\n        type: \"text\",\n        isRequired: true,\n      },\n      {\n        name: \"auth.cognito.storage.aws_s3.bucket\",\n        title: \"Bucket AWS\",\n        placeholder: \"Name of the bucket\",\n        type: \"text\",\n        isRequired: true,\n      },\n      {\n        name: \"auth.cognito.storage.aws_s3.region\",\n        title: \"Region of the bucket\",\n        placeholder: \"XX-XXXX-X\",\n        type: \"text\",\n        isRequired: true,\n      },\n    ],\n  },\n}\n\nexport default ({ open, onClose, onSelect, onFinish, onAuthConfigured }) => {\n  const c = useStyles()\n  const [authProvider, setAuthProvider] = useState(null)\n  const [dialogTitle, setDialogTitle] = useState(\"Add Authentification\")\n  const [errors, addError] = useErrors()\n  const { appConfig, setAppConfig, fromConfig, setInConfig } = useAppConfig()\n\n  // TODO useAppConfig to load in existing configuration\n\n  const validateAuthProvider = async (answers) => {\n    if (answers.provider === \"cognito\") {\n      const config = {\n        Auth: {\n          identityPoolId: answers[\"auth.cognito.identity_pool_id\"],\n          region: answers[\"auth.cognito.region\"],\n          userPoolId: answers[\"auth.cognito.user_pool_id\"],\n          userPoolWebClientId: answers[\"auth.cognito.user_pool_web_client_id\"],\n          mandatorySignIn: true,\n          authenticationFlowType: \"USER_PASSWORD_AUTH\",\n        },\n        Storage: {\n          AWSS3: {\n            bucket: answers[\"auth.cognito.storage.aws_s3.bucket\"],\n            region: answers[\"auth.cognito.storage.aws_s3.region\"],\n          },\n        },\n      }\n\n      try {\n        Amplify.configure(config)\n      } catch (err) {\n        addError(\"Invalid Cognito config: \" + err.toString())\n      }\n\n      setAppConfig({\n        ...appConfig,\n        ...answers,\n        \"auth.provider\": answers.provider,\n      })\n      // TODO some kind of success message\n      onClose()\n    }\n  }\n\n  return (\n    <>\n      <SimpleDialog\n        title={dialogTitle}\n        open={open}\n        onClose={() => {\n          onClose()\n        }}\n        onFinish={onFinish}\n      >\n        {isEmpty(authProvider) &&\n          authTemplates.map((template, i) => (\n            <Button\n              key={template.name}\n              onClick={() => {\n                setAuthProvider(template.provider)\n                setDialogTitle(`Add Authentification for ${template.name}`)\n              }}\n              className={c.bigButton}\n            >\n              <div>\n                <div>{template.name}</div>\n                <div>\n                  <template.Icon className={c.cognitoIcon} />\n                </div>\n              </div>\n            </Button>\n          ))}\n        {authProvider === \"cognito\" && (\n          <div className={c.howToSetupText}>\n            Check this wiki{\" \"}\n            <a href=\"https://github.com/UniversalDataTool/universal-data-tool/wiki/Cognito---Amplify-Authentication-Setup-Instructions\">\n              guide for setting up AWS Cognito with the Universal Data Tool\n            </a>\n            .\n          </div>\n        )}\n        {!isEmpty(authProvider) && forms[authProvider] && (\n          <Survey\n            variant=\"flat\"\n            form={forms[authProvider]}\n            onQuestionChange={(questionId, newValue) => {\n              setInConfig(questionId, newValue)\n            }}\n            onFinish={(answers) => {\n              answers[\"provider\"] = authProvider\n              validateAuthProvider(answers)\n            }}\n            defaultAnswers={{\n              \"auth.cognito.identity_pool_id\": fromConfig(\n                \"auth.cognito.identity_pool_id\"\n              ),\n              \"auth.cognito.region\": fromConfig(\"auth.cognito.region\"),\n              \"auth.cognito.user_pool_id\": fromConfig(\n                \"auth.cognito.user_pool_id\"\n              ),\n              \"auth.cognito.user_pool_web_client_id\": fromConfig(\n                \"auth.cognito.user_pool_web_client_id\"\n              ),\n              \"auth.cognito.storage.aws_s3.bucket\": fromConfig(\n                \"auth.cognito.storage.aws_s3.bucket\"\n              ),\n              \"auth.cognito.storage.aws_s3.region\": fromConfig(\n                \"auth.cognito.storage.aws_s3.region\"\n              ),\n              \"auth.provider\": fromConfig(\"auth.provider\"),\n            }}\n          />\n        )}\n        <ErrorToasts errors={errors} />\n      </SimpleDialog>\n    </>\n  )\n}\n","// @flow\n\nimport React, { useState, useEffect } from \"react\"\nimport { makeStyles } from \"@material-ui/core/styles\"\nimport Grid from \"@material-ui/core/Grid\"\nimport Header from \"../Header\"\nimport Button from \"@material-ui/core/Button\"\nimport templates from \"./templates\"\nimport * as colors from \"@material-ui/core/colors\"\nimport { useDropzone } from \"react-dropzone\"\nimport CreateFromTemplateDialog from \"../CreateFromTemplateDialog\"\nimport AddAuthFromTemplateDialog from \"../AddAuthFromTemplateDialog\"\nimport { styled } from \"@material-ui/core/styles\"\nimport usePosthog from \"../../utils/use-posthog\"\nimport packageInfo from \"../../../package.json\"\nimport useEventCallback from \"use-event-callback\"\n\nconst useStyles = makeStyles({\n  container: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    backgroundColor: colors.grey[900],\n    height: \"100vh\",\n  },\n})\n\nconst ContentContainer = styled(\"div\")(({ theme }) => ({\n  display: \"flex\",\n  justifyContent: \"center\",\n  flexGrow: 1,\n  color: \"#fff\",\n  overflowY: \"scroll\",\n  padding: 100,\n  [theme.breakpoints.down(\"sm\")]: {\n    padding: 50,\n  },\n}))\nconst Content = styled(\"div\")(({ theme }) => ({\n  display: \"flex\",\n  flexDirection: \"column\",\n  width: \"calc(100% - 32px)\",\n  marginLeft: 16,\n  maxWidth: 1000,\n}))\n\nconst Title = styled(\"div\")({\n  marginTop: 20,\n  fontSize: 36,\n  fontWeight: 600,\n  color: colors.grey[300],\n})\n\nconst Subtitle = styled(\"div\")({\n  fontSize: 18,\n  // fontWeight: \"bold\",\n  marginTop: 8,\n  color: colors.grey[500],\n})\nconst ActionList = styled(\"div\")({ marginTop: 48 })\nconst Action = styled(\"a\")({\n  display: \"block\",\n  color: colors.blue[500],\n  marginTop: 4,\n  cursor: \"pointer\",\n  textDecoration: \"none\",\n})\nconst ActionTitle = styled(\"div\")({\n  // fontWeight: \"bold\",\n  fontSize: 24,\n  marginBottom: 8,\n  color: colors.grey[500],\n})\nconst ActionText = styled(\"div\")({\n  color: colors.grey[300],\n  \"& a\": {\n    cursor: \"pointer\",\n    color: colors.blue[500],\n    textDecoration: \"none\",\n  },\n})\nconst Actionless = styled(\"div\")({\n  color: colors.grey[600],\n  paddingTop: 16,\n})\nconst BottomSpacer = styled(\"div\")({ height: 100 })\n\nexport default ({\n  onFileDrop,\n  onOpenTemplate,\n  showDownloadLink = true,\n  recentItems = [],\n  onOpenRecentItem,\n  onClickOpenSession,\n}) => {\n  const c = useStyles()\n  const posthog = usePosthog()\n\n  //const isDesktop = useIsDesktop()\n  const [newVersionAvailable, changeNewVersionAvailable] = useState(false)\n  useEffect(() => {\n    // if (!isDesktop) return\n    async function checkNewVersion() {\n      const newPackage = await fetch(\n        \"https://raw.githubusercontent.com/UniversalDataTool/universal-data-tool/master/package.json\"\n      ).then((r) => r.json())\n      if (newPackage.version !== packageInfo.version) {\n        changeNewVersionAvailable(newPackage.version)\n      }\n    }\n    checkNewVersion()\n  }, [])\n\n  const [\n    createFromTemplateDialogOpen,\n    changeCreateFromTemplateDialogOpen,\n  ] = useState(false)\n  const [addAuthFromDialogOpen, changeAddAuthFromDialogOpen] = useState(false)\n  const onDrop = useEventCallback((acceptedFiles) => {\n    onFileDrop(acceptedFiles[0])\n  })\n\n  let { getRootProps, getInputProps } = useDropzone({ onDrop })\n\n  return (\n    <div className={c.container}>\n      <CreateFromTemplateDialog\n        open={createFromTemplateDialogOpen}\n        onSelect={(template) => {\n          posthog.capture(\"template_clicked\", {\n            clicked_template: template.name,\n          })\n          onOpenTemplate(template)\n        }}\n        onClose={() => changeCreateFromTemplateDialogOpen(false)}\n      />\n      <AddAuthFromTemplateDialog\n        open={addAuthFromDialogOpen}\n        onSelect={(template) => onOpenTemplate(template)}\n        onClose={() => changeAddAuthFromDialogOpen(false)}\n      />\n      <Header\n        additionalButtons={[\n          newVersionAvailable && (\n            <Button\n              key=\"download-latest\"\n              className={c.headerButton}\n              href=\"https://github.com/OpenHumanAnnotation/universal-data-tool/releases\"\n            >\n              Download Version v{newVersionAvailable}\n            </Button>\n          ),\n          !newVersionAvailable && showDownloadLink && (\n            <Button\n              key=\"download\"\n              href=\"https://github.com/OpenHumanAnnotation/universal-data-tool/releases\"\n              className={c.headerButton}\n            >\n              Download\n            </Button>\n          ),\n        ].filter(Boolean)}\n      />\n      <ContentContainer>\n        <Content>\n          <Grid container>\n            <Grid xs={12} item>\n              <Title>Universal Data Tool</Title>\n              <Subtitle>Open-Source Data Labeling</Subtitle>\n            </Grid>\n            <Grid xs={6} item>\n              <ActionList>\n                <ActionTitle>Start</ActionTitle>\n                <Action\n                  onClick={() => {\n                    posthog.capture(\"template_clicked\", {\n                      clicked_template: \"empty\",\n                    })\n                    onOpenTemplate(templates.find((t) => t.name === \"Empty\"))\n                  }}\n                >\n                  New File\n                </Action>\n                <Action\n                  onClick={() => changeCreateFromTemplateDialogOpen(true)}\n                >\n                  Start from Template\n                </Action>\n                <Action {...getRootProps()}>\n                  <input {...getInputProps()} />\n                  Open File\n                </Action>\n                {onClickOpenSession && (\n                  <Action onClick={onClickOpenSession}>\n                    Open Collaborative Session\n                  </Action>\n                )}\n                <Action onClick={() => changeAddAuthFromDialogOpen(true)}>\n                  Add Authentification\n                </Action>\n                {/* <Action>Open Folder</Action> */}\n              </ActionList>\n              <ActionList>\n                <ActionTitle>Recent</ActionTitle>\n                {recentItems.length === 0 ? (\n                  <Actionless>No Recent Files</Actionless>\n                ) : (\n                  recentItems.map((ri, i) => (\n                    <Action key={i} onClick={() => onOpenRecentItem(ri)}>\n                      {ri.fileName}\n                    </Action>\n                  ))\n                )}\n              </ActionList>\n              <ActionList>\n                <ActionTitle>Help</ActionTitle>\n                <Action href=\"https://github.com/UniversalDataTool/universal-data-tool/releases\">\n                  Downloading and Installing UDT\n                </Action>\n                <Action href=\"https://dev.to/seveibar/make-bounding-boxes-for-artificial-intelligence-with-udt-1kai\">\n                  Labeling Images\n                </Action>\n                {/* <Action>Custom Data Entry</Action> */}\n                <Action href=\"https://github.com/UniversalDataTool/universal-data-tool\">\n                  Github Repository\n                </Action>\n                {/* <Action href=\"#\">\n                  How to Collaborate in Real-Time with UDT\n                </Action> */}\n              </ActionList>\n            </Grid>\n            <Grid xs={6} item>\n              <ActionList>\n                <ActionTitle>About</ActionTitle>\n                <ActionText>\n                  The Universal Data Tool (UDT) is an open-source web or\n                  downloadable tool for labeling data for usage in machine\n                  learning or data processing systems.\n                  <br />\n                  <br />\n                  The Universal Data Tool supports Computer Vision, Natural\n                  Language Processing (including Named Entity Recognition and\n                  Audio Transcription) workflows.\n                  <br />\n                  <br />\n                  The UDT uses an{\" \"}\n                  <a href=\"https://github.com/UniversalDataTool/udt-format\">\n                    open-source data format (.udt.json / .udt.csv)\n                  </a>{\" \"}\n                  that can be easily read by programs as a ground-truth dataset\n                  for machine learning algorithms.\n                  <br />\n                  <br />\n                </ActionText>\n              </ActionList>\n              <ActionList>\n                <ActionTitle>Instant Try Now</ActionTitle>\n                <ActionText>\n                  <Action\n                    style={{ display: \"inline\" }}\n                    onClick={() => changeCreateFromTemplateDialogOpen(true)}\n                  >\n                    Open a template\n                  </Action>{\" \"}\n                  to see how the UDT could work for your data.\n                </ActionText>\n              </ActionList>\n            </Grid>\n            <Grid xs={12} item>\n              <BottomSpacer />\n            </Grid>\n          </Grid>\n        </Content>\n      </ContentContainer>\n    </div>\n  )\n}\n","// @flow\nimport React, { useState, useEffect } from \"react\"\nimport TextField from \"@material-ui/core/TextField\"\nimport { makeStyles } from \"@material-ui/core/styles\"\nimport isEmpty from \"lodash/isEmpty\"\n\nconst useStyles = makeStyles({\n  textField: {\n    marginLeft: 8,\n  },\n})\n\nconst SAVE_WAIT = 2000\n\nexport default ({ value, onChange }) => {\n  const c = useStyles()\n  const [{ editing, newValue }, changeEditing] = useState({\n    editing: false,\n    newValue: value || \"\",\n  })\n\n  useEffect(() => {\n    if (!isEmpty(newValue) && newValue !== \"unnamed\") {\n      changeEditing({ editing, newValue: newValue })\n    } else {\n      changeEditing({ editing, newValue: value })\n    }\n  }, [newValue, editing, value])\n\n  useEffect(() => {\n    if (!editing) return\n    let listener = (e) => {\n      if (e.key === \"Enter\") {\n        onChange(newValue)\n        changeEditing({ editing: false })\n      }\n    }\n    window.addEventListener(\"keydown\", listener)\n    return () => {\n      window.removeEventListener(\"keydown\", listener)\n    }\n  }, [editing, newValue, onChange])\n\n  useEffect(() => {\n    if (!newValue) return\n    if (editing) {\n      let timeout = setTimeout(\n        () => {\n          onChange(newValue)\n          changeEditing({ editing: false })\n        },\n        value === newValue ? SAVE_WAIT * 5 : SAVE_WAIT\n      )\n\n      return () => clearTimeout(timeout)\n    } else {\n      return () => {}\n    }\n  }, [editing, newValue, value, onChange])\n\n  return (\n    <TextField\n      className={c.textField}\n      label=\"File Name\"\n      variant=\"outlined\"\n      size=\"small\"\n      InputProps={{\n        inputProps: { style: { color: \"#000\" } },\n      }}\n      onKeyDown={(e) => {\n        if (e.key === \"Enter\") {\n          e.preventDefault()\n          e.stopPropagation()\n          e.target.blur()\n        }\n      }}\n      onKeyPress={(e) => {\n        e.stopPropagation()\n      }}\n      onChange={(e) => {\n        changeEditing({\n          editing: true,\n          newValue: e.target.value,\n        })\n      }}\n      value={newValue || \"\"}\n    />\n  )\n}\n","// @flow weak\n\nimport React, { memo, useCallback, useReducer, useEffect } from \"react\"\nimport useEventCallback from \"use-event-callback\"\nimport { useLocalStorage } from \"react-use\"\nimport { styled } from \"@material-ui/core/styles\"\nimport range from \"lodash/range\"\nimport * as colors from \"@material-ui/core/colors\"\nimport classNames from \"classnames\"\nimport TablePagination from \"@material-ui/core/TablePagination\"\nimport Box from \"@material-ui/core/Box\"\nimport getBrushColorPalette from \"../../utils/get-brush-color-palette\"\n\nconst Container = styled(\"div\")({\n  flexWrap: \"wrap\",\n  height: \"100%\",\n  boxSizing: \"border-box\",\n  display: \"flex\",\n  flexDirection: \"column\",\n})\nconst EmptyState = styled(\"div\")({\n  fontSize: 24,\n  color: colors.grey[500],\n  padding: 30,\n  textAlign: \"center\",\n})\nconst SampleDiv = styled(\"div\")(({ color }) => ({\n  color: \"#fff\",\n  fontVariantNumeric: \"tabular-nums\",\n  margin: 4,\n  padding: 4,\n  backgroundColor: color[500],\n  display: \"inline-flex\",\n  fontSize: 14,\n  fontWeight: 500,\n  textAlign: \"center\",\n  justifyContent: \"center\",\n  minWidth: \"3em\",\n  borderRadius: 3,\n  cursor: \"pointer\",\n  userSelect: \"none\",\n  transition:\n    \"box-shadow 200ms ease, transform 200ms ease, background-color 200ms ease\",\n  \"&:hover\": {\n    backgroundColor: color[700],\n  },\n  // color: color.isFaded ? \"#000\" : \"#fff\",\n  \"&.selected\": {\n    backgroundColor: color[700],\n    boxShadow: `0px 0px 2px 1px ${color[\"A200\"]}`,\n    transform: \"scale(1.05,1.05)\",\n  },\n}))\n\nconst Sample = memo(\n  ({\n    index,\n    onClick,\n    completed,\n    selected,\n    onMouseDown,\n    onMouseUp,\n    onMouseEnter,\n    brush,\n  }) => {\n    return (\n      <SampleDiv\n        className={classNames({ completed, selected })}\n        onClick={() => onClick(index)}\n        onMouseDown={() => onMouseDown(index)}\n        onMouseUp={() => onMouseUp(index)}\n        onMouseEnter={() => onMouseEnter(index)}\n        color={getBrushColorPalette(brush)}\n      >\n        {index}\n      </SampleDiv>\n    )\n  },\n  function (p, n) {\n    return (\n      p.index === n.index &&\n      p.completed === n.completed &&\n      p.selected === n.selected &&\n      p.brush === n.brush\n    )\n  }\n)\n\nexport default ({ count, completed = [], samples, onClick }) => {\n  const [samplesPerPage, changeSamplesPerPage] = useLocalStorage(\n    \"samplesPerPage\",\n    100\n  )\n  const [sampleOffset, changeSampleOffset] = useLocalStorage(\"sampleOffset\", 0)\n\n  useEffect(() => {\n    if (sampleOffset > count) {\n      changeSampleOffset(0)\n    }\n  }, [changeSampleOffset, sampleOffset, count])\n\n  const [selectRange, changeSelectRange] = useReducer((state, newValue) => {\n    if (newValue === null) return null\n    if (typeof newValue === \"number\") {\n      if (!state) return null\n      return [Math.min(newValue, state[0]), Math.max(newValue + 1, state[1])]\n    }\n    return newValue\n  }, null)\n\n  const startSelectRange = useCallback(\n    (index) => changeSelectRange([index, index + 1]),\n    [changeSelectRange]\n  )\n  const moveSelectRange = useCallback((index) => changeSelectRange(index), [\n    changeSelectRange,\n  ])\n  const endSelectRange = useCallback(() => {}, [])\n  const checkAndNullifySelectRange = useCallback(\n    (e) => {\n      if (e.buttons !== 1) {\n        changeSelectRange(null)\n      }\n    },\n    [changeSelectRange]\n  )\n  const onClickMemo = useEventCallback(onClick)\n\n  return (\n    <Container\n      onMouseUp={checkAndNullifySelectRange}\n      onMouseEnter={checkAndNullifySelectRange}\n    >\n      {count === 0 && (\n        <EmptyState>\n          No samples, try using \"Import Toy Dataset\" in Samples > Import\n        </EmptyState>\n      )}\n      <Box flexGrow={1}>\n        {range(\n          sampleOffset,\n          Math.min(count, sampleOffset + samplesPerPage)\n        ).map((i) => (\n          <Sample\n            onClick={onClickMemo}\n            key={i}\n            index={i}\n            completed={completed[i]}\n            brush={completed[i] ? samples[i].brush || \"complete\" : \"incomplete\"}\n            selected={selectRange && i >= selectRange[0] && i < selectRange[1]}\n            onMouseDown={startSelectRange}\n            onMouseEnter={moveSelectRange}\n            onMouseUp={endSelectRange}\n          />\n        ))}\n      </Box>\n      <TablePagination\n        rowsPerPageOptions={[100, 250, 500, 1000, 2000, 10000]}\n        component=\"div\"\n        count={count}\n        rowsPerPage={samplesPerPage}\n        page={Math.floor(sampleOffset / samplesPerPage)}\n        labelRowsPerPage=\"Samples per Page:\"\n        onChangePage={(e, newPage) =>\n          changeSampleOffset(newPage * samplesPerPage)\n        }\n        onChangeRowsPerPage={(e) => changeSamplesPerPage(+e.target.value)}\n      />\n    </Container>\n  )\n}\n","// @flow weak\nimport React, { useState } from \"react\"\nimport { styled } from \"@material-ui/core/styles\"\nimport SimpleDialog from \"../SimpleDialog\"\nimport Select from \"react-select\"\nimport * as colors from \"@material-ui/core/colors\"\n\nconst SelectContainer = styled(\"div\")({\n  marginTop: 8,\n  marginBottom: 16,\n})\nconst TextArea = styled(\"textarea\")({\n  width: \"100%\",\n  minHeight: 300,\n})\nconst ErrorText = styled(\"div\")({\n  color: colors.red[600],\n  padding: 16,\n})\n\nconst autoDetectOptions = [\n  {\n    label: \"Auto Detect File Type\",\n    value: \"auto_detect\",\n  },\n  {\n    label: \"Image URLs\",\n    value: \"images\",\n  },\n]\n\nexport default ({ open, onClose, onAddSamples }) => {\n  const [content, changeContent] = useState(\"\")\n  const [urlType, changeURLType] = useState(\"auto_detect\")\n  const [error, setError] = useState(\"\")\n  return (\n    <SimpleDialog\n      title=\"Paste Urls\"\n      open={open}\n      onClose={onClose}\n      actions={[\n        {\n          text: \"Add Samples\",\n          onClick: () => {\n            try {\n              onAddSamples(\n                content\n                  .split(\"\\n\")\n                  .map((l) => l.trim())\n                  .filter(Boolean)\n                  .map((s) => {\n                    if (urlType === \"images\") {\n                      return { imageUrl: s }\n                    }\n                    let extension = s\n                      .replace(/\\?.*/g, \"\")\n                      .split(\".\")\n                      .slice(-1)[0]\n                    if (s.includes(\"gstatic.com/images\")) {\n                      extension = \"jpg\"\n                    }\n                    switch (extension.toLowerCase()) {\n                      case \"png\":\n                      case \"jpg\":\n                      case \"gif\":\n                      case \"jpeg\":\n                      case \"bmp\": {\n                        return { imageUrl: s }\n                      }\n                      case \"pdf\": {\n                        return { pdfUrl: s }\n                      }\n                      case \"mp3\":\n                      case \"wav\": {\n                        return { audioUrl: s }\n                      }\n                      default: {\n                        throw new Error(\n                          `extension not recognized: \"${extension}\" in \"${s}\"`\n                        )\n                        // TODO if the user doesn't care, return null (this\n                        // behavior could be enabled with textfield option)\n                      }\n                    }\n                  })\n                  .filter(Boolean)\n              )\n            } catch (e) {\n              setError(e.toString())\n            }\n          },\n        },\n      ]}\n    >\n      <SelectContainer>\n        <Select\n          options={autoDetectOptions}\n          defaultValue={autoDetectOptions[0]}\n          onChange={(opt) => {\n            changeURLType(opt.value)\n          }}\n        />\n      </SelectContainer>\n      {error && <ErrorText>{error}</ErrorText>}\n      <TextArea\n        onChange={(e, v) => changeContent(e.target.value)}\n        placeholder={\"Paste URLs here\\nOne URL per line\"}\n      />\n    </SimpleDialog>\n  )\n}\n","import isEmpty from \"lodash/isEmpty\"\nexport default (sample) => {\n  var sampleName\n  if (!isEmpty(sample)) {\n    if (!isEmpty(sample.imageUrl)) {\n      sampleName = decodeURI(sample.imageUrl).match(\n        `.*\\\\/(([^\\\\/\\\\\\\\&\\\\?]*)\\\\.([a-zA-Z0-9]*))(\\\\?|$)`\n      )\n    }\n    if (!isEmpty(sample.videoUrl)) {\n      sampleName = decodeURI(sample.videoUrl).match(\n        `.*\\\\/(([^\\\\/\\\\\\\\&\\\\?]*)\\\\.([a-zA-Z0-9]*))(\\\\?|$)`\n      )\n    }\n    if (!isEmpty(sample.audioUrl)) {\n      sampleName = decodeURI(sample.audioUrl).match(\n        `.*\\\\/(([^\\\\/\\\\\\\\&\\\\?]*)\\\\.([a-zA-Z0-9]*))(\\\\?|$)`\n      )\n    }\n    if (!isEmpty(sample.pdfUrl)) {\n      sampleName = decodeURI(sample.pdfUrl).match(\n        `.*\\\\/(([^\\\\/\\\\\\\\&\\\\?]*)\\\\.([a-zA-Z0-9]*))(\\\\?|$)`\n      )\n    }\n  }\n  return sampleName\n}\n","import isEmpty from \"lodash/isEmpty\"\nexport default (UrlOfAFile) => {\n  var typeOfFile = \"File\"\n  var fileExtension = UrlOfAFile.match(\n    `\\\\/?([^\\\\/\\\\\\\\&\\\\?]*\\\\.([a-zA-Z0-9]*))(\\\\?|$)`\n  )\n  if (!isEmpty(fileExtension)) {\n    fileExtension = fileExtension[2].toLowerCase()\n  }\n  if (\n    fileExtension === \"jpg\" ||\n    fileExtension === \"jpeg\" ||\n    fileExtension === \"png\" ||\n    fileExtension === \"ico\" ||\n    fileExtension === \"jpe\" ||\n    fileExtension === \"gif\"\n  )\n    typeOfFile = \"Image\"\n  if (fileExtension === \"mp4\" || fileExtension === \"mkv\") typeOfFile = \"Video\"\n  if (fileExtension === \"mp3\") typeOfFile = \"Audio\"\n  if (fileExtension === \"pdf\") typeOfFile = \"PDF\"\n  if (fileExtension === \"txt\") typeOfFile = \"Texte\"\n  return typeOfFile\n}\n","// @flow weak\n\nimport getSampleNameFromURL from \"./get-sample-name-from-url\"\nimport RecognizeFileExtension from \"./RecognizeFileExtension\"\nimport isEmpty from \"lodash/isEmpty\"\nimport { setIn } from \"seamless-immutable\"\n\nexport const getSampleName = (sample) => {\n  var sampleName\n  if (!isEmpty(sample.sampleName)) {\n    sampleName = sample.sampleName\n  } else {\n    sampleName = getSampleNameFromURL(sample)[1]\n  }\n  return sampleName\n}\n\nexport const getSampleUrl = (sample) => {\n  return (\n    sample.imageUrl ||\n    sample.videoUrl ||\n    sample.audioUrl ||\n    sample.pdfUrl ||\n    undefined\n  )\n}\n\nexport const constructSample = (sampleName, url, annotation) => {\n  var type = RecognizeFileExtension(url)\n  if (type === \"Image\") {\n    return {\n      annotation: annotation,\n      imageUrl: url,\n      sampleName: sampleName,\n    }\n  }\n  if (type === \"Video\") {\n    return {\n      annotation: annotation,\n      videoUrl: url,\n      sampleName: sampleName,\n    }\n  }\n  if (type === \"Audio\") {\n    return {\n      annotation: annotation,\n      audioUrl: url,\n      sampleName: sampleName,\n    }\n  }\n  if (type === \"PDF\") {\n    return {\n      annotation: annotation,\n      pdfUrl: url,\n      sampleName: sampleName,\n    }\n  }\n}\nexport const createOneNewSample = constructSample\n\nexport const getSampleWithName = (dataset, sampleName) => {\n  if (!dataset || !dataset.samples || !sampleName) return null\n  const { samples } = dataset\n  for (var i = 0; i < samples.length; i++) {\n    if (!isEmpty(samples[i])) {\n      const nameToSearch = getSampleNameFromURL(samples[i])\n      if (typeof samples[i].sampleName !== \"undefined\") {\n        nameToSearch[1] = samples[i].sampleName\n      }\n      if (nameToSearch[1] === sampleName) {\n        return samples[i]\n      }\n    }\n  }\n  return null\n}\nexport const getSampleWithThisSampleName = getSampleWithName\n\nexport const addNamesToSamples = (dataset) => {\n  if (!dataset || !dataset.samples) return\n  for (var i = 0; i < dataset.samples.length; i++) {\n    if (isEmpty(dataset.samples[i])) continue\n    var oldsample = dataset.samples[i]\n    var sampleName\n    if (!isEmpty(oldsample.document)) {\n      // Deal with the exception of the text file (they don't have url)\n      sampleName = [\n        oldsample.document,\n        \"sample\" + i.toString() + \".txt\",\n        \"sample\",\n        \"txt\",\n      ]\n    } else {\n      sampleName = getSampleNameFromURL(oldsample)\n      sampleName = renameSampleFromUrl(dataset.samples, oldsample, sampleName)\n    }\n    oldsample = setIn(oldsample, [\"sampleName\"], sampleName[1])\n    dataset = setIn(dataset, [\"samples\", i], oldsample)\n  }\n  return dataset\n}\nexport const setSamplesName = addNamesToSamples\n\nexport const renameSampleFromUrl = (samples, sampleToChange, sampleName) => {\n  var boolName = true\n  var v = 1\n  while (boolName) {\n    var sampletocompare1 = getSampleWithThisSampleName(sampleName[1], samples)\n    if (\n      sampletocompare1 !== null &&\n      getSampleUrl(sampletocompare1) !== getSampleUrl(sampleToChange)\n    ) {\n      if (isEmpty(sampleName[2].match(\"(.*)\\\\([0-9]*\\\\)$\"))) {\n        sampleName[1] =\n          sampleName[2] + \"(\" + v.toString() + \").\" + sampleName[3]\n      } else {\n        sampleName[1] =\n          sampleName[2].match(\"(.*)\\\\([0-9]*\\\\)$\")[1] +\n          \"(\" +\n          v.toString() +\n          \")\" +\n          +\".\" +\n          sampleName[3]\n      }\n      v++\n    } else {\n      boolName = false\n    }\n  }\n  return sampleName\n}\n\nexport const eraseAnnotation = (samples) => {\n  var samplesWithoutAnnotation = []\n  for (let i = 0; i < samples.length; i++) {\n    let Newsample = samples[i]\n    if (!isEmpty(Newsample.annotation)) {\n      Newsample = setIn(Newsample, [\"annotation\"], null)\n    }\n    samplesWithoutAnnotation.push(Newsample)\n  }\n  return samplesWithoutAnnotation\n}\n\nexport const concatSample = (actualSamples, newSamples, annotationToKeep) => {\n  var Tabsamples = actualSamples\n  if (annotationToKeep === \"incoming\") {\n    Tabsamples = eraseAnnotation(actualSamples)\n  }\n\n  var Tabsamples2 = newSamples\n  if (annotationToKeep === \"current\") {\n    Tabsamples2 = eraseAnnotation(newSamples)\n  }\n  var concatSamples = Tabsamples.concat(Tabsamples2)\n  return concatSamples\n}\n\nexport const getFileDifferences = (objectOfRef, objectToCheck) => {\n  var resultSet = {\n    fileName: false,\n    content: {\n      interface: {\n        type: false,\n        labels: false,\n        regionTypesAllowed: false,\n      },\n      samples: false,\n    },\n    id: false,\n    mode: false,\n    any: false,\n  }\n  // Check if the object to check exist if not return false\n  if (isEmpty(objectToCheck)) return resultSet\n\n  // Check if the object of reference exist if not return true\n  if (isEmpty(objectOfRef)) {\n    resultSet.fileName = true\n    resultSet.content.interface.type = true\n    resultSet.content.interface.labels = true\n    resultSet.content.interface.regionTypesAllowed = true\n    resultSet.content.samples = true\n    resultSet.id = true\n    resultSet.mode = true\n    resultSet.any = true\n    return resultSet\n  }\n\n  if (objectOfRef !== objectToCheck) {\n    resultSet.any = true\n  } else {\n    return resultSet\n  }\n\n  // Check if the id doesn't exist or have change\n  if (!isEmpty(objectToCheck.id)) {\n    if (isEmpty(objectOfRef.id)) resultSet.id = true\n    else if (objectToCheck.id !== objectOfRef.id) resultSet.id = true\n  }\n\n  // Check if the content doesn't exist or have change\n  if (!isEmpty(objectToCheck.content)) {\n    if (isEmpty(objectOfRef.content)) {\n      resultSet.content.interface.type = true\n      resultSet.content.interface.labels = true\n      resultSet.content.interface.regionTypesAllowed = true\n      resultSet.content.samples = true\n    } else if (objectToCheck.content !== objectOfRef.content) {\n      //Check if the interface doesn't exist or have change\n      if (!isEmpty(objectToCheck.content.interface)) {\n        if (isEmpty(objectOfRef.content.interface)) {\n          resultSet.content.interface.type = true\n          resultSet.content.interface.labels = true\n          resultSet.content.interface.regionTypesAllowed = true\n        } else if (\n          objectToCheck.content.interface !== objectOfRef.content.interface\n        ) {\n          //Check if the type doesn't exist or have change\n          if (!isEmpty(objectToCheck.content.interface.type)) {\n            if (isEmpty(objectOfRef.content.interface.type)) {\n              resultSet.content.interface.type = true\n            } else if (\n              objectToCheck.content.interface.type !==\n              objectOfRef.content.interface.type\n            ) {\n              resultSet.content.interface.type = true\n            }\n          }\n          //Check if the labels doesn't exist or have change\n          if (!isEmpty(objectToCheck.content.interface.labels)) {\n            if (isEmpty(objectOfRef.content.interface.labels)) {\n              resultSet.content.interface.labels = true\n            } else if (\n              objectToCheck.content.interface.labels !==\n              objectOfRef.content.interface.labels\n            ) {\n              resultSet.content.interface.labels = true\n            }\n          }\n          //Check if the regionsTypesAllowed doesn't exist or have change\n          if (!isEmpty(objectToCheck.content.interface.regionTypesAllowed)) {\n            if (isEmpty(objectOfRef.content.interface.regionTypesAllowed)) {\n              resultSet.content.interface.regionTypesAllowed = true\n            } else if (\n              objectToCheck.content.interface.regionTypesAllowed !==\n              objectOfRef.content.interface.regionTypesAllowed\n            ) {\n              resultSet.content.interface.regionTypesAllowed = true\n            }\n          }\n        }\n      }\n      //Check if the samples doesn't exist or have change\n      if (!isEmpty(objectToCheck.content.samples)) {\n        if (isEmpty(objectOfRef.content.samples)) {\n          resultSet.content.samples = true\n        } else if (\n          objectToCheck.content.samples !== objectOfRef.content.samples\n        ) {\n          resultSet.content.samples = true\n        }\n      }\n    }\n  }\n\n  // Check if the mode doesn't exist or have change\n  if (!isEmpty(objectToCheck.mode)) {\n    if (isEmpty(objectOfRef.mode)) resultSet.mode = true\n    else if (objectToCheck.mode !== objectOfRef.mode) resultSet.mode = true\n  }\n\n  // Check if the fileName doesn't exist or have change\n  if (!isEmpty(objectToCheck.fileName)) {\n    if (isEmpty(objectOfRef.fileName)) resultSet.fileName = true\n    else if (objectToCheck.fileName !== objectOfRef.fileName)\n      resultSet.fileName = true\n  }\n  //Default behavior return false\n  return resultSet\n}\n\nexport const fileHasChanged = getFileDifferences\n","import isEmpty from \"lodash/isEmpty\"\nimport Amplify, { Storage } from \"aws-amplify\"\nimport * as datasetHelper from \"../../utils//dataset-helper\"\nfunction CheckIfAnnotationExist(result, folderToFetch) {\n  return result.find(\n    (element) => element.key === `${folderToFetch}/annotations/annotations.json`\n  )\n}\n\nfunction GetSampleFromAnnotation(json, samples) {\n  if (isEmpty(json.content.samples)) return\n  var newSamples = []\n  for (var i = 0; i < json.content.samples.length; i++) {\n    var sampleName = datasetHelper.getSampleName(json.content.samples[i])\n    var annotation = json.content.samples[i].annotation\n    var sampleFound = datasetHelper.getSampleWithThisSampleName(\n      sampleName,\n      samples\n    )\n    var url\n    if (sampleFound === null) {\n      url = datasetHelper.getSampleUrl(samples)\n    } else {\n      url = datasetHelper.getSampleUrl(sampleFound)\n    }\n    newSamples.push(\n      datasetHelper.createOneNewSample(sampleName, url, annotation)\n    )\n  }\n  json.content.samples = newSamples\n}\n\nexport default async (result, samples, folderToFetch, authConfig) => {\n  Amplify.configure(authConfig)\n\n  var json = null\n  if (CheckIfAnnotationExist(result, folderToFetch)) {\n    await Storage.get(`${folderToFetch}/annotations/annotations.json`, {\n      expires: 24 * 60 * 60 * 2000,\n      level: \"private\",\n    })\n      .then(async (result) => {\n        await fetch(result).then(async (data) => {\n          return await data.json().then(async (result) => {\n            if (typeof result.content === \"undefined\") return\n            json = result\n            GetSampleFromAnnotation(json, samples)\n          })\n        })\n      })\n      .catch((err) => {\n        console.log(\"error getting link for s3 image\", err)\n        return null\n      })\n  }\n  return json\n}\n","import RecognizeFileExtension from \"../../utils/RecognizeFileExtension\"\nimport Amplify, { Storage } from \"aws-amplify\"\n\nasync function setUrl(result, configImport) {\n  if (configImport.loadProjectIsSelected) {\n    if (RecognizeFileExtension(result) === \"Image\") {\n      return { imageUrl: `${result}` }\n    } else if (RecognizeFileExtension(result) === \"Video\") {\n      return { videoUrl: `${result}` }\n    } else if (RecognizeFileExtension(result) === \"Audio\") {\n      return { audioUrl: `${result}` }\n    } else if (RecognizeFileExtension(result) === \"PDF\") {\n      return { pdfUrl: `${result}` }\n    }\n  } else {\n    if (\n      RecognizeFileExtension(result) === configImport.typeOfFileToLoad &&\n      configImport.typeOfFileToLoad === \"Image\"\n    ) {\n      return { imageUrl: `${result}` }\n    } else if (\n      RecognizeFileExtension(result) === configImport.typeOfFileToLoad &&\n      configImport.typeOfFileToLoad === \"Video\"\n    ) {\n      return { videoUrl: `${result}` }\n    } else if (\n      RecognizeFileExtension(result) === configImport.typeOfFileToLoad &&\n      configImport.typeOfFileToLoad === \"Audio\"\n    ) {\n      return { audioUrl: `${result}` }\n    } else if (\n      RecognizeFileExtension(result) === configImport.typeOfFileToLoad &&\n      configImport.typeOfFileToLoad === \"PDF\"\n    ) {\n      return { pdfUrl: `${result}` }\n    } else if (\n      RecognizeFileExtension(result) === configImport.typeOfFileToLoad &&\n      configImport.typeOfFileToLoad === \"Texte\"\n    ) {\n      var texte = await fetchTextInFile(result)\n      return { document: `${texte}` }\n    }\n  }\n}\nasync function fetchTextInFile(urlSource) {\n  var proxyUrl = \"https://cors-anywhere.herokuapp.com/\"\n  var response\n  var url\n  url = proxyUrl + urlSource\n  response = await fetch(url, {\n    method: \"GET\",\n  }).catch((error) => {\n    console.log(\"Looks like there was a problem: \\n\", error)\n  })\n  const texte = await response.text()\n  return texte\n}\nexport default async (result, folderToFetch, configImport, authConfig) => {\n  Amplify.configure(authConfig)\n  var samples = []\n  for (let i = 0; i < result.length; i++) {\n    if (result[i].key.match(`(${folderToFetch}/data).*(\\\\.).*`)) {\n      await Storage.get(result[i].key, {\n        expires: 24 * 60 * 60 * 2000,\n        level: \"private\",\n      })\n        .then(async (result) => {\n          samples.push(await setUrl(result, configImport))\n        })\n        .catch((err) => {\n          console.log(\"error getting link for s3 image\", err)\n          return null\n        })\n    }\n  }\n  return samples\n}\n","import JAC from \"jac-format\"\n\nconst alternativeSpellings = {\n  imageUrl: [\n    \"image_url\",\n    \"image_urls\",\n    \"image\",\n    \"image_src\",\n    \"img_url\",\n    \"img\",\n    \"img_src\",\n  ],\n  document: [\"text\"],\n}\nconst badSpellingMap = {}\nfor (const [correct, badSpellings] of Object.entries(alternativeSpellings)) {\n  for (const badSpelling of badSpellings) {\n    badSpellingMap[badSpelling] = correct\n  }\n}\n\nconst convertTaskDatumMistakes = (sample) => {\n  for (const key in sample) {\n    const normalizedKey = key.toLowerCase().replace(/ /g, \"_\")\n    const correction = badSpellingMap[normalizedKey]\n    if (correction) {\n      sample[correction] = sample[key]\n      delete sample[key]\n    }\n  }\n  return sample\n}\n\nexport default (csv) => {\n  const json = JAC.fromCSV(csv, { derivePath: () => \"samples.*\" })\n  if (!json.samples) throw new Error(\"No samples\")\n  return {\n    interface: json.interface,\n    taskOutput: json.samples.map((sample) => sample.output),\n    samples: json.samples.map(convertTaskDatumMistakes).map((sample) => {\n      delete sample.output\n      return sample\n    }),\n  }\n}\n","import isEmpty from \"lodash/isEmpty\"\nexport default (typeAuthorize, file) => {\n  function interfaceFileType(type) {\n    if (\n      type === \"image_classification\" ||\n      type === \"image_segmentation\" ||\n      type === \"composite\"\n    )\n      return \"Image\"\n    if (type === \"video_segmentation\") return \"Video\"\n    if (type === \"audio_transcription\") return \"Audio\"\n    if (type === \"data_entry\") return \"PDF\"\n    if (type === \"text_entity_recognition\" || type === \"text_classification\")\n      return \"Texte\"\n    if (isEmpty(type)) return \"Empty\"\n    return \"File\"\n  }\n\n  function typesamplesSample(samples) {\n    if (isEmpty(samples) || isEmpty(samples[0])) return \"Empty\"\n    if (!isEmpty(samples[0].imageUrl)) return \"Image\"\n    if (!isEmpty(samples[0].videoUrl)) return \"Video\"\n    if (!isEmpty(samples[0].audioUrl)) return \"Audio\"\n    if (!isEmpty(samples[0].pdfUrl)) return \"PDF\"\n    if (!isEmpty(samples[0].document)) return \"Texte\"\n    return \"File\"\n  }\n  var result = [null, null]\n  if (isEmpty(file)) return false\n  result[0] = interfaceFileType(file.content.interface.type)\n  result[1] = typesamplesSample(file.content.samples)\n  if (typeAuthorize.includes(result[0]) && typeAuthorize.includes(result[1]))\n    return true\n  return false\n}\n","import { setIn } from \"seamless-immutable\"\nimport * as datasetHelper from \"../../utils//dataset-helper\"\nimport isEmpty from \"lodash/isEmpty\"\nexport default (file, json, configImport) => {\n  var contentOldFile = file.content\n  contentOldFile = setIn(\n    contentOldFile,\n    [\"samples\"],\n    datasetHelper.concatSample(\n      file.content.samples,\n      json.content.samples,\n      configImport.annotationToKeep\n    )\n  )\n\n  contentOldFile = setIn(contentOldFile, [\"interface\"], json.content.interface)\n  file = setIn(file, [\"content\"], contentOldFile)\n  if (isEmpty(file.fileName) || file.fileName === \"unnamed\")\n    file = setIn(file, [\"fileName\"], json.fileName)\n  return file\n}\n","// @flow weak\nimport React, { useState, useEffect, useRef, useCallback } from \"react\"\nimport SimpleDialog from \"../SimpleDialog\"\nimport DataTable from \"react-data-table-component\"\nimport Radio from \"@material-ui/core/Radio\"\nimport FormControl from \"@material-ui/core/FormControl\"\nimport FormLabel from \"@material-ui/core/FormLabel\"\nimport RadioGroup from \"@material-ui/core/RadioGroup\"\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\"\nimport { Storage } from \"aws-amplify\"\nimport isEmpty from \"lodash/isEmpty\"\nimport { useLocalStorage } from \"react-use\"\nimport IconButton from \"@material-ui/core/IconButton\"\nimport SettingsIcon from \"@material-ui/icons/Settings\"\nimport StorageIcon from \"@material-ui/icons/Storage\"\nimport Button from \"@material-ui/core/Button\"\nimport GetAnnotationFromAFolderAWS from \"./get-annotation-from-aws\"\nimport GetImageFromAFolderAWS from \"./get-images-from-aws\"\nimport setButtonNameAddSample from \"./set-button-add-sample-name\"\nimport * as datasetHelper from \"../../utils//dataset-helper\"\nimport setTypeOfFileToLoadAndDisable from \"./set-type-of-file-to-load-and-disable\"\nimport initConfigImport from \"./init-config-import\"\nimport setAnnotationFromAws from \"./set-annotation-from-aws\"\nimport useAuth from \"../../utils/auth-handlers/use-auth.js\"\n\nconst selectedStyle = { color: \"DodgerBlue\" }\nconst tableStyle = {\n  marginLeft: \"auto\",\n  marginRight: \"auto\",\n  width: \"100%\",\n}\nconst expandedDataColumns = [\n  { name: \"Data\", selector: \"data\", sortable: true },\n  { name: \"Last Modified\", selector: \"lastModified\", sortable: true },\n]\n\nconst expandedAnnotationsColumns = [\n  { name: \"Annotations\", selector: \"annotation\" },\n  { name: \"Last Modified\", selector: \"lastModified\", sortable: true },\n]\n\nconst columns = [{ name: \"Projects\", selector: \"folder\", sortable: true }]\n\nconst customStyles = {\n  headCells: {\n    style: {\n      paddingLeft: \"10px\",\n      \"font-weight\": \"bold\",\n    },\n  },\n  cells: {\n    style: {\n      paddingLeft: \"25px\",\n    },\n  },\n}\n\nconst ExpandedRow = ({ data }) => {\n  const { rowData, rowAnnotations } = data\n  return (\n    <>\n      <DataTable\n        style={{\n          boxSizing: \"border-box\",\n          paddingLeft: \"50px\",\n          paddingRight: \"10px\",\n        }}\n        dense\n        striped\n        noHeader\n        columns={expandedAnnotationsColumns}\n        data={rowAnnotations}\n        noDataComponent='Make sure the project has \"annotations\" folder'\n        pagination={rowData.length > 10}\n        paginationPerPage={10}\n        paginationRowsPerPageOptions={[10, 20, 25, 50, 100, 200]}\n        customStyles={customStyles}\n      />\n      <DataTable\n        style={{\n          boxSizing: \"border-box\",\n          paddingLeft: \"50px\",\n          paddingRight: \"10px\",\n        }}\n        dense\n        striped\n        noHeader\n        columns={expandedDataColumns}\n        data={rowData}\n        noDataComponent={'Make sure the project has \"data\" folder'}\n        pagination={rowData.length > 10}\n        paginationPerPage={10}\n        paginationRowsPerPageOptions={[10, 20, 25, 50, 100, 200]}\n        customStyles={customStyles}\n      />\n    </>\n  )\n}\n\nexport default ({ file, open, onClose, onAddSamples, onChangeFile }) => {\n  const { authProvider, user, authConfig } = useAuth()\n  const [textButtonAdd, changetextButtonAdd] = useState(\"Add Samples\")\n  const [s3Content, changeS3Content] = useState(null)\n  const [dataForTable, changeDataForTable] = useState(null)\n  const [folderToFetch, setFolderToFetch] = useState(\"\")\n\n  const [configImport, setConfigImport] = useLocalStorage(\n    \"configImport\",\n    initConfigImport(file)\n  )\n  const lastObjectRef = useRef({})\n  const hasProjectStarted = useCallback(() => {\n    if (authProvider !== \"cognito\") return\n    if (\n      isEmpty(file) ||\n      isEmpty(file.content) ||\n      (isEmpty(file.content.interface) && isEmpty(file.content.samples))\n    )\n      return false\n    return true\n  }, [file, authProvider])\n\n  useEffect(() => {\n    if (authProvider !== \"cognito\") return\n    if (file === lastObjectRef.current) return\n    var configToSet = configImport\n    var changes = datasetHelper.fileHasChanged(lastObjectRef.current, file)\n    if (changes.content.interface.type || changes.content.samples) {\n      if (lastObjectRef.current !== {})\n        configToSet = setTypeOfFileToLoadAndDisable(configToSet, file)\n    }\n    setConfigImport({\n      ...configToSet,\n      projectStarted: hasProjectStarted(),\n      loadProjectIsSelected: hasProjectStarted()\n        ? false\n        : setConfigImport.loadProjectIsSelected,\n    })\n    lastObjectRef.current = file\n  }, [file, configImport, setConfigImport, hasProjectStarted, authProvider])\n\n  const handleAddSample = async () => {\n    var samples = await GetImageFromAFolderAWS(\n      s3Content,\n      folderToFetch,\n      configImport,\n      authConfig\n    )\n    var json = null\n    if (configImport.loadProjectIsSelected) {\n      json = await GetAnnotationFromAFolderAWS(\n        s3Content,\n        samples,\n        folderToFetch,\n        authConfig\n      )\n    }\n\n    if (\n      isEmpty(json) ||\n      isEmpty(json.content) ||\n      isEmpty(json.content.samples) ||\n      isEmpty(json.fileName)\n    ) {\n      onAddSamples(samples)\n    } else {\n      file = setAnnotationFromAws(file, json, configImport)\n      onChangeFile(file, true)\n      onAddSamples([])\n    }\n  }\n\n  const handleRowSelected = (whatsChanging) => {\n    if (!isEmpty(whatsChanging.selectedRows[0])) {\n      setFolderToFetch(whatsChanging.selectedRows[0].folder)\n      changeDataForTable((prevState) =>\n        prevState.map((row) => {\n          if (whatsChanging.selectedRows[0].id === row.id) {\n            row.isSelected = true\n          } else {\n            row.isSelected = false\n          }\n          return row\n        })\n      )\n    } else {\n      setFolderToFetch(null)\n      changeDataForTable((prevState) =>\n        prevState.map((row) => {\n          row.isSelected = false\n          return row\n        })\n      )\n    }\n  }\n  function changeLoadProjectIsSelected() {\n    setConfigImport({\n      ...configImport,\n      loadProjectIsSelected: !configImport.loadProjectIsSelected,\n    })\n  }\n\n  useEffect(() => {\n    var textToSet = setButtonNameAddSample(\n      configImport.loadProjectIsSelected,\n      configImport.typeOfFileToLoad,\n      dataForTable\n    )\n    changetextButtonAdd(textToSet)\n  }, [\n    configImport.loadProjectIsSelected,\n    configImport.typeOfFileToLoad,\n    dataForTable,\n  ])\n\n  useEffect(() => {\n    if (isEmpty(user)) {\n      changeS3Content(null)\n    } else if (!isEmpty(authConfig)) {\n      Storage.list(\"\", { level: \"private\" })\n        .then((result) => {\n          changeS3Content(result)\n          let _dataForTable = result\n            .filter((obj) => {\n              return obj.key.endsWith(\"/\") & (obj.key.split(\"/\").length === 2)\n            })\n            .map((obj, index) => {\n              const folder = obj.key.split(\"/\")[0]\n              const rowDataContent = result\n                .filter((obj) => {\n                  return (\n                    obj.key.startsWith(`${folder}/data/`) &\n                    !obj.key.endsWith(\"/\")\n                  )\n                })\n                .map((obj) => {\n                  return {\n                    data: obj.key.split(\"/data/\")[1],\n                    lastModified: obj.lastModified.toDateString(),\n                  }\n                })\n              const rowAnnotationsContent = result\n                .filter((obj) => {\n                  return (\n                    obj.key.startsWith(`${folder}/annotations/`) &\n                    !obj.key.endsWith(\"/\")\n                  )\n                })\n                .map((obj) => {\n                  return {\n                    annotation: obj.key.split(\"/annotations/\")[1],\n                    lastModified: obj.lastModified.toDateString(),\n                  }\n                })\n              return {\n                id: `${index}`,\n                folder: folder,\n                rowData: rowDataContent,\n                rowAnnotations: rowAnnotationsContent,\n                isSelected: true,\n              }\n            })\n          changeDataForTable(_dataForTable)\n        })\n        .catch((err) => console.log(err))\n    }\n  }, [user, authConfig])\n  return (\n    <SimpleDialog\n      title=\"Select Project\"\n      open={open}\n      onClose={onClose}\n      actions={[\n        {\n          text: textButtonAdd,\n          onClick: () => {\n            handleAddSample()\n          },\n          disabled: configImport.contentDialogBoxIsSetting,\n        },\n      ]}\n    >\n      <table style={tableStyle}>\n        <tbody>\n          <tr>\n            <th>\n              {configImport.loadProjectIsSelected ? (\n                <Button\n                  style={selectedStyle}\n                  onClick={changeLoadProjectIsSelected}\n                  disabled\n                >\n                  Load Project\n                </Button>\n              ) : (\n                <Button\n                  onClick={changeLoadProjectIsSelected}\n                  disabled={configImport.projectStarted}\n                >\n                  Load Project\n                </Button>\n              )}\n              {configImport.loadProjectIsSelected ? (\n                <Button onClick={changeLoadProjectIsSelected}>\n                  Load Samples\n                </Button>\n              ) : (\n                <Button\n                  style={selectedStyle}\n                  onClick={changeLoadProjectIsSelected}\n                  disabled\n                >\n                  Load Samples\n                </Button>\n              )}\n              <IconButton\n                onClick={() => {\n                  setConfigImport({\n                    ...configImport,\n                    contentDialogBoxIsSetting: !configImport.contentDialogBoxIsSetting,\n                  })\n                }}\n              >\n                {configImport.contentDialogBoxIsSetting ? (\n                  <StorageIcon></StorageIcon>\n                ) : (\n                  <SettingsIcon></SettingsIcon>\n                )}\n              </IconButton>\n            </th>\n          </tr>\n\n          {!configImport.contentDialogBoxIsSetting ? (\n            !isEmpty(dataForTable) && (\n              <tr>\n                <th>\n                  <DataTable\n                    expandableRows\n                    expandableRowsComponent={<ExpandedRow />}\n                    selectableRows\n                    selectableRowsHighlight\n                    selectableRowsNoSelectAll\n                    selectableRowsComponent={Radio}\n                    dense\n                    noHeader\n                    noTableHead\n                    columns={columns}\n                    onSelectedRowsChange={handleRowSelected}\n                    selectableRowSelected={(row) => row.isSelected}\n                    data={dataForTable}\n                    pagination={dataForTable.length > 10}\n                    paginationPerPage={10}\n                    paginationRowsPerPageOptions={[10, 20, 25, 50, 100, 200]}\n                  />\n                </th>\n              </tr>\n            )\n          ) : (\n            <tr>\n              <th>\n                {configImport.loadProjectIsSelected ? (\n                  <FormControl component=\"fieldset\">\n                    <FormLabel component=\"legend\">\n                      Annotation processing\n                    </FormLabel>\n                    <RadioGroup\n                      aria-label=\"option1\"\n                      onChange={(event) => {\n                        setConfigImport({\n                          ...configImport,\n                          annotationToKeep: event.target.value,\n                        })\n                      }}\n                    >\n                      <FormControlLabel\n                        value=\"both\"\n                        control={<Radio />}\n                        label=\"Keep both annotations\"\n                        checked={configImport.annotationToKeep === \"both\"}\n                      />\n                      <FormControlLabel\n                        value=\"incoming\"\n                        control={<Radio />}\n                        label=\"Keep incoming annotations\"\n                        checked={configImport.annotationToKeep === \"incoming\"}\n                      />\n                      <FormControlLabel\n                        value=\"current\"\n                        control={<Radio />}\n                        label=\"Keep current annotations\"\n                        checked={configImport.annotationToKeep === \"current\"}\n                      />\n                    </RadioGroup>\n                  </FormControl>\n                ) : (\n                  <FormControl component=\"fieldset\">\n                    <FormLabel component=\"legend\">Choose file type</FormLabel>\n                    <RadioGroup\n                      aria-label=\"option2\"\n                      onChange={(event) => {\n                        setConfigImport({\n                          ...configImport,\n                          typeOfFileToLoad: event.target.value,\n                        })\n                      }}\n                    >\n                      <FormControlLabel\n                        value=\"Image\"\n                        control={<Radio />}\n                        label=\"Load image file\"\n                        disabled={configImport.typeOfFileToDisable.Image}\n                        checked={configImport.typeOfFileToLoad === \"Image\"}\n                      />\n                      <FormControlLabel\n                        value=\"Video\"\n                        control={<Radio />}\n                        label=\"Load video file\"\n                        disabled={configImport.typeOfFileToDisable.Video}\n                        checked={configImport.typeOfFileToLoad === \"Video\"}\n                      />\n                      <FormControlLabel\n                        value=\"Audio\"\n                        control={<Radio />}\n                        label=\"Load audio file\"\n                        disabled={configImport.typeOfFileToDisable.Audio}\n                        checked={configImport.typeOfFileToLoad === \"Audio\"}\n                      />\n                      <FormControlLabel\n                        value=\"PDF\"\n                        control={<Radio />}\n                        label=\"Load PDF file\"\n                        disabled={configImport.typeOfFileToDisable.PDF}\n                        checked={configImport.typeOfFileToLoad === \"PDF\"}\n                      />\n                      <FormControlLabel\n                        value=\"Texte\"\n                        control={<Radio />}\n                        label=\"Load texte file\"\n                        disabled={configImport.typeOfFileToDisable.Texte}\n                        checked={configImport.typeOfFileToLoad === \"Texte\"}\n                      />\n                    </RadioGroup>\n                  </FormControl>\n                )}\n              </th>\n            </tr>\n          )}\n        </tbody>\n      </table>\n    </SimpleDialog>\n  )\n}\n","import checkInterfaceAndsamples from \"./check-interface-and-sample-type\"\nexport default (file) => {\n  return {\n    annotationToKeep: \"both\",\n    typeOfFileToLoad: checkInterfaceAndsamples([\"Image\", \"Empty\"], file)\n      ? \"Image\"\n      : checkInterfaceAndsamples([\"Video\", \"Empty\"], file)\n      ? \"Video\"\n      : checkInterfaceAndsamples([\"Audio\", \"Empty\"], file)\n      ? \"Audio\"\n      : checkInterfaceAndsamples([\"PDF\", \"Empty\"], file)\n      ? \"PDF\"\n      : checkInterfaceAndsamples([\"Texte\", \"Empty\"], file)\n      ? \"Texte\"\n      : \"None\",\n    typeOfFileToDisable: {\n      Image: checkInterfaceAndsamples([\"Image\", \"Empty\"], file) ? false : true,\n      Video: checkInterfaceAndsamples([\"Video\", \"Empty\"], file) ? false : true,\n      Audio: checkInterfaceAndsamples([\"Audio\", \"Empty\"], file) ? false : true,\n      PDF: checkInterfaceAndsamples([\"PDF\", \"Empty\"], file) ? false : true,\n      Texte: checkInterfaceAndsamples([\"Texte\", \"Empty\"], file) ? false : true,\n    },\n    loadProjectIsSelected: true,\n    contentDialogBoxIsSetting: false,\n    projectStarted: false,\n  }\n}\n","import isEmpty from \"lodash/isEmpty\"\nimport checkInterfaceAndsamples from \"./check-interface-and-sample-type\"\nexport default (configImport, file) => {\n  return {\n    ...configImport,\n    typeOfFileToLoad:\n      !isEmpty(configImport) &&\n      !isEmpty(configImport.typeOfFileToLoad) &&\n      checkInterfaceAndsamples([configImport.typeOfFileToLoad, \"Empty\"], file)\n        ? configImport.typeOfFileToLoad\n        : checkInterfaceAndsamples([\"Image\", \"Empty\"], file)\n        ? \"Image\"\n        : checkInterfaceAndsamples([\"Video\", \"Empty\"], file)\n        ? \"Video\"\n        : checkInterfaceAndsamples([\"Audio\", \"Empty\"], file)\n        ? \"Audio\"\n        : checkInterfaceAndsamples([\"PDF\", \"Empty\"], file)\n        ? \"PDF\"\n        : checkInterfaceAndsamples([\"Texte\", \"Empty\"], file)\n        ? \"Texte\"\n        : \"None\",\n    typeOfFileToDisable: {\n      Image: checkInterfaceAndsamples([\"Image\", \"Empty\"], file) ? false : true,\n      Video: checkInterfaceAndsamples([\"Video\", \"Empty\"], file) ? false : true,\n      Audio: checkInterfaceAndsamples([\"Audio\", \"Empty\"], file) ? false : true,\n      PDF: checkInterfaceAndsamples([\"PDF\", \"Empty\"], file) ? false : true,\n      Texte: checkInterfaceAndsamples([\"Texte\", \"Empty\"], file) ? false : true,\n    },\n  }\n}\n","import RecognizeFileExtension from \"../../utils/RecognizeFileExtension\"\nimport isEmpty from \"lodash/isEmpty\"\nexport default (loadProjectIsSelected, typeOfFileToLoad, dataForTable) => {\n  var numberOfSamples = 0\n  var textToSet = \"\"\n  var folderName\n  if (!isEmpty(dataForTable)) {\n    for (var i = 0; i < dataForTable.length; i++) {\n      if (dataForTable[i].isSelected) {\n        folderName = dataForTable[i].folder\n        if (!isEmpty(dataForTable[i].rowData)) {\n          for (var y = 0; y < dataForTable[i].rowData.length; y++) {\n            if (\n              RecognizeFileExtension(dataForTable[i].rowData[y].data) ===\n              typeOfFileToLoad\n            ) {\n              numberOfSamples++\n            }\n          }\n        }\n      }\n    }\n    if (loadProjectIsSelected) {\n      textToSet = \"Load \" + folderName\n    } else {\n      textToSet = \"Add \" + numberOfSamples + \" \" + typeOfFileToLoad\n    }\n  }\n  return textToSet\n}\n","// @flow weak\n\nimport React, { useState } from \"react\"\nimport { styled } from \"@material-ui/core/styles\"\nimport useEventCallback from \"use-event-callback\"\nimport { useDropzone } from \"react-dropzone\"\nimport * as colors from \"@material-ui/core/colors\"\n\nconst TextArea = styled(\"textarea\")({\n  width: \"100%\",\n  minHeight: 300,\n})\n\nconst UploadHover = styled(\"div\")({\n  fontSize: 24,\n  color: colors.grey[600],\n  textAlign: \"center\",\n  padding: 48,\n})\n\nconst emptyFunc = () => null\n\nexport default ({ content, onChangeContent, placeholder }) => {\n  const onDrop = useEventCallback((acceptedFiles) => {\n    const reader = new FileReader()\n    reader.onload = (e) => {\n      const fileContent = e.target.result\n      onChangeContent(fileContent)\n    }\n    reader.readAsText(acceptedFiles[0])\n  })\n\n  const [lastClickTime, changeLastClickTime] = useState(0)\n  const onClick = useEventCallback((e) => {\n    if (Date.now() - lastClickTime < 400) {\n      getRootProps().onClick(e)\n    }\n    changeLastClickTime(Date.now())\n  })\n\n  const { getRootProps, getInputProps, isDragActive } = useDropzone({ onDrop })\n\n  return (\n    <div {...getRootProps()} onClick={emptyFunc}>\n      <input {...getInputProps()} />\n      {isDragActive ? (\n        <UploadHover>Drop the text or csv file here.</UploadHover>\n      ) : (\n        <TextArea\n          value={content}\n          onChange={(e, v) => onChangeContent(e.target.value)}\n          onClick={onClick}\n          placeholder={placeholder}\n        />\n      )}\n    </div>\n  )\n}\n","// @flow weak\n\nimport React, { useState } from \"react\"\nimport SimpleDialog from \"../SimpleDialog\"\nimport TextAreaWithUpload from \"../TextAreaWithUpload\"\n\nconst ImportTextSnippetsDialog = ({ open, onClose, onAddSamples }) => {\n  const [content, changeContent] = useState(\"\")\n\n  return (\n    <SimpleDialog\n      open={open}\n      onClose={onClose}\n      title=\"Import Text Snippets\"\n      actions={[\n        {\n          text: \"Add Samples\",\n          onClick: () => {\n            onAddSamples(\n              content\n                .split(\"\\n\")\n                .map((l) => l.trim())\n                .filter(Boolean)\n                .map((s) => ({ document: s }))\n            )\n          },\n        },\n      ]}\n    >\n      <TextAreaWithUpload\n        content={content}\n        onChangeContent={changeContent}\n        placeholder={\n          \"Paste Snippets here\\nOne snippet per line.\\n\\nYou can also drag a text or csv file here (double click to open file dialog)\"\n        }\n      />\n    </SimpleDialog>\n  )\n}\n\nexport default ImportTextSnippetsDialog\n","import React from \"react\"\nimport SvgIcon from \"@material-ui/core/SvgIcon\"\n\nexport default (props) => {\n  return (\n    <SvgIcon {...props} viewBox=\"0 0 50 50\">\n      <g id=\"Working\">\n        <path\n          style={props.color}\n          d=\"M21.17,42.88H13.76a1,1,0,0,1-1-1v-7.5a1,1,0,0,1,1-1h7.41a1,1,0,0,1,1,1v7.5A1,1,0,0,1,21.17,42.88Zm-6.41-2h5.41v-5.5H14.76Z\"\n        />\n        <path\n          style={props.color}\n          d=\"M31,39.17a5.24,5.24,0,1,1,5.22-5.24A5.23,5.23,0,0,1,31,39.17Zm0-8.48a3.24,3.24,0,1,0,3.22,3.24A3.23,3.23,0,0,0,31,30.69Z\"\n        />\n        <path\n          style={props.color}\n          d=\"M20.22,29.75H10.85a1,1,0,0,1-.87-.51,1,1,0,0,1,0-1l4.69-7.82a1,1,0,0,1,1.71,0l4.69,7.82a1,1,0,0,1,0,1A1,1,0,0,1,20.22,29.75Zm-7.61-2h5.85l-2.92-4.87Z\"\n        />\n        <path\n          style={props.color}\n          d=\"M23.67,48.5c-6.39,0-16.5-1.45-16.63-5.34L2.51,9.55a1,1,0,0,1,2-.39c.5,1.93,8.05,4.63,19.2,4.63s18.69-2.7,19.19-4.63a1,1,0,0,1,2,.39L40.29,43.16c0,1.32-1.22,2.45-3.51,3.36a22.87,22.87,0,0,1-3.12.94A46,46,0,0,1,23.67,48.5ZM4.9,12.27,9,43s0,.09,0,.13c0,1.18,5.69,3.42,14.63,3.42a43.75,43.75,0,0,0,9.54-1A21,21,0,0,0,36,44.66c1.85-.73,2.26-1.39,2.26-1.58V43l4.14-30.68c-3.86,2.3-11.64,3.52-18.77,3.52S8.75,14.57,4.9,12.27Z\"\n        />\n        <path\n          style={props.color}\n          d=\"M23.67,15.79c-9.47,0-20.1-2.15-21.14-6.12,0-.05,0-.09,0-.13l0-.41a.62.62,0,0,1,0-.13c0-4.42,11.18-7.5,21.22-7.5S44.88,4.58,44.88,9v.13l-.06.41a.69.69,0,0,1,0,.13C43.76,13.64,33.13,15.79,23.67,15.79ZM4.48,9.21c.62,1.93,8.14,4.58,19.19,4.58s18.56-2.65,19.18-4.58l0-.27C42.75,7,34.86,3.5,23.67,3.5S4.59,7,4.45,8.94Z\"\n        />\n        <path\n          style={props.color}\n          d=\"M44.93,29.62c-4.76,0-15.18-4.71-21.7-7.91l.88-1.8c9,4.42,19.6,8.52,21.41,7.75-.14-.29-.81-1.19-4-2.92l-.16-.1,1-1.74.15.09c3.21,1.77,4.74,3.13,5,4.41a1.82,1.82,0,0,1-.4,1.52A2.77,2.77,0,0,1,44.93,29.62Z\"\n        />\n        <path\n          style={props.color}\n          d=\"M23.67,23a2.17,2.17,0,1,1,2.17-2.17A2.18,2.18,0,0,1,23.67,23Zm0-2.34a.17.17,0,0,0-.18.17c0,.19.35.19.35,0A.17.17,0,0,0,23.67,20.64Z\"\n        />\n      </g>\n    </SvgIcon>\n  )\n}\n","import React, { useState, useEffect, useCallback } from \"react\"\nimport SimpleDialog from \"../SimpleDialog\"\nimport Button from \"@material-ui/core/Button\"\nimport { styled } from \"@material-ui/core/styles\"\n\nconst ExplainText = styled(\"div\")({\n  marginTop: 8,\n  marginBottom: 8,\n})\nconst GoogleDriveScreenshot = styled(\"img\")({\n  width: \"100%\",\n  boxSizing: \"border-box\",\n})\n\n// Example for Google OAuth\n// https://developers.google.com/drive/api/v3/picker\n\nconst credentials = {\n  web: {\n    client_id:\n      process.env.REACT_APP_GOOGLE_DRIVE_CLIENT_ID ||\n      \"294393711342-h5aqqt3pvn8othepvsmi16iakdhi7m6j.apps.googleusercontent.com\",\n    app_id: process.env.REACT_APP_GOOGLE_DRIVE_APP_ID || \"294393711342\",\n    developer_key:\n      process.env.REACT_APP_GOOGLE_DRIVE_DEVELOPER_KEY ||\n      \"AIzaSyCoNoDnfzDBSXpt84Q75LU9UMTzvyLkRhg\",\n  },\n}\n\nconst scope = \"https://www.googleapis.com/auth/drive.readonly\"\n\nexport default ({ open, onClose, onAddSamples }) => {\n  const [googleScriptLoaded, setGoogleScriptLoaded] = useState(false)\n  const [pickerApiLoaded, setPickerApiLoaded] = useState(false)\n  const [oauthToken, setOAuthToken] = useState(null)\n  const [userSelectedItemsFromDrive, setUserSelectedItemsFromDrive] = useState(\n    []\n  )\n  const [isPickerOpen, setIsPickerOpen] = useState(false)\n\n  useEffect(() => {\n    const scriptElement = document.createElement(\"script\")\n    scriptElement.src = \"https://apis.google.com/js/api.js\"\n    scriptElement.async = true\n\n    scriptElement.onload = () => {\n      setGoogleScriptLoaded(true)\n    }\n\n    document.body.appendChild(scriptElement)\n    return () => {\n      scriptElement.remove()\n    }\n  }, [])\n\n  const googlePickerActionCallback = useCallback(\n    (data) => {\n      if (data.action === window.google.picker.Action.PICKED) {\n        setUserSelectedItemsFromDrive(\n          data.docs.map((googleDriveDocument) => ({\n            url: googleDriveDocument.url,\n            mimeType: googleDriveDocument.mimeType,\n            name: googleDriveDocument.name,\n            id: googleDriveDocument.id,\n          }))\n        )\n        setIsPickerOpen(false)\n      } else if (data.action === \"cancel\") {\n        onClose()\n      }\n    },\n    [onClose]\n  )\n\n  const createPicker = useCallback(() => {\n    if (pickerApiLoaded && oauthToken) {\n      const view = new window.google.picker.View(\n        window.google.picker.ViewId.Docs\n      )\n\n      view.setMimeTypes(\n        \"image/png\",\n        \"image/jpeg\",\n        \"image/jpg\",\n        \"image/gif\",\n        \"video/mp4\",\n        \"video/mpeg\"\n      )\n      const picker = new window.google.picker.PickerBuilder()\n        .enableFeature(window.google.picker.Feature.NAV_HIDDEN)\n        .enableFeature(window.google.picker.Feature.MULTISELECT_ENABLED)\n        .setAppId(credentials.web.app_id)\n        .setOAuthToken(oauthToken)\n        .addView(view)\n        .addView(window.google.picker.ViewId.DOCS)\n        .setDeveloperKey(credentials.web.developer_key)\n        .setCallback(googlePickerActionCallback)\n        .build()\n      picker.setVisible(true)\n      setIsPickerOpen(true)\n    }\n  }, [googlePickerActionCallback, oauthToken, pickerApiLoaded])\n\n  useEffect(() => {\n    createPicker()\n  }, [pickerApiLoaded, oauthToken, createPicker])\n\n  const handleAuthenticationResponse = useCallback(\n    (authenticationResponse) => {\n      if (authenticationResponse && !authenticationResponse.error) {\n        setOAuthToken(authenticationResponse.access_token)\n        createPicker()\n      }\n    },\n    [createPicker]\n  )\n\n  const onAuthApiLoad = useCallback(() => {\n    window.gapi.auth.authorize(\n      {\n        client_id: credentials.web.client_id,\n        scope: scope,\n        immediate: false,\n      },\n      handleAuthenticationResponse\n    )\n  }, [handleAuthenticationResponse])\n\n  const onPickerApiLoad = useCallback(() => {\n    setPickerApiLoaded(true)\n    createPicker()\n  }, [createPicker])\n\n  const onLoadPicker = useCallback(() => {\n    if (googleScriptLoaded === true) {\n      window.gapi.load(\"auth\", { callback: onAuthApiLoad })\n      window.gapi.load(\"picker\", { callback: onPickerApiLoad })\n    }\n  }, [googleScriptLoaded, onAuthApiLoad, onPickerApiLoad])\n\n  const onAddSamplesClicked = () => {\n    const samples = []\n    for (const item of userSelectedItemsFromDrive) {\n      if (item.mimeType.includes(\"image/\")) {\n        samples.push({ imageUrl: `https://drive.google.com/uc?id=${item.id}` })\n      } else if (item.mimeType.includes(\"video/\")) {\n        samples.push({ videoUrl: `https://drive.google.com/uc?id=${item.id}` })\n      }\n    }\n    onAddSamples(samples)\n  }\n\n  useEffect(() => {\n    if (open) {\n      onLoadPicker()\n    }\n  }, [open, googleScriptLoaded, onLoadPicker])\n\n  return (\n    <SimpleDialog\n      open={open && !isPickerOpen}\n      onClose={onClose}\n      title=\"Import from Google Drive\"\n      actions={[\n        userSelectedItemsFromDrive &&\n          userSelectedItemsFromDrive.length > 0 && {\n            text: `Add ${userSelectedItemsFromDrive.length} Samples`,\n            onClick: onAddSamplesClicked,\n          },\n      ].filter(Boolean)}\n    >\n      <Button variant=\"outlined\" onClick={onLoadPicker}>\n        Reopen Google Drive Picker\n      </Button>\n      <ExplainText>\n        Make sure your Google Drive files are available via a link.{\" \"}\n        <b>If you don't, the files will not appear when you're labeling!</b>\n      </ExplainText>\n      <GoogleDriveScreenshot\n        src={\n          \"https://s3.amazonaws.com/asset.workaround.online/google-share-screenshot.png\"\n        }\n      />\n    </SimpleDialog>\n  )\n}\n","// @flow weak\n\nimport React, { useState } from \"react\"\nimport SimpleDialog from \"../SimpleDialog\"\nimport { styled } from \"@material-ui/core/styles\"\nimport TextAreaWithUpload from \"../TextAreaWithUpload\"\nimport * as colors from \"@material-ui/core/colors\"\nimport fromUDTCSV from \"../../utils/from-udt-csv.js\"\n\nconst InfoText = styled(\"div\")({\n  fontFamily: \"Inter\",\n  marginBottom: 20,\n  \"& a\": {\n    color: colors.blue[500],\n  },\n})\n\nconst Error = styled(\"div\")({\n  color: colors.red[500],\n  whiteSpace: \"pre-wrap\",\n  marginBottom: 20,\n})\n\nconst ImportUDTFileDialog = ({ open, onClose, onAddSamples }) => {\n  const [error, changeError] = useState(null)\n  const [content, setContent] = useState(\"\")\n\n  return (\n    <SimpleDialog\n      open={open}\n      onClose={onClose}\n      title=\"Import JSON/CSV Samples\"\n      actions={[\n        {\n          text: \"Add Samples\",\n          onClick: () => {\n            changeError(null)\n            let samples, taskOutput\n            try {\n              ;[samples, taskOutput] = JSON.parse(content).samples\n            } catch (e1) {\n              try {\n                const udt = fromUDTCSV(content)\n                ;({ samples, taskOutput } = udt)\n              } catch (e2) {\n                console.log({\n                  message: \"CSV/JSON Error Stacks\",\n                  jsonError: e1.stack,\n                  csvError: e2.stack,\n                })\n                changeError(\n                  `JSON did not parse. CSV did not parse.\\n\\nJSON Error: ${e1.toString()}\\nCSV Error: ${e2.toString()}`\n                )\n                return\n              }\n            }\n            if (!samples || samples.length === 0) {\n              changeError(\"No task data found\")\n              return\n            }\n            onAddSamples(samples, taskOutput)\n          },\n        },\n      ]}\n    >\n      <InfoText>\n        See the{\" \"}\n        <a href=\"https://github.com/UniversalDataTool/udt-format\">\n          UDT JSON format\n        </a>{\" \"}\n        or the{\" \"}\n        <a href=\"https://github.com/UniversalDataTool/udt-format\">\n          UDT CSV format\n        </a>{\" \"}\n        for formatting details. Or take a look at a{\" \"}\n        <a href=\"https://github.com/UniversalDataTool/udt-format/blob/master/SAMPLE.udt.json\">\n          sample JSON\n        </a>{\" \"}\n        or{\" \"}\n        <a href=\"https://github.com/UniversalDataTool/udt-format/blob/master/SAMPLE.udt.csv\">\n          sample CSV\n        </a>{\" \"}\n        file.\n      </InfoText>\n      <Error>{error}</Error>\n      <TextAreaWithUpload\n        content={content}\n        onChangeContent={setContent}\n        placeholder={\n          \"Paste CSV/JSON here. The file should be in the UDT JSON/CSV format.\\n\\nYou can also drag a json or csv file here (double click to open file dialog)\"\n        }\n      />\n    </SimpleDialog>\n  )\n}\n\nexport default ImportUDTFileDialog\n","// @flow weak\n\nimport React from \"react\"\nimport SimpleDialog from \"../SimpleDialog\"\nimport { styled } from \"@material-ui/core/styles\"\nimport Button from \"@material-ui/core/Button\"\nimport Table from \"@material-ui/core/Table\"\nimport TableBody from \"@material-ui/core/TableBody\"\nimport TableCell from \"@material-ui/core/TableCell\"\nimport TableContainer from \"@material-ui/core/TableContainer\"\nimport TableHead from \"@material-ui/core/TableHead\"\nimport TableRow from \"@material-ui/core/TableRow\"\n\nconst datasets = [\n  { name: \"Elon Musk Tweets\", type: \"text\", size: 2800 },\n  { name: \"Cats\", type: \"image\", size: 360 },\n  { name: \"VR Hand Pinching\", type: \"image\", size: 20517 },\n  { name: \"AI Generated Faces\", type: \"image\", size: 1999 },\n  { name: \"Text to Speech Audio\", type: \"audio\", size: 200 },\n]\n\nasync function getSamples(dataset) {\n  const datasetName =\n    dataset.name.toLowerCase().replace(/ /g, \"_\") + \".udt.json\"\n\n  const datasetUrl = `https://s3.amazonaws.com/datasets.workaround.online/${datasetName}`\n\n  return await fetch(datasetUrl)\n    .then((r) => r.json())\n    .then((r) => r.samples || r.taskData)\n}\n\nconst StyledButton = styled(Button)({})\n\nconst ImportToyDatasetDialog = ({ onClose, onAddSamples, open }) => {\n  return (\n    <SimpleDialog onClose={onClose} open={open} title=\"Import Toy Dataset\">\n      <TableContainer>\n        <Table>\n          <TableHead>\n            <TableRow>\n              <TableCell>Name</TableCell>\n              <TableCell>Type</TableCell>\n              <TableCell>Size</TableCell>\n              <TableCell>Actions</TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            {datasets.map((dataset) => (\n              <TableRow key={dataset.name}>\n                <TableCell>{dataset.name}</TableCell>\n                <TableCell>{dataset.type}</TableCell>\n                <TableCell>{dataset.size}</TableCell>\n                <TableCell>\n                  <StyledButton\n                    data-import-toy-dataset-name={dataset.name}\n                    onClick={async () => {\n                      onAddSamples(await getSamples(dataset))\n                    }}\n                    variant=\"outlined\"\n                  >\n                    Import\n                  </StyledButton>\n                </TableCell>\n              </TableRow>\n            ))}\n          </TableBody>\n        </Table>\n      </TableContainer>\n    </SimpleDialog>\n  )\n}\n\nexport default ImportToyDatasetDialog\n","const idify = (s) =>\n  s\n    .toLowerCase()\n    .replace(/[^a-z0-9]/g, \"_\")\n    .replace(/_+/g, \"_\")\n\nexport default ({\n  youtubeUrl,\n  title: videoTitle,\n  remote,\n  videoQuality,\n  downloadPath,\n  onProgress,\n  onComplete,\n  onChangeOverallProgress,\n}) => {\n  //let starttime = Date.now()\n\n  const ytdl = remote.require(\"ytdl-core\")\n  const path = remote.require(\"path\")\n\n  const videoName = videoQuality.includes(\"audio\")\n    ? `${idify(videoTitle) + \".mp3\"}`\n    : `${idify(videoTitle) + \".mp4\"}`\n\n  const fullVideoPath = path.join(downloadPath, videoName)\n  const writableVideoFile = remote\n    .require(\"fs\")\n    .createWriteStream(fullVideoPath)\n\n  const videoFormat = videoName.endsWith(\".mp3\") ? \"audio/mp3\" : \"video/mp4\"\n\n  const youtubeVideoWithOptions = ytdl(youtubeUrl, {\n    format: videoFormat,\n    quality: videoQuality !== null ? videoQuality : \"highest\",\n  })\n\n  youtubeVideoWithOptions.pipe(writableVideoFile)\n\n  /*youtubeVideoWithOptions.once(\"response\", () => {\n    starttime = Date.now()\n  })*/\n\n  youtubeVideoWithOptions.on(\"progress\", (chunkLength, downloaded, total) => {\n    const percent = downloaded / total\n    // const downloadedMinutes = (Date.now() - starttime) / 1000 / 60\n\n    // const downloadedPercentage = (percent * 100).toFixed(2)\n    // const downloadedSize = (downloaded / 1024 / 1024).toFixed(2)\n    // const downloadedMBs = (\n    //   downloaded /\n    //   1024 /\n    //   1024\n    // ).toFixed(2)\n    // const totalSize = (total / 1024 / 1024).toFixed(2)\n    // const informationText = `${downloadedPercentage}% downloaded (${downloadedMBs}MB of ${totalSize}MB)\\nestimated time left: ${(downloadedMinutes / percent -downloadedMinutes).toFixed(2)}minutes`\n\n    onProgress({\n      progress: percent * 100,\n    })\n\n    onChangeOverallProgress(percent * 100)\n  })\n\n  youtubeVideoWithOptions.on(\"end\", () => onComplete(fullVideoPath))\n\n  return {\n    cancel: () => {\n      youtubeVideoWithOptions.destroy()\n    },\n  }\n}\n","// @flow weak\n\nimport React from \"react\"\nimport { styled } from \"@material-ui/core/styles\"\nimport * as colors from \"@material-ui/core/colors\"\n\nconst Container = styled(\"div\")({\n  height: 36,\n  width: \"100%\",\n  boxSizing: \"border-box\",\n  position: \"relative\",\n  marginTop: 8,\n  marginBottom: 8,\n  backgroundColor: colors.blue[50],\n})\nconst Text = styled(\"div\")({\n  position: \"absolute\",\n  left: 0,\n  right: 0,\n  top: 0,\n  bottom: 0,\n  paddingTop: 4,\n  fontSize: 18,\n  textAlign: \"center\",\n  fontWeight: \"bold\",\n})\nconst Bar = styled(\"div\")({\n  position: \"absolute\",\n  left: 0,\n  bottom: 0,\n  top: 0,\n  backgroundColor: colors.blue[300],\n})\n\nexport default ({ progress }) => {\n  return (\n    <Container>\n      <Bar style={{ right: 100 - progress + \"%\" }} />\n      <Text>{Math.floor(progress)}%</Text>\n    </Container>\n  )\n}\n","import React from \"react\"\nimport { styled } from \"@material-ui/core/styles\"\nimport ProgressBar from \"../ProgressBar\"\nimport ExpansionPanel from \"@material-ui/core/ExpansionPanel\"\nimport ExpandMoreIcon from \"@material-ui/icons/ExpandMore\"\nimport ExpansionPanelSummary from \"@material-ui/core/ExpansionPanelSummary\"\nimport ExpansionPanelDetails from \"@material-ui/core/ExpansionPanelDetails\"\n\nconst ProgressContainer = styled(\"div\")({\n  width: \"100%\",\n  height: \"100%\",\n})\n\nconst TotalPercentageWrapper = styled(\"div\")({\n  flexDirection: \"row\",\n  width: \"100%\",\n  display: \"flex\",\n  justifyContent: \"space-between\",\n})\n\nconst Progress = ({ unitProgress, overallProgress, completedVideoTitles }) => {\n  return (\n    <ProgressContainer>\n      <ProgressBar progress={overallProgress} />\n      <ProgressBar progress={unitProgress.progress} />\n\n      <h3>Downloading: {unitProgress.title}</h3>\n      <ExpansionPanel>\n        <ExpansionPanelSummary expandIcon={<ExpandMoreIcon />}>\n          <TotalPercentageWrapper>\n            <h3>Downloaded Video Titles</h3>\n          </TotalPercentageWrapper>\n        </ExpansionPanelSummary>\n        <ExpansionPanelDetails>\n          <ul>\n            {completedVideoTitles && completedVideoTitles.length > 0\n              ? completedVideoTitles\n              : null}\n          </ul>\n        </ExpansionPanelDetails>\n      </ExpansionPanel>\n    </ProgressContainer>\n  )\n}\n\nexport default Progress\n","const getYoutubeVideoInformation = async (\n  remote,\n  splittedURLsArray,\n  progressCallback = () => null\n) => {\n  const ytdl = remote.require(\"ytdl-core\")\n  const checkedVideos = []\n  if (splittedURLsArray.length > 0) {\n    for (let i = 0; i < splittedURLsArray.length; i++) {\n      const url = splittedURLsArray[i]\n      const video = await new Promise((resolve, reject) => {\n        ytdl.getBasicInfo(url, (err, info) => {\n          if (info && !err) {\n            resolve({\n              url,\n              title: info.title,\n            })\n          } else {\n            const errorText = `Error with video at \"${url}\"\\n\\n${err.toString()}`\n            reject(new Error(errorText))\n          }\n        })\n      })\n      checkedVideos.push(video)\n      progressCallback({\n        progress: (i / (splittedURLsArray.length - 1)) * 100,\n        text: \"Inspecting Video Information...\",\n      })\n    }\n  }\n  return checkedVideos\n}\n\nexport default getYoutubeVideoInformation\n","const splitURLsFromTextArea = (stringURLs) => {\n  const urlsHasHTTPS = []\n  const splittedURLsByNewLines = stringURLs.split(\"\\n\")\n  for (const url of splittedURLsByNewLines) {\n    if (url.includes(\"https://\")) {\n      urlsHasHTTPS.push(url)\n    }\n  }\n  return urlsHasHTTPS\n}\n\nexport default splitURLsFromTextArea\n","import React, { useState, useRef } from \"react\"\nimport { styled } from \"@material-ui/core/styles\"\nimport SimpleDialog from \"../SimpleDialog\"\nimport useElectron from \"../../utils/use-electron\"\nimport Select from \"react-select\"\nimport downloadYoutubeVideo from \"./download-youtube-video\"\nimport Progress from \"./progress\"\nimport getYoutubeVideoInformation from \"./get-youtube-video-information\"\nimport splitURLsFromTextArea from \"./split-urls-from-text-area\"\n\nconst TextArea = styled(\"textarea\")({\n  width: \"100%\",\n  minHeight: 300,\n})\n\nconst SelectVideoQualityHeader = styled(\"h3\")({\n  lineHeight: 0,\n  textAlign: \"center\",\n})\n\nconst SelectVideoQuality = styled(\"div\")({\n  width: \"100%\",\n  marginBottom: 8,\n  paddingBottom: 4,\n})\n\nconst ErrorText = styled(\"pre\")({\n  whiteSpace: \"pre-wrap\",\n  color: \"#f00\",\n})\n\nconst LoadingText = styled(\"h2\")({\n  width: \"100%\",\n  height: \"100%\",\n  margin: \"auto auto\",\n  textAlign: \"center\",\n})\n\nconst CompletedVideoTitle = styled(\"h3\")({\n  textDecoration: \"line-through\",\n  lineHeight: 0,\n})\n\nconst qualityOptions = [\n  { value: \"136\", label: \"720p\" },\n  { value: \"135\", label: \"480p\" },\n  { value: \"lowestvideo\", label: \"Lowest Video Only\" },\n  // TODO these did not seem to work in a local test (missing video)\n  // { value: \"lowest\", label: \"lowest\" },\n  // { value: \"highest\", label: \"Highest\" },\n  { value: \"highestvideo\", label: \"Highest Video Only\" },\n  { value: \"lowestaudio\", label: \"Lowest Audio Only\" },\n  { value: \"highestaudio\", label: \"Highest Audio Only\" },\n]\n\nconst ImportFromYoutubeUrls = ({ open, onClose, onAddSamples }) => {\n  const { remote } = useElectron() || {}\n\n  const [urlsFromTextArea, setUrlsFromTextArea] = useState([])\n  const [videoQuality, setVideoQuality] = useState(qualityOptions[0].value)\n  const [error, setError] = useState(null)\n\n  const [unitProgress, setUnitProgress] = useState({ progress: 0 })\n  const [overallProgress, setOverallProgress] = useState(0)\n  const [isDownloading, setIsDownloading] = useState(false)\n  const [completedVideoTitles, setCompletedVideoTitles] = useState(null)\n\n  const cancelRef = useRef()\n\n  const setDefaultState = async () => {\n    setUnitProgress({ progress: 0, title: \"\" })\n    setOverallProgress(0)\n    setIsDownloading(false)\n  }\n\n  const closeDialog = async () => {\n    await setDefaultState()\n    onClose()\n  }\n\n  return (\n    <SimpleDialog\n      open={open}\n      onClose={closeDialog}\n      title=\"Import from Youtube URLs\"\n      actions={[\n        {\n          text: \"Cancel Downloads\",\n          disabled: !isDownloading,\n          onClick: () => {\n            cancelRef.current()\n            setIsDownloading(false)\n          },\n        },\n        {\n          text: \"Download Youtube URLs\",\n          onClick: async () => {\n            setIsDownloading(true)\n            const { canceled, filePaths } = await remote.dialog.showOpenDialog({\n              title: \"Directory to download files to\",\n              buttonLabel: \"Download Files Here\",\n              properties: [\n                \"createDirectory\",\n                \"openDirectory\",\n                \"promptToCreate\",\n              ],\n            })\n\n            if (canceled || !filePaths) return setIsDownloading(false)\n\n            const downloadPath = filePaths[0]\n\n            const youtubeVideoInfos = await getYoutubeVideoInformation(\n              remote,\n              urlsFromTextArea,\n              ({ progress, text }) => {\n                setUnitProgress({ progress })\n              }\n            ).catch((errorMessage) => {\n              console.error(errorMessage.stack)\n              setError(errorMessage.toString())\n              return null\n            })\n            if (!youtubeVideoInfos) return setIsDownloading(false)\n\n            const completedVideoPaths = []\n            const completedVideoTitlesArray = []\n\n            const youtubeVideosCount = youtubeVideoInfos.length\n\n            for (let i = 0; i < youtubeVideosCount; i++) {\n              const youtubeVideoInfo = youtubeVideoInfos[i]\n              const videoPath = await new Promise((resolve, reject) => {\n                const { cancel } = downloadYoutubeVideo({\n                  remote,\n                  downloadPath,\n                  youtubeUrl: youtubeVideoInfo.url,\n                  title: youtubeVideoInfo.title,\n                  videoQuality,\n                  onChangeOverallProgress: (currentProgress) =>\n                    setOverallProgress(\n                      ((completedVideoTitlesArray.length * 100 +\n                        currentProgress) /\n                        (youtubeVideosCount * 100)) *\n                        100\n                    ),\n                  onProgress: ({ progress, text }) =>\n                    setUnitProgress({\n                      progress,\n                      title: youtubeVideoInfo.title,\n                      progressText: text,\n                    }),\n                  onComplete: (filePath) => resolve(filePath),\n                })\n                cancelRef.current = cancel\n              })\n\n              completedVideoTitlesArray.push(\n                <li key={i + youtubeVideoInfo.title}>\n                  <CompletedVideoTitle>\n                    {youtubeVideoInfo.title}\n                  </CompletedVideoTitle>\n                </li>\n              )\n              setCompletedVideoTitles(completedVideoTitlesArray)\n\n              completedVideoPaths.push(videoPath)\n            }\n\n            onAddSamples(\n              completedVideoPaths.map((videoPath) => ({\n                videoUrl: `file://${videoPath}`,\n              }))\n            )\n\n            setIsDownloading(false)\n          },\n          disabled: isDownloading,\n        },\n      ]}\n    >\n      {error && <ErrorText>{error}</ErrorText>}\n      {isDownloading &&\n      ((unitProgress && unitProgress.progress && unitProgress.progress > 0) ||\n        (completedVideoTitles &&\n          Array.isArray(completedVideoTitles) === true &&\n          completedVideoTitles.length > 0)) ? (\n        <Progress\n          unitProgress={unitProgress}\n          completedVideoTitles={completedVideoTitles}\n          overallProgress={overallProgress}\n        />\n      ) : isDownloading === true ? (\n        <LoadingText>Information is Loading</LoadingText>\n      ) : null}\n      {!isDownloading && (\n        <React.Fragment>\n          <SelectVideoQuality>\n            <SelectVideoQualityHeader>\n              Select Video Quality\n            </SelectVideoQualityHeader>\n            <Select\n              defaultValue={qualityOptions[0]}\n              options={qualityOptions}\n              onChange={({ value }) => setVideoQuality(value)}\n            />\n          </SelectVideoQuality>\n          <TextArea\n            onChange={(e, v) => {\n              setUrlsFromTextArea(splitURLsFromTextArea(e.target.value))\n            }}\n            placeholder={\"Paste Youtube URLs here\\nOne URL per line\"}\n          />\n        </React.Fragment>\n      )}\n    </SimpleDialog>\n  )\n}\n\nexport default ImportFromYoutubeUrls\n","// @flow weak\n\nconst convertToSamplesObject = (fp) => {\n  const ext = fp.split(\".\").slice(-1)[0].toLowerCase()\n  if ([\"png\", \"jpg\", \"jpeg\"].includes(ext)) {\n    return { imageUrl: `file://${fp}` }\n  }\n  if ([\"pdf\"].includes(ext)) {\n    return { pdfUrl: `file://${fp}` }\n  }\n  if ([\"mp4\", \"webm\", \"mkv\"].includes(ext)) {\n    return { videoUrl: `file://${fp}` }\n  }\n  return null\n}\n\nasync function promptAndGetSamplesLocalDirectory({ electron }) {\n  const {\n    canceled,\n    filePaths: dirPaths,\n  } = await electron.remote.dialog.showOpenDialog({\n    title: \"Select Directory to Import Files\",\n    properties: [\"openDirectory\"],\n  })\n  if (canceled) return\n  const dirPath = dirPaths[0]\n  const fs = electron.remote.require(\"fs\")\n  const path = electron.remote.require(\"path\")\n  return (await fs.promises.readdir(dirPath))\n    .filter((fn) => fn.includes(\".\"))\n    .map((fileName) => path.join(dirPath, fileName))\n    .map(convertToSamplesObject)\n    .filter(Boolean)\n}\n\nexport default promptAndGetSamplesLocalDirectory\n","// @flow weak\n\nimport React, { useState, createContext } from \"react\"\nimport MuiButton from \"@material-ui/core/Button\"\nimport { styled } from \"@material-ui/core/styles\"\nimport AssignmentReturnedIcon from \"@material-ui/icons/AssignmentReturned\"\nimport CreateNewFolderIcon from \"@material-ui/icons/CreateNewFolder\"\nimport TextFieldsIcon from \"@material-ui/icons/TextFields\"\nimport DescriptionIcon from \"@material-ui/icons/Description\"\nimport PetsIcon from \"@material-ui/icons/Pets\"\nimport * as colors from \"@material-ui/core/colors\"\nimport PasteUrlsDialog from \"../PasteUrlsDialog\"\nimport ImportFromS3Dialog from \"../ImportFromS3Dialog\"\nimport ImportTextSnippetsDialog from \"../ImportTextSnippetsDialog\"\nimport useElectron from \"../../utils/use-electron\"\nimport classnames from \"classnames\"\nimport S3Icon from \"./S3Icon\"\nimport isEmpty from \"lodash/isEmpty\"\nimport { setIn } from \"seamless-immutable\"\nimport useEventCallback from \"use-event-callback\"\nimport ImportFromGoogleDriveDialog from \"../ImportFromGoogleDriveDialog\"\nimport ImportUDTFileDialog from \"../ImportUDTFileDialog\"\nimport ImportToyDataset from \"../ImportToyDatasetDialog\"\nimport ImportFromYoutubeUrls from \"../ImportFromYoutubeUrls\"\nimport { FaGoogleDrive, FaYoutube } from \"react-icons/fa\"\nimport usePosthog from \"../../utils/use-posthog\"\nimport promptAndGetSamplesFromLocalDirectory from \"./prompt-and-get-samples-from-local-directory.js\"\n\nconst ButtonBase = styled(MuiButton)({\n  width: 240,\n  height: 140,\n  display: \"inline-flex\",\n  flexDirection: \"column\",\n  \"&.disabled\": {\n    backgroundColor: colors.grey[200],\n  },\n  margin: 8,\n  \"& .icon\": {\n    width: 48,\n    height: 48,\n    color: colors.grey[600],\n    \"&.disabled\": {\n      color: colors.grey[400],\n    },\n  },\n})\n\nconst DesktopOnlyText = styled(\"div\")({\n  fontSize: 11,\n  fontWeight: \"bold\",\n  color: colors.grey[600],\n  \"&.disabled\": {\n    color: colors.grey[500],\n  },\n})\n\nconst SelectDialogContext = createContext()\n\nconst Button = ({\n  Icon,\n  desktopOnly,\n  isDesktop,\n  children,\n  dialog,\n  authConfiguredOnly,\n  authConfig,\n  signedInOnly,\n  user,\n}) => {\n  const posthog = usePosthog()\n  const disabled = desktopOnly\n    ? !isDesktop\n    : authConfiguredOnly\n    ? signedInOnly\n      ? isEmpty(user)\n      : isEmpty(authConfig)\n    : false\n  return (\n    <SelectDialogContext.Consumer>\n      {({ onChangeDialog }) => {\n        return (\n          <ButtonBase\n            onClick={() => {\n              posthog.capture(\"import_button_clicked\", {\n                import_button: dialog,\n              })\n              onChangeDialog(dialog)\n            }}\n            className={classnames({ disabled })}\n            variant=\"outlined\"\n            disabled={disabled}\n          >\n            <div>\n              <Icon className={classnames(\"icon\", { disabled })} />\n              <div>{children}</div>\n              {desktopOnly && (\n                <DesktopOnlyText className={classnames({ disabled })}>\n                  DESKTOP ONLY\n                </DesktopOnlyText>\n              )}\n              {authConfiguredOnly && isEmpty(authConfig) && (\n                <DesktopOnlyText className={classnames({ disabled })}>\n                  AUTH MUST BE CONFIGURED\n                </DesktopOnlyText>\n              )}\n              {signedInOnly && isEmpty(user) && (\n                <DesktopOnlyText className={classnames({ disabled })}>\n                  MUST BE SIGNED IN\n                </DesktopOnlyText>\n              )}\n            </div>\n          </ButtonBase>\n        )\n      }}\n    </SelectDialogContext.Consumer>\n  )\n}\n\nexport default ({\n  // TODO remove file, onChangeFile\n  file,\n  onChangeFile,\n\n  dataset,\n  onChangeDataset,\n  isDesktop,\n  authConfig,\n  user,\n}) => {\n  const [selectedDialog, changeDialog] = useState()\n  const electron = useElectron()\n  const onChangeDialog = async (dialog) => {\n    switch (dialog) {\n      case \"upload-directory\": {\n        if (!electron) return\n        const localSamples = await promptAndGetSamplesFromLocalDirectory({\n          electron,\n        })\n        onChangeDataset(\n          setIn(\n            dataset,\n            [\"samples\"],\n            (dataset.samples || []).concat(localSamples)\n          ),\n          true\n        )\n        return\n      }\n      default: {\n        return changeDialog(dialog)\n      }\n    }\n  }\n\n  const closeDialog = () => changeDialog(null)\n\n  const onAddSamples = useEventCallback(async (samplesToAdd) => {\n    onChangeDataset(\n      setIn(dataset, [\"samples\"], (dataset.samples || []).concat(samplesToAdd))\n    )\n    closeDialog()\n  })\n\n  return (\n    <SelectDialogContext.Provider value={{ onChangeDialog }}>\n      <div>\n        <Button\n          isDesktop={isDesktop}\n          dialog=\"paste-image-urls\"\n          Icon={AssignmentReturnedIcon}\n          authConfig={authConfig}\n          signedInOnly={false}\n          user={user}\n        >\n          Paste URLs\n        </Button>\n        <Button\n          desktopOnly\n          isDesktop={isDesktop}\n          dialog=\"upload-directory\"\n          Icon={CreateNewFolderIcon}\n          authConfig={authConfig}\n          signedInOnly={false}\n          user={user}\n        >\n          Files from Directory\n        </Button>\n        <Button dialog=\"import-text-snippets\" Icon={TextFieldsIcon}>\n          Import Text Snippets\n        </Button>\n        <Button\n          isDesktop={isDesktop}\n          dialog=\"import-toy-dataset\"\n          Icon={PetsIcon}\n        >\n          Import Toy Dataset\n        </Button>\n        <Button\n          isDesktop={isDesktop}\n          dialog=\"youtube-urls\"\n          Icon={FaYoutube}\n          desktopOnly\n        >\n          Import from Youtube URLs\n        </Button>\n        {file && (\n          <Button\n            isDesktop={isDesktop}\n            dialog=\"import-from-s3\"\n            Icon={S3Icon}\n            authConfiguredOnly={true}\n            authConfig={authConfig}\n            signedInOnly={true}\n            user={user}\n          >\n            Import from S3\n          </Button>\n        )}\n        <Button\n          isDesktop={isDesktop}\n          dialog=\"google-drive-file-picker\"\n          Icon={FaGoogleDrive}\n          onAddSamples={onAddSamples}\n        >\n          Import from Google Drive\n        </Button>\n        <Button dialog=\"import-csv-json\" Icon={DescriptionIcon}>\n          Import from CSV / JSON\n        </Button>\n        <ImportTextSnippetsDialog\n          open={selectedDialog === \"import-text-snippets\"}\n          onClose={closeDialog}\n          onAddSamples={onAddSamples}\n        />\n        <PasteUrlsDialog\n          open={selectedDialog === \"paste-image-urls\"}\n          onClose={closeDialog}\n          onAddSamples={onAddSamples}\n        />\n        {file && (\n          <ImportFromS3Dialog\n            file={file}\n            authConfig={authConfig}\n            open={selectedDialog === \"import-from-s3\"}\n            onChangeFile={onChangeFile}\n            onClose={closeDialog}\n            user={user}\n            onAddSamples={onAddSamples}\n          />\n        )}\n        <ImportFromGoogleDriveDialog\n          open={selectedDialog === \"google-drive-file-picker\"}\n          onClose={closeDialog}\n          onAddSamples={onAddSamples}\n        />\n        <ImportToyDataset\n          open={selectedDialog === \"import-toy-dataset\"}\n          onClose={closeDialog}\n          onAddSamples={onAddSamples}\n        />\n        <ImportFromYoutubeUrls\n          open={selectedDialog === \"youtube-urls\"}\n          onClose={closeDialog}\n          onAddSamples={onAddSamples}\n        />\n        <ImportUDTFileDialog\n          open={selectedDialog === \"import-csv-json\"}\n          onClose={closeDialog}\n          onAddSamples={onAddSamples}\n        />\n      </div>\n    </SelectDialogContext.Provider>\n  )\n}\n","// @flow\n\nexport default () => {\n  if (window.require) {\n    return Boolean(window.require(\"electron\"))\n  }\n  return false\n}\n","// @flow weak\n\nimport React from \"react\"\nimport SimpleDialog from \"../SimpleDialog\"\nimport Box from \"@material-ui/core/Box\"\nimport ArrowForwardIcon from \"@material-ui/icons/ArrowForward\"\nimport * as colors from \"@material-ui/core/colors\"\nimport { styled } from \"@material-ui/core/styles\"\nimport ExpansionPanel from \"@material-ui/core/ExpansionPanel\"\nimport ExpansionPanelDetails from \"@material-ui/core/ExpansionPanelDetails\"\nimport ExpansionPanelSummary from \"@material-ui/core/ExpansionPanelSummary\"\nimport immutable from \"seamless-immutable\"\n\nconst Code = styled(\"pre\")({\n  fontSize: 8,\n})\n\nconst StyledExpansionPanel = styled(ExpansionPanel)({\n  backgroundColor: colors.grey[100],\n  border: `1px solid ${colors.grey[500]}`,\n  marginTop: 16,\n  marginBottom: 16,\n})\n\nconst StyledExpansionPanelSummary = styled(ExpansionPanelSummary)({\n  fontWeight: \"bold\",\n})\n\nexport default ({ open, onChangeDataset, onClose, dataset }) => {\n  return (\n    <SimpleDialog\n      open={open}\n      onClose={onClose}\n      title=\"Transform Video Keyframes\"\n      actions={[\n        {\n          text: \"Transform Video Keyframes\",\n          disabled: !dataset.samples,\n          onClick: () => {\n            const samples = dataset.samples.flatMap((item, index) => {\n              if (!item.videoUrl) return { data: item, output: item.annotation }\n              if (item.videoUrl && !item.videoFrameAt) {\n                if (!item.annotation) return []\n                if (!item.annotation.keyframes) return []\n                const { keyframes } = item[index].annotation\n                return Object.keys(keyframes).map((kf) => ({\n                  videoUrl: item.videoUrl,\n                  videoFrameAt: parseInt(kf),\n                  annotation: keyframes[kf].regions || [],\n                }))\n              }\n            })\n\n            onChangeDataset(\n              immutable(dataset)\n                .setIn(\n                  [\"samples\"],\n                  samples.map((s) => s.data)\n                )\n                .setIn([\"interface\", \"type\"], \"image_segmentation\")\n            )\n          },\n        },\n      ]}\n    >\n      This operation will convert keyframes set on a video into individual image\n      segmentation frames. Your interface type will change from\n      \"video_segmentation\" into \"image_segmentation\". This is sometimes helpful\n      when preparing video data for a computer vision model.\n      {!dataset.samples && (\n        <b>\n          <br />\n          <br />\n          You need to label some keyframes to use this.\n        </b>\n      )}\n      <StyledExpansionPanel>\n        <StyledExpansionPanelSummary>Details</StyledExpansionPanelSummary>\n        <ExpansionPanelDetails>\n          <Box display=\"flex\">\n            <Box>\n              <Code>\n                {`{\n  \"interface\": { \"type\": \"video_segmentation\" },\n  samples: [\n    {\n      videoUrl: \"https://example.com/video1.mp4\"\n    }\n  ],\n  taskOutput: [\n    {\n      keyframes: {\n        \"0\": { /* labels */ },\n        \"1000\": { /* labels */ },\n        \"2000\": { /* labels */ }\n      }\n    }\n  ]\n}`}\n              </Code>\n            </Box>\n            <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n              <ArrowForwardIcon\n                style={{ color: colors.grey[500], width: 48, height: 48 }}\n              />\n            </Box>\n            <Box>\n              <Code>\n                {`{\n  \"interface\": { \"type\": \"image_segmentation\" },\n  samples: [\n    {\n      videoUrl: \"https://example.com/vid1.mp4\",\n      videoFrameAt: 0\n    },\n    {\n      videoUrl: \"https://example.com/vid1.mp4\",\n      videoFrameAt: 1000\n    },\n    {\n      videoUrl: \"https://example.com/vid1.mp4\",\n      videoFrameAt: 2000\n    }\n  ],\n  taskOutput: [\n    { /* labels */ },\n    { /* labels */ },\n    { /* labels */ }\n  ]\n}`}\n              </Code>\n            </Box>\n          </Box>\n        </ExpansionPanelDetails>\n      </StyledExpansionPanel>\n    </SimpleDialog>\n  )\n}\n","// @flow weak\n\nimport React, { useState } from \"react\"\nimport SimpleDialog from \"../SimpleDialog\"\nimport { styled } from \"@material-ui/core/styles\"\nimport useElectron from \"../../utils/use-electron\"\nimport ProgressBar from \"../ProgressBar\"\nimport md5 from \"js-md5\"\nimport path from \"path\"\nimport { setIn } from \"seamless-immutable\"\n\nconst ErrorBox = styled(\"pre\")({\n  color: \"red\",\n  whiteSpace: \"prewrap\",\n  fontSize: 11,\n})\n\nfunction downloadFile(urlToDownload, directoryPath, remote) {\n  const fileName = `sample_${md5(urlToDownload).slice(0, 6)}__${urlToDownload\n    .split(\"/\")\n    .slice(-1)[0]\n    .replace(/[^a-zA-Z0-9_\\-.]/g, \"\")}`\n  const downloadPath = path.join(directoryPath, fileName)\n  if (remote.require(\"fs\").existsSync(downloadPath)) return downloadPath\n  return new Promise((resolve, reject) => {\n    remote.require(\"download-file\")(\n      urlToDownload,\n      {\n        directory: directoryPath,\n        filename: fileName,\n      },\n      (err) => {\n        if (err) return reject(err)\n        return resolve(downloadPath)\n      }\n    )\n  })\n}\n\nexport default ({ open, onChangeDataset, onClose, dataset }) => {\n  const { remote } = useElectron() || {}\n  const [progress, changeProgress] = useState(null)\n  const [errors, changeErrors] = useState(\"\")\n  return (\n    <SimpleDialog\n      open={open}\n      onClose={onClose}\n      title=\"Download URLs\"\n      actions={[\n        {\n          text: \"Download URLs\",\n          disabled: progress !== null,\n          onClick: async () => {\n            changeProgress(0)\n            const {\n              cancelled,\n              filePaths: [directoryPath] = [null],\n            } = await remote.dialog.showOpenDialog({\n              title: \"Directory to download files to\",\n              buttonLabel: \"Download Files Here\",\n              properties: [\n                \"createDirectory\",\n                \"openDirectory\",\n                \"promptToCreate\",\n              ],\n            })\n            if (cancelled || !directoryPath) {\n              changeProgress(null)\n              return\n            }\n\n            const newSamples = [...dataset.samples]\n            let errors = \"\"\n\n            // Iterate over each task datum and download the url, then convert\n            // the path to a filesystem path\n            for (let i = 0; i < dataset.samples.length; i++) {\n              const td = dataset.samples[i]\n              let urlKey\n              if (td.imageUrl) urlKey = \"imageUrl\"\n              if (td.videoUrl) urlKey = \"videoUrl\"\n              if (!urlKey || !td[urlKey].startsWith(\"http\")) continue\n              const urlToDownload = td[urlKey]\n              try {\n                const pathToFile = await downloadFile(\n                  urlToDownload,\n                  directoryPath,\n                  remote\n                )\n                newSamples[i] = {\n                  ...td,\n                  [urlKey]: `file://${pathToFile}`,\n                }\n              } catch (e) {\n                errors += `Skipping sample, error downloading samples[${i}] (${urlToDownload}): ${e.toString()} \\n`\n              }\n              changeProgress((i / dataset.samples.length) * 100)\n            }\n\n            onChangeDataset(setIn(dataset, [\"samples\"], newSamples))\n\n            changeErrors(errors)\n            changeProgress(100)\n          },\n        },\n      ]}\n    >\n      This transformation will download all the urls from your samples to your\n      computer, and change the paths to filenames. This is usually not a good\n      idea if you're collaborating with others, but is very useful if you're\n      about to build a model.\n      <ProgressBar progress={progress || 0} />\n      {errors && <ErrorBox>{errors}</ErrorBox>}\n    </SimpleDialog>\n  )\n}\n","// @flow weak\n\nimport React, { useState } from \"react\"\nimport SimpleDialog from \"../SimpleDialog\"\nimport { styled } from \"@material-ui/core/styles\"\nimport useElectron from \"../../utils/use-electron\"\nimport ProgressBar from \"../ProgressBar\"\nimport { setIn, without } from \"seamless-immutable\"\n\nconst ErrorBox = styled(\"pre\")({\n  color: \"red\",\n  whiteSpace: \"prewrap\",\n  fontSize: 11,\n})\n\nconst getFfmpegTimeCode = (ms) => {\n  const cs = Math.floor(ms / 10) % 100\n  const ss = Math.floor(ms / 1000) % 60\n  const mn = Math.floor(ms / 1000 / 60) % 60\n  const hr = Math.floor(ms / 1000 / 60 / 60)\n  return [hr, \":\", mn, \":\", ss, \".\", cs]\n    .map((n) => (typeof n === \"number\" ? n.toString().padStart(2, \"0\") : n))\n    .join(\"\")\n}\n\nexport default ({ open, onChangeDataset, onClose, dataset }) => {\n  const { remote } = useElectron() || {}\n  const [progress, changeProgress] = useState(null)\n  const [errors, changeErrors] = useState(\"\")\n  return (\n    <SimpleDialog\n      open={open}\n      onClose={onClose}\n      title=\"Convert Video Frames to Images\"\n      actions={[\n        {\n          text: \"Convert Video Frames to Images\",\n          disabled: progress !== null,\n          onClick: async () => {\n            changeProgress(0)\n            let errors = \"\"\n            const pathToFfmpeg = remote.require(\"ffmpeg-static\")\n            if (!pathToFfmpeg) {\n              changeErrors(\n                \"There was an issue using ffmpeg. Please create an issue on the github repository.\"\n              )\n            }\n\n            const shell = remote.require(\"any-shell-escape\")\n            const { exec } = remote.require(\"child_process\")\n            const newsamples = [...dataset.samples]\n            let transformsPerformed = 0\n\n            for (let i = 0; i < dataset.samples.length; i++) {\n              const td = dataset.samples[i]\n              if (td.videoUrl && td.videoFrameAt !== undefined) {\n                if (td.videoUrl.startsWith(\"http\")) {\n                  errors += `Sample ${i} has a url to a video, videos must be downloaded before extracting frames.`\n                  continue\n                }\n                transformsPerformed++\n\n                const videoPath = td.videoUrl.replace(/^file:\\/\\//, \"\")\n                const imageOutputPath =\n                  videoPath + \"__frameat__\" + td.videoFrameAt + \".jpg\"\n                const ffmpegCommand = shell([\n                  pathToFfmpeg,\n                  \"-y\",\n                  \"-ss\",\n                  getFfmpegTimeCode(td.videoFrameAt),\n                  \"-i\",\n                  videoPath,\n                  \"-frames:v\",\n                  1,\n                  imageOutputPath,\n                ])\n                await new Promise((resolve, reject) => {\n                  exec(ffmpegCommand, { timeout: 5000 }, (err) => {\n                    if (err) return reject(err)\n                    resolve()\n                  })\n                })\n                newsamples[i] = {\n                  ...without(\n                    without(dataset.samples[i], \"videoUrl\"),\n                    \"videoFrameAt\"\n                  ),\n                  imageUrl: `file://${imageOutputPath}`,\n                }\n              }\n              changeProgress((i / dataset.samples.length) * 100)\n            }\n\n            if (transformsPerformed === 0) {\n              errors +=\n                \"No transforms were performed, do all of your video samples have frames specified? You may need to convert the keyframes to samples.\"\n            }\n\n            onChangeDataset(setIn(dataset, [\"samples\"], newsamples))\n\n            changeErrors(errors)\n            changeProgress(100)\n          },\n        },\n      ]}\n    >\n      This transformation will convert samples that reference a video frame into\n      an image. This is a useful step before creating a model. You can only\n      convert videos that are downloaded on your computer. Note: This can take a\n      little while.\n      <ProgressBar progress={progress || 0} />\n      {errors && <ErrorBox>{errors}</ErrorBox>}\n    </SimpleDialog>\n  )\n}\n","const uploadFileToTransferSh = async ({ fileName, fileURL, remote }) => {\n  window.remote = remote // TODO remove\n  const remoteURL = `https://files.universaldatatool.com/${fileName}` ///${hashedFileName}\n\n  const axios = remote.require(\"axios\")\n  const exactFilePath = fileURL.split(\"file://\")[1]\n\n  const fsFileBuffer = remote.require(\"fs\").readFileSync(exactFilePath)\n\n  const uploadedFileURL = await axios\n    .put(remoteURL, fsFileBuffer)\n    .then((response) => {\n      if (response.status === 200) {\n        return response.data\n      }\n    })\n\n  return uploadedFileURL.replace(\n    \"universaldatatool.com/\",\n    \"universaldatatool.com/get/\"\n  )\n}\n\nexport default uploadFileToTransferSh\n","const splitFileNameFromFileURL = (fileURL) => {\n  if (fileURL.startsWith(\"file://\")) {\n    const splittedFullFileName = fileURL.split(\"/\")\n    const fullFileName = splittedFullFileName[splittedFullFileName.length - 1]\n    return fullFileName\n  }\n}\n\nexport default splitFileNameFromFileURL\n","const getFileURLKey = (item) => {\n  if (item.imageUrl) return \"imageUrl\"\n  if (item.videoUrl) return \"videoUrl\"\n  if (item.audioUrl) return \"audioUrl\"\n  return null\n}\n\nexport default getFileURLKey\n","import uploadFileToTransferSh from \"./upload-file-to-transfersh\"\nimport splitFileNameFromFileURL from \"./split-file-name-from-file-url\"\nimport getFileURLKey from \"./get-file-url-key\"\nimport { setIn } from \"seamless-immutable\"\n\n// TODO move to utils directory\nconst idify = (s) =>\n  s\n    .toLowerCase()\n    .replace(/[^a-z0-9]/g, \"_\")\n    .replace(/_+/g, \"_\")\n\nconst transformFileURLsToWebURLs = async ({\n  dataset,\n  onChangeDataset,\n  setProgress,\n  remote,\n}) => {\n  const newsamples = []\n\n  const progressUnit = 100 / dataset.samples.length\n  for (\n    let samplesIndex = 0;\n    samplesIndex < dataset.samples.length;\n    samplesIndex++\n  ) {\n    const samplesItem = dataset.samples[samplesIndex]\n\n    const fileURLKey = getFileURLKey(samplesItem)\n\n    if (!fileURLKey) {\n      newsamples.push(samplesItem)\n      continue\n    }\n\n    const fileURL = samplesItem[fileURLKey]\n\n    if (!fileURL.startsWith(\"file://\")) {\n      newsamples.push(samplesItem)\n      continue\n    }\n\n    const halfProgressOfUnit = progressUnit * samplesIndex\n    setProgress(halfProgressOfUnit)\n\n    const fileName = idify(splitFileNameFromFileURL(fileURL))\n\n    const webURLOfUploadedFile = await uploadFileToTransferSh({\n      fileName,\n      fileURL,\n      remote,\n    }).catch((e) => console.warn(e))\n\n    if (!webURLOfUploadedFile) {\n      newsamples.push(samplesItem)\n      continue\n    }\n\n    newsamples.push({\n      ...samplesItem,\n      [fileURLKey]: webURLOfUploadedFile,\n    })\n  }\n  setProgress(100)\n  onChangeDataset(setIn(dataset, [\"samples\"], newsamples))\n}\n\nexport default transformFileURLsToWebURLs\n","import React, { useState } from \"react\"\nimport SimpleDialog from \"../SimpleDialog\"\nimport transformFileURLsToWebURLs from \"./functions/transform-file-urls-to-web-urls\"\nimport ProgressBar from \"../ProgressBar\"\nimport useElectron from \"../../utils/use-electron\"\n\nconst TransformLocalFilesToWebURLs = ({\n  open,\n  onClose,\n  dataset,\n  onChangeDataset,\n}) => {\n  const [progress, setProgress] = useState(0)\n  const { remote } = useElectron() || {}\n\n  return (\n    <SimpleDialog\n      open={open}\n      onClose={onClose}\n      title=\"Convert Local Files to Web URLs\"\n      actions={[\n        {\n          text: \"Convert Local Files to Web URLs\",\n          onClick: async () =>\n            await transformFileURLsToWebURLs({\n              dataset,\n              onChangeDataset,\n              setProgress,\n              remote,\n            }),\n        },\n      ]}\n    >\n      This transformation will upload your local samples to the cloud Note: This\n      can take a little while.\n      <ProgressBar progress={progress} />\n    </SimpleDialog>\n  )\n}\n\nexport default TransformLocalFilesToWebURLs\n","// @flow weak\n\nimport React, { useState, createContext } from \"react\"\nimport MuiButton from \"@material-ui/core/Button\"\nimport { styled } from \"@material-ui/core/styles\"\nimport ImageIcon from \"@material-ui/icons/Image\"\nimport ArrowForwardIcon from \"@material-ui/icons/ArrowForward\"\nimport * as colors from \"@material-ui/core/colors\"\nimport useIsDesktop from \"../../utils/use-is-desktop\"\nimport classnames from \"classnames\"\nimport OndemandVideoIcon from \"@material-ui/icons/OndemandVideo\"\nimport TransformVideoKeyframesDialog from \"../TransformVideoKeyframesDialog\"\nimport DownloadURLsDialog from \"../DownloadURLsDialog\"\nimport GetAppIcon from \"@material-ui/icons/GetApp\"\nimport CollectionsIcon from \"@material-ui/icons/Collections\"\nimport TransformVideoFramesToImagesDialog from \"../TransformVideoFramesToImagesDialog\"\nimport usePosthog from \"../../utils/use-posthog\"\nimport TransformLocalFilesToWebURLs from \"../TransformLocalFilesToWebURLs\"\n\nimport ComputerIcon from \"@material-ui/icons/Computer\"\nimport LanguageIcon from \"@material-ui/icons/Language\"\n\nconst ButtonBase = styled(MuiButton)({\n  width: 240,\n  height: 140,\n  display: \"inline-flex\",\n  flexDirection: \"column\",\n  \"&.disabled\": {\n    backgroundColor: colors.grey[200],\n  },\n  margin: 8,\n  \"& .icon\": {\n    width: 36,\n    height: 36,\n    color: colors.grey[600],\n    \"&.disabled\": {\n      color: colors.grey[400],\n    },\n  },\n})\n\nconst DesktopOnlyText = styled(\"div\")({\n  fontSize: 11,\n  fontWeight: \"bold\",\n  color: colors.grey[600],\n  \"&.disabled\": {\n    color: colors.grey[500],\n  },\n})\n\nconst SelectDialogContext = createContext()\n\nconst Button = ({ Icon1, Icon2, desktopOnly, children, dialog, disabled }) => {\n  const isDesktop = useIsDesktop()\n  const posthog = usePosthog()\n  disabled =\n    disabled === undefined ? (desktopOnly ? !isDesktop : false) : disabled\n  return (\n    <SelectDialogContext.Consumer>\n      {({ onChangeDialog }) => {\n        return (\n          <ButtonBase\n            onClick={() => {\n              onChangeDialog(dialog)\n              posthog.capture(\"transform_button_clicked\", {\n                transform_button: dialog,\n              })\n            }}\n            className={classnames({ disabled })}\n            variant=\"outlined\"\n            disabled={disabled}\n          >\n            <div>\n              {Icon1 && Icon2 ? (\n                <>\n                  <Icon1 className={classnames(\"icon\", { disabled })} />\n                  <ArrowForwardIcon\n                    className={classnames(\"icon\", { disabled })}\n                  />\n                  <Icon2 className={classnames(\"icon\", { disabled })} />\n                </>\n              ) : (\n                <Icon1 className={classnames(\"icon\", { disabled })} />\n              )}\n              <div>{children}</div>\n              {desktopOnly && (\n                <DesktopOnlyText className={classnames({ disabled })}>\n                  DESKTOP ONLY\n                </DesktopOnlyText>\n              )}\n            </div>\n          </ButtonBase>\n        )\n      }}\n    </SelectDialogContext.Consumer>\n  )\n}\n\nexport default ({ dataset, onChangeDataset }) => {\n  const [selectedDialog, changeDialog] = useState()\n  const onChangeDialog = async (dialog) => {\n    switch (dialog) {\n      case \"convert-keyframes-to-samples\": {\n        break\n      }\n      default: {\n        return changeDialog(dialog)\n      }\n    }\n  }\n  const closeDialog = () => changeDialog(null)\n  return (\n    <SelectDialogContext.Provider value={{ onChangeDialog }}>\n      <div>\n        <Button\n          disabled={dataset.interface.type !== \"video_segmentation\"}\n          dialog=\"convert-keyframes-to-samples\"\n          Icon1={OndemandVideoIcon}\n          Icon2={CollectionsIcon}\n        >\n          Convert Video Keyframes to Samples\n        </Button>\n        <Button\n          desktopOnly\n          dialog=\"convert-local-files-to-web-urls\"\n          Icon1={ComputerIcon}\n          Icon2={LanguageIcon}\n        >\n          Transform Local Files to Web URLs\n        </Button>\n        <Button desktopOnly dialog=\"download-urls\" Icon1={GetAppIcon}>\n          Download URLs\n        </Button>\n        <Button\n          desktopOnly\n          dialog=\"convert-video-frames-to-images\"\n          Icon1={OndemandVideoIcon}\n          Icon2={ImageIcon}\n        >\n          Convert Video Frames to Images\n        </Button>\n        <TransformVideoKeyframesDialog\n          open={selectedDialog === \"convert-keyframes-to-samples\"}\n          onClose={closeDialog}\n          dataset={dataset}\n          onChangeDataset={(...args) => {\n            onChangeDataset(...args)\n            closeDialog()\n          }}\n        />\n        <DownloadURLsDialog\n          open={selectedDialog === \"download-urls\"}\n          onClose={closeDialog}\n          dataset={dataset}\n          desktopOnly\n          onChangeDataset={onChangeDataset}\n        ></DownloadURLsDialog>\n        <TransformLocalFilesToWebURLs\n          dataset={dataset}\n          onClose={closeDialog}\n          onChangeDataset={onChangeDataset}\n          desktopOnly\n          open={selectedDialog === \"convert-local-files-to-web-urls\"}\n        ></TransformLocalFilesToWebURLs>\n        <TransformVideoFramesToImagesDialog\n          open={selectedDialog === \"convert-video-frames-to-images\"}\n          onClose={closeDialog}\n          dataset={dataset}\n          desktopOnly\n          onChangeDataset={onChangeDataset}\n        ></TransformVideoFramesToImagesDialog>\n      </div>\n    </SelectDialogContext.Provider>\n  )\n}\n","// @flow weak\n\nimport React, { useMemo, useState } from \"react\"\nimport DataTable from \"react-data-table-component\"\nimport IconButton from \"@material-ui/core/IconButton\"\nimport EditIcon from \"@material-ui/icons/Edit\"\nimport DeleteIcon from \"@material-ui/icons/Delete\"\nimport BorderColorIcon from \"@material-ui/icons/BorderColor\"\nimport { styled } from \"@material-ui/core/styles\"\nimport Grid from \"@material-ui/core/Grid\"\nimport SampleGrid from \"../SampleGrid\"\nimport Tabs from \"@material-ui/core/Tabs\"\nimport Tab from \"@material-ui/core/Tab\"\nimport AppsIcon from \"@material-ui/icons/Apps\"\nimport SlideshowIcon from \"@material-ui/icons/Slideshow\"\nimport TableChartIcon from \"@material-ui/icons/TableChart\"\nimport Box from \"@material-ui/core/Box\"\nimport ImportIcon from \"@material-ui/icons/Publish\"\nimport ImportPage from \"../ImportPage\"\nimport TransformPage from \"../TransformPage\"\nimport useIsDesktop from \"../../utils/use-is-desktop.js\"\nimport * as colors from \"@material-ui/core/colors\"\n\nconst Container = styled(\"div\")({\n  padding: 16,\n  height: \"100%\",\n  display: \"flex\",\n  flexDirection: \"column\",\n  boxSizing: \"border-box\",\n})\n\nconst SampleCounter = styled(\"div\")({\n  fontSize: 14,\n  color: colors.grey[600],\n  display: \"flex\",\n  justifyContent: \"flex-end\",\n  alignItems: \"center\",\n  flexGrow: 1,\n})\n\nconst ExpandedRowContainer = styled(\"div\")({\n  padding: 8,\n  border: \"#888 solid 1px\",\n  borderTop: \"none\",\n  borderRadius: 4,\n  borderTopLeftRadius: 0,\n  borderTopRightRadius: 0,\n  boxShadow: \"inset 0 3px 3px rgba(0,0,0,0.2)\",\n})\nconst ExpandedRowTitle = styled(\"div\")({\n  fontSize: 11,\n  fontWeight: \"bold\",\n})\nconst ExpandedRowCode = styled(\"pre\")({ whiteSpace: \"pre-wrap\", fontSize: 11 })\n\nconst ExpandedRow = ({ data }) => {\n  const { annotation, ...input } = data\n\n  return (\n    <ExpandedRowContainer>\n      <Grid spacing={2} container>\n        <Grid item xs={6}>\n          <ExpandedRowTitle>samples[{data.index}]:</ExpandedRowTitle>\n          <ExpandedRowCode>{JSON.stringify(input, null, \"  \")}</ExpandedRowCode>\n        </Grid>\n        <Grid item xs={6}>\n          <ExpandedRowTitle>samples[{data.index}].annotation:</ExpandedRowTitle>\n          <ExpandedRowCode>\n            {JSON.stringify(annotation, null, \"  \")}\n          </ExpandedRowCode>\n        </Grid>\n      </Grid>\n    </ExpandedRowContainer>\n  )\n}\n\nexport default ({\n  file,\n  dataset,\n  openSampleInputEditor,\n  openSampleLabelEditor,\n  deleteSample,\n  onChangeDataset,\n  onChangeFile,\n  authConfig,\n  user,\n}) => {\n  const isDesktop = useIsDesktop()\n  const [currentTab, changeTabState] = useState(\n    (dataset.samples || []).length === 0\n      ? \"import\"\n      : window.localStorage.lastSampleTab || \"grid\"\n  )\n  const changeTab = (tab) => {\n    changeTabState(tab)\n    window.localStorage.lastSampleTab = tab\n  }\n  const columns = useMemo(() => {\n    if (!dataset.samples) return []\n    const columns = [\n      {\n        name: \"Index\",\n        selector: \"index\",\n        sortable: true,\n      },\n    ]\n    const knownKeys = new Set()\n    for (const td of dataset.samples) {\n      for (const key in td) {\n        if (!knownKeys.has(key)) {\n          columns.push({\n            name: key,\n            selector: key,\n          })\n          knownKeys.add(key)\n        }\n      }\n    }\n    columns.push({\n      name: \"Edit\",\n      button: true,\n      cell: (row) => (\n        <IconButton raised onClick={() => openSampleInputEditor(row.index)}>\n          <EditIcon style={{ width: 20, height: 20 }} />\n        </IconButton>\n      ),\n    })\n    columns.push({\n      name: \"Label\",\n      button: true,\n      cell: (row) => (\n        <IconButton raised onClick={() => openSampleLabelEditor(row.index)}>\n          <BorderColorIcon style={{ width: 20, height: 20 }} />\n        </IconButton>\n      ),\n    })\n    columns.push({\n      name: \"Delete\",\n      button: true,\n      cell: (row) => (\n        <IconButton raised primary onClick={() => deleteSample(row.index)}>\n          <DeleteIcon style={{ width: 20, height: 20 }} />\n        </IconButton>\n      ),\n    })\n    return columns\n  }, [\n    dataset.samples,\n    deleteSample,\n    openSampleInputEditor,\n    openSampleLabelEditor,\n  ])\n\n  const data = useMemo(() => {\n    if (!dataset.samples) return []\n    return dataset.samples.map((td, i) => ({\n      ...td,\n      index: i,\n    }))\n  }, [dataset.samples])\n  return (\n    <Container>\n      <Box display=\"flex\">\n        <Tabs value={currentTab} onChange={(e, newTab) => changeTab(newTab)}>\n          <Tab icon={<ImportIcon />} label=\"Import\" value=\"import\" />\n          <Tab icon={<SlideshowIcon />} label=\"Transform\" value=\"transform\" />\n          <Tab icon={<AppsIcon />} label=\"Grid\" value=\"grid\" />\n          <Tab icon={<TableChartIcon />} label=\"Table\" value=\"table\" />\n        </Tabs>\n        <SampleCounter>\n          {(dataset.samples || []).length} Samples\n          <br />\n          {(dataset.samples || []).filter((s) => s.annotation).length} Labels\n        </SampleCounter>\n      </Box>\n      <Box paddingTop={2} />\n      <Box flexGrow={1}>\n        {currentTab === \"import\" && (\n          <ImportPage\n            file={file}\n            isDesktop={isDesktop}\n            onChangeFile={(file) => onChangeFile(file)}\n            onImportPageShouldExit={() => changeTab(\"grid\")}\n            onChangeDataset={(newOHA) => onChangeDataset(newOHA)}\n            dataset={dataset}\n            authConfig={authConfig}\n            user={user}\n          />\n        )}\n        {currentTab === \"transform\" && (\n          <TransformPage\n            isDesktop={isDesktop}\n            dataset={dataset}\n            onChangeDataset={(dataset, shouldViewChange) => {\n              onChangeDataset(dataset)\n              if (shouldViewChange) {\n                changeTab(\"grid\")\n              }\n            }}\n          />\n        )}\n        {currentTab === \"grid\" && (\n          <SampleGrid\n            count={(dataset.samples || []).length}\n            samples={dataset.samples || []}\n            completed={(dataset.samples || []).map((s) =>\n              Boolean(s.annotation)\n            )}\n            onClick={(sampleIndex) => {\n              openSampleLabelEditor(sampleIndex)\n            }}\n          />\n        )}\n        {currentTab === \"table\" && (\n          <DataTable\n            title=\"Samples\"\n            expandableRowsComponent={<ExpandedRow />}\n            expandableRows\n            dense\n            columns={columns}\n            data={data}\n            pagination\n            paginationPerPage={10}\n            paginationRowsPerPageOptions={[10, 20, 25, 50, 100, 200]}\n          />\n        )}\n      </Box>\n    </Container>\n  )\n}\n","// @flow\nimport React, { useMemo } from \"react\"\nimport Survey from \"material-survey/components/Survey\"\nimport { setIn } from \"seamless-immutable\"\n\nconst form = {\n  questions: [\n    {\n      name: \"regionTypesAllowed\",\n      title: \"Region Types Allowed\",\n      description: \"What types of regions can be drawn on the image.\",\n      type: \"multiple-dropdown\",\n      choices: [\"bounding-box\", \"polygon\", \"point\"],\n    },\n    {\n      name: \"multipleRegions\",\n      title: \"Can multiple regions be created?\",\n      type: \"boolean\",\n    },\n    {\n      name: \"multipleRegionLabels\",\n      title: \"Multiple Region Labels Allowed?\",\n      type: \"boolean\",\n    },\n    {\n      name: \"labels\",\n      title: \"Available Labels\",\n      description:\n        \"If you're labeling regions on an image, these are the allowed classifications or tags.\",\n      type: \"matrixdynamic\",\n      columns: [\n        { cellType: \"text\", name: \"id\", title: \"id\" },\n        {\n          cellType: \"text\",\n          name: \"description\",\n          title: \"Description (optional)\",\n        },\n      ],\n    },\n  ],\n}\n\nexport default ({ iface, onChange }) => {\n  const defaultAnswers = useMemo(\n    () => ({\n      multipleRegions: Boolean(\n        iface.multipleRegions || iface.multipleRegions === undefined\n      ),\n      multipleRegionLabels: Boolean(iface.multipleRegionLabels),\n      regionTypesAllowed: iface.regionTypesAllowed,\n      labels:\n        (iface.labels || []).map((a) =>\n          typeof a === \"string\" ? { id: a, description: a } : a\n        ) || [],\n    }),\n    [iface]\n  )\n  return (\n    <Survey\n      noActions\n      variant=\"flat\"\n      defaultAnswers={defaultAnswers}\n      onQuestionChange={(questionId, newValue, answers) => {\n        onChange(setIn(iface, [questionId], newValue))\n      }}\n      form={form}\n    />\n  )\n}\n","// @flow\nimport React, { useMemo } from \"react\"\nimport Survey from \"material-survey/components/Survey\"\nimport { setIn } from \"seamless-immutable\"\n\nconst form = {\n  questions: [\n    {\n      name: \"multiple\",\n      title: \"Allow multiple classifications per image?\",\n      type: \"boolean\",\n    },\n    {\n      name: \"labels\",\n      title: \"Labels\",\n      description: \"Classifications or tags to be labeled.\",\n      type: \"matrixdynamic\",\n      columns: [\n        { cellType: \"text\", name: \"id\", title: \"id\" },\n        {\n          cellType: \"text\",\n          name: \"description\",\n          title: \"Description (optional)\",\n        },\n      ],\n    },\n  ],\n}\n\nexport default ({ iface, onChange }) => {\n  const defaultAnswers = useMemo(\n    () => ({\n      allowMultiple: false,\n      labels:\n        (iface.labels || []).map((a) =>\n          typeof a === \"string\" ? { id: a, description: a } : a\n        ) || [],\n    }),\n    [iface.labels]\n  )\n  return (\n    <Survey\n      noActions\n      variant=\"flat\"\n      defaultAnswers={defaultAnswers}\n      onQuestionChange={(questionId, newValue, answers) => {\n        onChange(setIn(iface, [questionId], newValue))\n      }}\n      form={form}\n    />\n  )\n}\n","// @flow\n\nimport React, { useMemo } from \"react\"\nimport Survey from \"material-survey/components/Survey\"\nimport { setIn } from \"seamless-immutable\"\n\nconst form = {\n  questions: [\n    {\n      name: \"multiple\",\n      title: \"Allow Multiple Classifications\",\n      type: \"boolean\",\n    },\n    {\n      name: \"labels\",\n      title: \"Labels\",\n      description: \"Classifications or tags to be labeled.\",\n      type: \"matrixdynamic\",\n      columns: [\n        { cellType: \"text\", name: \"id\", title: \"id\" },\n        { cellType: \"text\", name: \"displayName\", title: \"Display Name\" },\n        {\n          cellType: \"text\",\n          name: \"description\",\n          title: \"Description (optional)\",\n        },\n      ],\n    },\n  ],\n}\n\nexport default ({ iface, onChange }) => {\n  const defaultAnswers = useMemo(\n    () => ({\n      multiple: false,\n      labels:\n        (iface.labels || []).map((a) =>\n          typeof a === \"string\" ? { id: a, displayName: a, description: a } : a\n        ) || [],\n    }),\n    [iface.labels]\n  )\n  return (\n    <Survey\n      noActions\n      variant=\"flat\"\n      defaultAnswers={defaultAnswers}\n      onQuestionChange={(questionId, newValue, answers) => {\n        onChange(setIn(iface, [questionId], newValue))\n      }}\n      form={form}\n    />\n  )\n}\n","import React from \"react\"\nimport Survey from \"material-survey/components/Survey\"\n\n// https://gist.github.com/DimazzzZ/4e2a5a6c8c6f67900091#gistcomment-2021620\nconst languages = [\n  { value: \"ab\", text: \"Abkhazian\" },\n  { value: \"aa\", text: \"Afar\" },\n  { value: \"af\", text: \"Afrikaans\" },\n  { value: \"ak\", text: \"Akan\" },\n  { value: \"sq\", text: \"Albanian\" },\n  { value: \"am\", text: \"Amharic\" },\n  { value: \"ar\", text: \"Arabic\" },\n  { value: \"an\", text: \"Aragonese\" },\n  { value: \"hy\", text: \"Armenian\" },\n  { value: \"as\", text: \"Assamese\" },\n  { value: \"av\", text: \"Avaric\" },\n  { value: \"ae\", text: \"Avestan\" },\n  { value: \"ay\", text: \"Aymara\" },\n  { value: \"az\", text: \"Azerbaijani\" },\n  { value: \"bm\", text: \"Bambara\" },\n  { value: \"ba\", text: \"Bashkir\" },\n  { value: \"eu\", text: \"Basque\" },\n  { value: \"be\", text: \"Belarusian\" },\n  { value: \"bn\", text: \"Bengali\" },\n  { value: \"bh\", text: \"Bihari languages\" },\n  { value: \"bi\", text: \"Bislama\" },\n  { value: \"bs\", text: \"Bosnian\" },\n  { value: \"br\", text: \"Breton\" },\n  { value: \"bg\", text: \"Bulgarian\" },\n  { value: \"my\", text: \"Burmese\" },\n  { value: \"ca\", text: \"Catalan, Valencian\" },\n  { value: \"km\", text: \"Central Khmer\" },\n  { value: \"ch\", text: \"Chamorro\" },\n  { value: \"ce\", text: \"Chechen\" },\n  { value: \"ny\", text: \"Chichewa, Chewa, Nyanja\" },\n  { value: \"zh\", text: \"Chinese\" },\n  { value: \"cu\", text: \"Church Slavonic, Old Bulgarian, Old Church Slavonic\" },\n  { value: \"cv\", text: \"Chuvash\" },\n  { value: \"kw\", text: \"Cornish\" },\n  { value: \"co\", text: \"Corsican\" },\n  { value: \"cr\", text: \"Cree\" },\n  { value: \"hr\", text: \"Croatian\" },\n  { value: \"cs\", text: \"Czech\" },\n  { value: \"da\", text: \"Danish\" },\n  { value: \"dv\", text: \"Divehi, Dhivehi, Maldivian\" },\n  { value: \"nl\", text: \"Dutch, Flemish\" },\n  { value: \"dz\", text: \"Dzongkha\" },\n  { value: \"en\", text: \"English\" },\n  { value: \"eo\", text: \"Esperanto\" },\n  { value: \"et\", text: \"Estonian\" },\n  { value: \"ee\", text: \"Ewe\" },\n  { value: \"fo\", text: \"Faroese\" },\n  { value: \"fj\", text: \"Fijian\" },\n  { value: \"fi\", text: \"Finnish\" },\n  { value: \"fr\", text: \"French\" },\n  { value: \"ff\", text: \"Fulah\" },\n  { value: \"gd\", text: \"Gaelic, Scottish Gaelic\" },\n  { value: \"gl\", text: \"Galician\" },\n  { value: \"lg\", text: \"Ganda\" },\n  { value: \"ka\", text: \"Georgian\" },\n  { value: \"de\", text: \"German\" },\n  { value: \"ki\", text: \"Gikuyu, Kikuyu\" },\n  { value: \"el\", text: \"Greek (Modern)\" },\n  { value: \"kl\", text: \"Greenlandic, Kalaallisut\" },\n  { value: \"gn\", text: \"Guarani\" },\n  { value: \"gu\", text: \"Gujarati\" },\n  { value: \"ht\", text: \"Haitian, Haitian Creole\" },\n  { value: \"ha\", text: \"Hausa\" },\n  { value: \"he\", text: \"Hebrew\" },\n  { value: \"hz\", text: \"Herero\" },\n  { value: \"hi\", text: \"Hindi\" },\n  { value: \"ho\", text: \"Hiri Motu\" },\n  { value: \"hu\", text: \"Hungarian\" },\n  { value: \"is\", text: \"Icelandic\" },\n  { value: \"io\", text: \"Ido\" },\n  { value: \"ig\", text: \"Igbo\" },\n  { value: \"id\", text: \"Indonesian\" },\n  {\n    value: \"ia\",\n    text: \"Interlingua (International Auxiliary Language Association)\",\n  },\n  { value: \"ie\", text: \"Interlingue\" },\n  { value: \"iu\", text: \"Inuktitut\" },\n  { value: \"ik\", text: \"Inupiaq\" },\n  { value: \"ga\", text: \"Irish\" },\n  { value: \"it\", text: \"Italian\" },\n  { value: \"ja\", text: \"Japanese\" },\n  { value: \"jv\", text: \"Javanese\" },\n  { value: \"kn\", text: \"Kannada\" },\n  { value: \"kr\", text: \"Kanuri\" },\n  { value: \"ks\", text: \"Kashmiri\" },\n  { value: \"kk\", text: \"Kazakh\" },\n  { value: \"rw\", text: \"Kinyarwanda\" },\n  { value: \"kv\", text: \"Komi\" },\n  { value: \"kg\", text: \"Kongo\" },\n  { value: \"ko\", text: \"Korean\" },\n  { value: \"kj\", text: \"Kwanyama, Kuanyama\" },\n  { value: \"ku\", text: \"Kurdish\" },\n  { value: \"ky\", text: \"Kyrgyz\" },\n  { value: \"lo\", text: \"Lao\" },\n  { value: \"la\", text: \"Latin\" },\n  { value: \"lv\", text: \"Latvian\" },\n  { value: \"lb\", text: \"Letzeburgesch, Luxembourgish\" },\n  { value: \"li\", text: \"Limburgish, Limburgan, Limburger\" },\n  { value: \"ln\", text: \"Lingala\" },\n  { value: \"lt\", text: \"Lithuanian\" },\n  { value: \"lu\", text: \"Luba-Katanga\" },\n  { value: \"mk\", text: \"Macedonian\" },\n  { value: \"mg\", text: \"Malagasy\" },\n  { value: \"ms\", text: \"Malay\" },\n  { value: \"ml\", text: \"Malayalam\" },\n  { value: \"mt\", text: \"Maltese\" },\n  { value: \"gv\", text: \"Manx\" },\n  { value: \"mi\", text: \"Maori\" },\n  { value: \"mr\", text: \"Marathi\" },\n  { value: \"mh\", text: \"Marshallese\" },\n  { value: \"ro\", text: \"Moldovan, Moldavian, Romanian\" },\n  { value: \"mn\", text: \"Mongolian\" },\n  { value: \"na\", text: \"Nauru\" },\n  { value: \"nv\", text: \"Navajo, Navaho\" },\n  { value: \"nd\", text: \"Northern Ndebele\" },\n  { value: \"ng\", text: \"Ndonga\" },\n  { value: \"ne\", text: \"Nepali\" },\n  { value: \"se\", text: \"Northern Sami\" },\n  { value: \"no\", text: \"Norwegian\" },\n  { value: \"nb\", text: \"Norwegian Bokmål\" },\n  { value: \"nn\", text: \"Norwegian Nynorsk\" },\n  { value: \"ii\", text: \"Nuosu, Sichuan Yi\" },\n  { value: \"oc\", text: \"Occitan (post 1500)\" },\n  { value: \"oj\", text: \"Ojibwa\" },\n  { value: \"or\", text: \"Oriya\" },\n  { value: \"om\", text: \"Oromo\" },\n  { value: \"os\", text: \"Ossetian, Ossetic\" },\n  { value: \"pi\", text: \"Pali\" },\n  { value: \"pa\", text: \"Panjabi, Punjabi\" },\n  { value: \"ps\", text: \"Pashto, Pushto\" },\n  { value: \"fa\", text: \"Persian\" },\n  { value: \"pl\", text: \"Polish\" },\n  { value: \"pt\", text: \"Portuguese\" },\n  { value: \"qu\", text: \"Quechua\" },\n  { value: \"rm\", text: \"Romansh\" },\n  { value: \"rn\", text: \"Rundi\" },\n  { value: \"ru\", text: \"Russian\" },\n  { value: \"sm\", text: \"Samoan\" },\n  { value: \"sg\", text: \"Sango\" },\n  { value: \"sa\", text: \"Sanskrit\" },\n  { value: \"sc\", text: \"Sardinian\" },\n  { value: \"sr\", text: \"Serbian\" },\n  { value: \"sn\", text: \"Shona\" },\n  { value: \"sd\", text: \"Sindhi\" },\n  { value: \"si\", text: \"Sinhala, Sinhalese\" },\n  { value: \"sk\", text: \"Slovak\" },\n  { value: \"sl\", text: \"Slovenian\" },\n  { value: \"so\", text: \"Somali\" },\n  { value: \"st\", text: \"Sotho, Southern\" },\n  { value: \"nr\", text: \"South Ndebele\" },\n  { value: \"es\", text: \"Spanish, Castilian\" },\n  { value: \"su\", text: \"Sundanese\" },\n  { value: \"sw\", text: \"Swahili\" },\n  { value: \"ss\", text: \"Swati\" },\n  { value: \"sv\", text: \"Swedish\" },\n  { value: \"tl\", text: \"Tagalog\" },\n  { value: \"ty\", text: \"Tahitian\" },\n  { value: \"tg\", text: \"Tajik\" },\n  { value: \"ta\", text: \"Tamil\" },\n  { value: \"tt\", text: \"Tatar\" },\n  { value: \"te\", text: \"Telugu\" },\n  { value: \"th\", text: \"Thai\" },\n  { value: \"bo\", text: \"Tibetan\" },\n  { value: \"ti\", text: \"Tigrinya\" },\n  { value: \"to\", text: \"Tonga (Tonga Islands)\" },\n  { value: \"ts\", text: \"Tsonga\" },\n  { value: \"tn\", text: \"Tswana\" },\n  { value: \"tr\", text: \"Turkish\" },\n  { value: \"tk\", text: \"Turkmen\" },\n  { value: \"tw\", text: \"Twi\" },\n  { value: \"ug\", text: \"Uighur, Uyghur\" },\n  { value: \"uk\", text: \"Ukrainian\" },\n  { value: \"ur\", text: \"Urdu\" },\n  { value: \"uz\", text: \"Uzbek\" },\n  { value: \"ve\", text: \"Venda\" },\n  { value: \"vi\", text: \"Vietnamese\" },\n  { value: \"vo\", text: \"Volap_k\" },\n  { value: \"wa\", text: \"Walloon\" },\n  { value: \"cy\", text: \"Welsh\" },\n  { value: \"fy\", text: \"Western Frisian\" },\n  { value: \"wo\", text: \"Wolof\" },\n  { value: \"xh\", text: \"Xhosa\" },\n  { value: \"yi\", text: \"Yiddish\" },\n  { value: \"yo\", text: \"Yoruba\" },\n  { value: \"za\", text: \"Zhuang, Chuang\" },\n  { value: \"zu\", text: \"Zulu\" },\n]\n\nconst form = {\n  questions: [\n    {\n      name: \"transcriptionType\",\n      title: \"Transcription Type\",\n      type: \"dropdown\",\n      choices: [\"simple\", \"proper\"],\n    },\n    {\n      name: \"phraseBank\",\n      title: \"Phrase Bank\",\n      description: \"URL of single-column CSV or TXT file with allowed phrases\",\n      type: \"text\",\n    },\n    {\n      name: \"onlyUseWordsInPhraseBank\",\n      title: \"Only Use Words In Phrase Bank\",\n      type: \"boolean\",\n    },\n    {\n      name: \"language\",\n      title: \"Language\",\n      type: \"dropdown\",\n      // https://gist.github.com/DimazzzZ/4e2a5a6c8c6f67900091#gistcomment-2858621\n      choices: languages,\n    },\n    {\n      name: \"description\",\n      title: \"Description\",\n      type: \"multiline-text\",\n    },\n  ],\n}\n\nexport default ({ iface, onChange }) => {\n  return (\n    <Survey\n      noActions\n      variant=\"flat\"\n      onQuestionChange={(questionId, newValue, answers) => {\n        if (newValue.value) {\n          onChange({ ...iface, [questionId]: newValue.value })\n        } else {\n          onChange({ ...iface, [questionId]: newValue })\n        }\n      }}\n      form={form}\n    />\n  )\n}\n","import React, { useMemo } from \"react\"\nimport Survey from \"material-survey/components/Survey\"\nimport { setIn } from \"seamless-immutable\"\n\nconst form = {\n  questions: [\n    // TODO uncomment when description can be seen in the interface somewhere\n    // {\n    //   name: \"description\",\n    //   title: \"Description\",\n    //   type: \"multiline-text\",\n    // },\n    // TODO enable when we support overlap\n    // {\n    //   name: \"overlapAllowed\",\n    //   title: \"Overlap Allowed\",\n    //   type: \"boolean\",\n    // },\n    {\n      name: \"labels\",\n      title: \"Labels\",\n      type: \"matrixdynamic\",\n      hasOther: true,\n      columns: [\n        {\n          cellType: \"text\",\n          name: \"id\",\n          title: \"ID\",\n        },\n        {\n          cellType: \"text\",\n          name: \"displayName\",\n          title: \"Display Name\",\n        },\n        {\n          cellType: \"text\",\n          name: \"description\",\n          title: \"Description\",\n        },\n      ],\n    },\n  ],\n}\n\nexport default ({ iface, onChange }) => {\n  const defaultAnswers = useMemo(\n    () => ({\n      description: iface.description,\n      overlapAllowed: Boolean(\n        iface.overlapAllowed || iface.overlapAllowed === undefined\n      ),\n      labels: (iface.labels || []).map((column) =>\n        typeof column === \"string\"\n          ? {\n              id: column,\n              displayName: column,\n              description: column,\n            }\n          : column\n      ),\n    }),\n    [iface]\n  )\n  return (\n    <Survey\n      noActions\n      variant=\"flat\"\n      onQuestionChange={(questionId, newValue, answers) => {\n        onChange(setIn(iface, [questionId], newValue))\n      }}\n      form={form}\n      defaultAnswers={defaultAnswers}\n    />\n  )\n}\n","// @flow\n\nimport React, { useRef, useState } from \"react\"\nimport * as colors from \"@material-ui/core/colors\"\nimport { styled } from \"@material-ui/core/styles\"\nimport Button from \"@material-ui/core/Button\"\nimport IconButton from \"@material-ui/core/IconButton\"\nimport Menu from \"@material-ui/core/Menu\"\nimport MenuItem from \"@material-ui/core/MenuItem\"\nimport AddCircleIcon from \"@material-ui/icons/AddCircle\"\nimport CancelIcon from \"@material-ui/icons/Cancel\"\nimport TextField from \"@material-ui/core/TextField\"\nimport Survey from \"material-survey/components/Survey\"\nimport Grid from \"@material-ui/core/Grid\"\nimport { setIn } from \"seamless-immutable\"\n\nconst ButtonsContainer = styled(\"div\")({\n  textAlign: \"right\",\n})\nconst NoQuestions = styled(\"div\")({\n  fontSize: 18,\n  color: colors.grey[500],\n  fontWeight: \"bold\",\n  textAlign: \"center\",\n  padding: 16,\n})\n\nconst Question = styled(\"div\")({\n  position: \"relative\",\n  padding: 16,\n  margin: 16,\n  borderLeft: `4px solid ${colors.blue[400]}`,\n  // backgroundColor: colors.grey[50],\n  borderRadius: 4,\n  paddingRight: 64,\n  \"& .quitButton\": {\n    position: \"absolute\",\n    right: 4,\n    top: 4,\n  },\n  \"& > *\": {\n    margin: 8,\n  },\n})\nconst PreviewHeader = styled(\"div\")({\n  fontSize: 12,\n  fontWeight: \"bold\",\n  color: colors.grey[600],\n  textTransform: \"uppercase\",\n  margin: 16,\n  marginBottom: 32,\n})\n\nconst StyledButton = styled(Button)({\n  position: \"relative\",\n  \"& .icon\": {\n    marginRight: 8,\n    opacity: 0.7,\n  },\n})\n\nexport default ({ iface, onChange }) => {\n  const anchorEl = useRef()\n  const [menuOpen, changeMenuOpen] = useState(false)\n  const { questions = [] } = iface.surveyjs || {}\n  return (\n    <div>\n      {questions.length === 0 ? (\n        <NoQuestions>No Inputs, Click Add Input Below</NoQuestions>\n      ) : (\n        questions.map((q, i) => (\n          <Question key={i}>\n            <div style={{ display: \"flex\" }}>\n              <TextField\n                variant=\"outlined\"\n                label=\"Name / Identifier\"\n                value={q.name || \"\"}\n                onChange={(e) => {\n                  onChange(\n                    setIn(\n                      iface,\n                      [\"surveyjs\", \"questions\", i, \"name\"],\n                      e.target.value\n                    )\n                  )\n                }}\n              />\n              <TextField\n                style={{ marginLeft: 8, flexGrow: 1 }}\n                variant=\"outlined\"\n                label=\"Title / Instruction\"\n                value={q.title || \"\"}\n                onChange={(e) => {\n                  onChange(\n                    setIn(\n                      iface,\n                      [\"surveyjs\", \"questions\", i, \"title\"],\n                      e.target.value\n                    )\n                  )\n                }}\n              />\n            </div>\n            <Grid container>\n              <Grid item xs={6}>\n                {q.choices && (\n                  <TextField\n                    style={{\n                      marginTop: 8,\n                      paddingRight: 8,\n                      boxSizing: \"border-box\",\n                    }}\n                    variant=\"outlined\"\n                    fullWidth\n                    label=\"Choices (One per Line)\"\n                    defaultValue={q.choices.join(\"\\n\") || \"\"}\n                    onChange={(e) => {\n                      onChange(\n                        setIn(\n                          iface,\n                          [\"surveyjs\", \"questions\", i, \"choices\"],\n                          e.target.value.split(\"\\n\")\n                        )\n                      )\n                    }}\n                    multiline\n                    rows={6}\n                  />\n                )}\n              </Grid>\n              <Grid item xs={6}>\n                <PreviewHeader>Preview</PreviewHeader>\n                <Survey\n                  noActions\n                  variant=\"flat\"\n                  key={q}\n                  form={{ questions: [q] }}\n                />\n              </Grid>\n            </Grid>\n            <IconButton\n              className=\"quitButton\"\n              onClick={() => {\n                onChange(\n                  setIn(\n                    iface,\n                    [\"surveyjs\", \"questions\"],\n                    [...questions.slice(0, i), ...questions.slice(i + 1)]\n                  )\n                )\n              }}\n            >\n              <CancelIcon />\n            </IconButton>\n          </Question>\n        ))\n      )}\n      <ButtonsContainer>\n        <StyledButton onClick={(e) => changeMenuOpen(true)} ref={anchorEl}>\n          <AddCircleIcon className=\"icon\" />\n          Add Input\n        </StyledButton>\n      </ButtonsContainer>\n      <Menu\n        anchorEl={anchorEl && anchorEl.current}\n        open={menuOpen}\n        onClose={() => changeMenuOpen(false)}\n      >\n        <MenuItem\n          onClick={() => {\n            changeMenuOpen(false)\n            onChange(\n              setIn(\n                iface,\n                [\"surveyjs\", \"questions\"],\n                ((iface.surveyjs || {}).questions || []).concat([\n                  {\n                    name: \"input\" + questions.length,\n                    type: \"text\",\n                    title: \"New Text Input\",\n                  },\n                ])\n              )\n            )\n          }}\n        >\n          Text Input\n        </MenuItem>\n        <MenuItem\n          onClick={() => {\n            changeMenuOpen(false)\n            onChange(\n              setIn(\n                iface,\n                [\"surveyjs\", \"questions\"],\n                (iface.surveyjs.questions || []).concat({\n                  name: \"input\" + questions.length,\n                  type: \"radiogroup\",\n                  title: \"New Exclusive Choice Input\",\n                  choices: [\"Yes\", \"Maybe\", \"No\"],\n                })\n              )\n            )\n          }}\n        >\n          Exclusive Choice\n        </MenuItem>\n        <MenuItem\n          onClick={() => {\n            changeMenuOpen(false)\n            onChange(\n              setIn(\n                iface,\n                [\"surveyjs\", \"questions\"],\n                (iface.surveyjs.questions || []).concat({\n                  name: \"input\" + questions.length,\n                  type: \"checkbox\",\n                  title: \"New Checkbox Input\",\n                  choices: [\"A\", \"B\", \"C\"],\n                })\n              )\n            )\n          }}\n        >\n          Checkboxes\n        </MenuItem>\n        <MenuItem\n          onClick={() => {\n            changeMenuOpen(false)\n            onChange(\n              setIn(\n                iface,\n                [\"surveyjs\", \"questions\"],\n                iface.surveyjs.questions.concat({\n                  name: \"input\" + questions.length,\n                  type: \"boolean\",\n                  title: \"New Boolean Input\",\n                })\n              )\n            )\n          }}\n        >\n          Boolean\n        </MenuItem>\n        <MenuItem\n          onClick={() => {\n            changeMenuOpen(false)\n            onChange(\n              setIn(\n                iface,\n                [\"surveyjs\", \"questions\"],\n                (iface.questions || []).concat({\n                  name: \"input\" + questions.length,\n                  type: \"dropdown\",\n                  title: \"New Dropdown Input\",\n                  choices: [\"A\", \"B\", \"C\"],\n                })\n              )\n            )\n          }}\n        >\n          Dropdown / Autocomplete\n        </MenuItem>\n        <MenuItem\n          onClick={() => {\n            changeMenuOpen(false)\n            onChange(\n              setIn(\n                iface,\n                [\"surveyjs\", \"questions\"],\n                iface.surveyjs.questions.concat([\n                  {\n                    name: \"input\" + questions.length,\n                    type: \"multiple-dropdown\",\n                    title: \"New Multiple Dropdown Input\",\n                    choices: [\"A\", \"B\", \"C\"],\n                  },\n                ])\n              )\n            )\n          }}\n        >\n          Multiple Item Dropdown / Autocomplete\n        </MenuItem>\n      </Menu>\n    </div>\n  )\n}\n","import React from \"react\"\nimport ConfigureInterface from \"../ConfigureInterface\"\nimport { styled } from \"@material-ui/core/styles\"\nimport ExpansionPanel from \"@material-ui/core/ExpansionPanel\"\nimport ExpansionPanelDetails from \"@material-ui/core/ExpansionPanelDetails\"\nimport ExpansionPanelSummary from \"@material-ui/core/ExpansionPanelSummary\"\nimport ExpandMoreIcon from \"@material-ui/icons/ExpandMore\"\nimport Button from \"@material-ui/core/Button\"\nimport Box from \"@material-ui/core/Box\"\nimport TextField from \"@material-ui/core/TextField\"\nimport { setIn } from \"seamless-immutable\"\n\nconst Fields = styled(\"div\")({})\nconst StyledExpansionPanel = styled(ExpansionPanel)({\n  marginTop: 16,\n  border: \"2px solid #000\",\n})\nconst StyledButton = styled(Button)({\n  width: \"100%\",\n  margin: 16,\n  marginLeft: 0,\n})\n\nexport default ({ iface, onChange }) => {\n  return (\n    <React.Fragment>\n      <Fields>\n        {(iface.fields || []).map((f, fieldIndex) => (\n          <StyledExpansionPanel key={fieldIndex}>\n            <ExpansionPanelSummary expandIcon={<ExpandMoreIcon />}>\n              {f.fieldName}\n            </ExpansionPanelSummary>\n            <ExpansionPanelDetails>\n              <Box display=\"flex\" flexDirection=\"column\">\n                <TextField\n                  label=\"Field Name\"\n                  value={f.fieldName}\n                  onChange={(e) => {\n                    onChange(\n                      setIn(\n                        [\"fields\", fieldIndex, \"fieldName\"],\n                        e.target.value,\n                        iface\n                      )\n                    )\n                  }}\n                />\n                <ConfigureInterface\n                  isNested\n                  iface={f.interface}\n                  onChange={(newFieldInterface) => {\n                    onChange({\n                      ...iface,\n                      fields: iface.fields.map((field) =>\n                        field.fieldName === f.fieldName\n                          ? { ...f, interface: newFieldInterface }\n                          : field\n                      ),\n                    })\n                  }}\n                />\n                <Button\n                  onClick={() => {\n                    onChange({\n                      ...iface,\n                      fields: iface.fields.filter(\n                        ({ fieldName }) => fieldName !== f.fieldName\n                      ),\n                    })\n                  }}\n                >\n                  Remove Field\n                </Button>\n              </Box>\n            </ExpansionPanelDetails>\n          </StyledExpansionPanel>\n        ))}\n        <StyledButton\n          onClick={() => {\n            onChange(\n              setIn(\n                iface,\n                [\"fields\"],\n                (iface.fields || []).concat({\n                  fieldOrder: (iface.fields || []).length,\n                  fieldName: \"New Field\",\n                  interface: {\n                    type: \"empty\",\n                  },\n                })\n              )\n            )\n          }}\n        >\n          Add New Field\n        </StyledButton>\n      </Fields>\n    </React.Fragment>\n  )\n}\n","import React from \"react\"\nimport { styled } from \"@material-ui/core/styles\"\nimport * as colors from \"@material-ui/core/colors\"\n\nconst ExplanationTextHeader = styled(\"div\")({\n  textAlign: \"center\",\n  paddingTop: 30,\n  paddingBottom: 50,\n  userSelect: \"none\",\n})\n\nconst ExplanationText = styled(\"h3\")({\n  fontWeight: \"bold\",\n  color: colors.grey[500],\n})\n\nconst GithubLink = styled(\"a\")({\n  color: colors.blue[500],\n})\n\nconst Configure3D = () => {\n  return (\n    <ExplanationTextHeader>\n      <ExplanationText>\n        Hey, this isn't currently available, but if you'd like this\n        functionality please let us know by leaving a thumbs up on{\" \"}\n        <GithubLink\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n          href=\"https://github.com/UniversalDataTool/universal-data-tool/issues/20\"\n        >\n          this\n        </GithubLink>{\" \"}\n        github issue.\n      </ExplanationText>\n    </ExplanationTextHeader>\n  )\n}\n\nexport default Configure3D\n","// @flow\nimport React, { useMemo } from \"react\"\nimport Survey from \"material-survey/components/Survey\"\nimport { setIn } from \"seamless-immutable\"\n\nconst form = {\n  questions: [\n    {\n      name: \"regionTypesAllowed\",\n      title: \"Region Types Allowed\",\n      description: \"What types of regions can be drawn on the image.\",\n      type: \"multiple-dropdown\",\n      choices: [\"bounding-box\", \"polygon\", \"point\"],\n    },\n    {\n      name: \"multipleRegions\",\n      title: \"Can multiple regions be created?\",\n      type: \"boolean\",\n    },\n    {\n      name: \"multipleRegionLabels\",\n      title: \"Multiple Region Labels Allowed?\",\n      type: \"boolean\",\n    },\n    {\n      name: \"labels\",\n      title: \"Labels\",\n      description:\n        \"If you're labeling regions on an video frames, these are the allowed classifications or tags.\",\n      type: \"matrixdynamic\",\n      columns: [\n        { cellType: \"text\", name: \"id\", title: \"id\" },\n        {\n          cellType: \"text\",\n          name: \"description\",\n          title: \"Description (optional)\",\n        },\n      ],\n    },\n  ],\n}\n\nexport default ({ iface, onChange }) => {\n  const defaultAnswers = useMemo(\n    () => ({\n      multipleRegions: Boolean(\n        iface.multipleRegions || iface.multipleRegions === undefined\n      ),\n      multipleRegionLabels: Boolean(iface.multipleRegionLabels),\n      regionTypesAllowed: iface.regionTypesAllowed,\n      labels:\n        (iface.labels || []).map((a) =>\n          typeof a === \"string\" ? { id: a, description: a } : a\n        ) || [],\n    }),\n    [iface]\n  )\n  return (\n    <Survey\n      noActions\n      variant=\"flat\"\n      defaultAnswers={defaultAnswers}\n      onQuestionChange={(questionId, newValue, answers) => {\n        onChange(setIn(iface, [questionId], newValue))\n      }}\n      form={form}\n    />\n  )\n}\n","export default function getTaskDescription(samplesItem) {\n  const { description, imageUrl, url, pdfUrl } = samplesItem\n  if (description) return description\n  if (imageUrl) return `![${imageUrl}](${imageUrl})`\n  if (pdfUrl)\n    return (\n      `[PDF Link](${pdfUrl})` +\n      `<object data=\"${pdfUrl.replace(\n        \"http://\",\n        \"https://\"\n      )}\" type=\"application/pdf\" width=\"100%\" height=\"600px\"></object>`\n    )\n  if (url) return `Use this [Link](${url})`\n  return null\n}\n","// @flow\nimport React from \"react\"\nimport { makeStyles } from \"@material-ui/core/styles\"\n\nconst useStyles = makeStyles({\n  linkButtonContainer: {\n    marginLeft: 8,\n    marginRight: 8,\n  },\n  linkButton: {\n    textTransform: \"none\",\n    cursor: \"pointer\",\n    textDecoration: \"underline\",\n  },\n})\n\nexport default ({ onClick, text }: { onClick: Function, text: string }) => {\n  const c = useStyles()\n  return (\n    <span className={c.linkButtonContainer}>\n      (\n      <span onClick={onClick} className={c.linkButton}>\n        {text}\n      </span>\n      )\n    </span>\n  )\n}\n","// @flow\n\nimport React, { useState } from \"react\"\nimport { makeStyles } from \"@material-ui/core\"\nimport Grid from \"@material-ui/core/Grid\"\nimport Button from \"@material-ui/core/Button\"\nimport ReactMarkdown from \"react-markdown\"\nimport RightIcon from \"@material-ui/icons/KeyboardArrowRight\"\nimport LeftIcon from \"@material-ui/icons/KeyboardArrowLeft\"\nimport CircleIcon from \"@material-ui/icons/RadioButtonUnchecked\"\nimport CheckCircle from \"@material-ui/icons/CheckCircle\"\nimport * as colors from \"@material-ui/core/colors\"\nimport Drawer from \"@material-ui/core/Drawer\"\nimport List from \"@material-ui/core/List\"\nimport ListItem from \"@material-ui/core/ListItem\"\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\"\nimport ListItemText from \"@material-ui/core/ListItemText\"\nimport ListSubheader from \"@material-ui/core/ListSubheader\"\nimport LinkButton from \"./LinkButton\"\nimport range from \"lodash/range\"\n\nconst useStyles = makeStyles((theme) => ({\n  footer: {\n    backgroundColor: \"#fff\",\n    marginTop: 40,\n  },\n  footerContent: {\n    alignItems: \"center\",\n    padding: 20,\n    display: \"flex\",\n    justifyContent: \"space-between\",\n  },\n  footerBorder: {\n    borderTop: \"1px solid #ccc\",\n    marginLeft: 20,\n    marginRight: 20,\n  },\n  footerCount: {\n    display: \"inline-flex\",\n  },\n  allSamplesButton: {\n    color: \"#fff\",\n    border: \"1px solid rgba(255,255,255,0.5)\",\n    marginRight: 10,\n    paddingLeft: 8,\n  },\n  sampleIcon: {\n    marginRight: 8,\n  },\n  menuButton: {\n    marginRight: 8,\n    color: \"#fff\",\n  },\n  grow: {\n    flexGrow: 1,\n  },\n  buttons: {\n    \"& > *\": {\n      margin: 4,\n    },\n  },\n  description: {\n    padding: 10,\n    \"& img\": {\n      maxWidth: \"calc(100% - 16px)\",\n      marginLeft: 8,\n      marginRight: 8,\n      maxHeight: 600,\n    },\n  },\n  sectionHeader: {\n    fontWeight: 700,\n    fontSize: 12,\n    padding: 10,\n    paddingTop: 16,\n    textTransform: \"uppercase\",\n    color: colors.grey[600],\n  },\n  content: {\n    padding: 10,\n    // minHeight: \"calc(100vh - 200px)\"\n  },\n}))\n\nexport const SampleContainer = ({\n  hideDescription: defaultHideDescription = window.localStorage.getItem(\n    \"hideDescription\"\n  ) === '\"true\"',\n  lastSampleExitText,\n  onExit,\n  requireCompleteToPressNext = false,\n  samples,\n  minContentHeight,\n  currentSampleIndex,\n  totalSamples,\n  onChangeSample,\n  taskOutput = [],\n  description,\n  children,\n}) => {\n  const c = useStyles()\n  const [hideDescription, changeHideDescriptionState] = useState(\n    defaultHideDescription\n  )\n  const changeHideDescription = (hide) => {\n    window.localStorage.setItem(\n      \"hideDescription\",\n      `\"${hide ? \"true\" : \"false\"}\"`\n    )\n    changeHideDescriptionState(hide)\n  }\n\n  const [sampleDrawerOpen, changeSampleDrawerOpen] = useState(false)\n  return (\n    <>\n      <Grid container>\n        {!hideDescription && (\n          <Grid item xs={12} sm={12} md={6}>\n            <div className={c.sectionHeader}>\n              Description\n              <LinkButton\n                onClick={() => changeHideDescription(true)}\n                text=\"hide\"\n              />\n            </div>\n            <div className={c.description}>\n              <ReactMarkdown escapeHtml={false} source={description} />\n            </div>\n          </Grid>\n        )}\n        <Grid item xs={12} sm={12} md={hideDescription ? 12 : 6}>\n          <div className={c.sectionHeader}>\n            Sample {currentSampleIndex + 1}/{totalSamples}\n            {hideDescription && (\n              <LinkButton\n                onClick={() => changeHideDescription(false)}\n                text=\"show description\"\n              />\n            )}\n            {totalSamples > 1 && (\n              <LinkButton\n                onClick={() => changeSampleDrawerOpen(true)}\n                text=\"view all\"\n              />\n            )}\n            {onExit && (\n              <LinkButton onClick={() => onExit()} text=\"exit without saving\" />\n            )}\n          </div>\n          <div style={{ minHeight: minContentHeight }} className={c.content}>\n            {children}\n          </div>\n        </Grid>\n        {totalSamples > 1 && (\n          <Grid item xs={12}>\n            <div className={c.footer}>\n              <div className={c.footerBorder} />\n              <div className={c.footerContent}>\n                <Button\n                  onClick={() =>\n                    onChangeSample(\n                      (currentSampleIndex - 1 + totalSamples) % totalSamples\n                    )\n                  }\n                >\n                  <LeftIcon /> Prev Sample\n                </Button>\n                <Button\n                  onClick={() => changeSampleDrawerOpen(true)}\n                  className={c.footerCount}\n                >\n                  {currentSampleIndex + 1} / {totalSamples}\n                </Button>\n                <Button\n                  disabled={\n                    requireCompleteToPressNext &&\n                    !taskOutput[currentSampleIndex]\n                  }\n                  onClick={() =>\n                    onChangeSample((currentSampleIndex + 1) % totalSamples)\n                  }\n                >\n                  {requireCompleteToPressNext && !taskOutput[currentSampleIndex]\n                    ? \"Save to Continue\"\n                    : \"Next Sample\"}\n                  <RightIcon />\n                </Button>\n              </div>\n            </div>\n          </Grid>\n        )}\n      </Grid>\n      <Drawer\n        open={sampleDrawerOpen}\n        anchor=\"left\"\n        onClose={() => changeSampleDrawerOpen(false)}\n      >\n        <List style={{ minWidth: 300 }}>\n          <ListSubheader>Samples</ListSubheader>\n          {range(0, totalSamples).map((i) => (\n            <ListItem\n              style={{\n                backgroundColor:\n                  i === currentSampleIndex ? colors.grey[200] : undefined,\n              }}\n              button\n              onClick={() => onChangeSample(i)}\n            >\n              <ListItemIcon\n                style={{\n                  color:\n                    i === currentSampleIndex ? colors.blue[500] : undefined,\n                }}\n              >\n                {taskOutput[i] ? <CheckCircle /> : <CircleIcon />}\n              </ListItemIcon>\n              <ListItemText>Sample {i + 1}</ListItemText>\n            </ListItem>\n          ))}\n        </List>\n      </Drawer>\n    </>\n  )\n}\n\nexport default SampleContainer\n","import React, { useState } from \"react\"\nimport getTaskDescription from \"../../utils/get-task-description.js\"\nimport SampleContainer from \"../SampleContainer\"\nimport NLPAnnotator from \"react-nlp-annotate/components/NLPAnnotator\"\n\nexport const TextClassification = (props) => {\n  const [currentSampleIndex, changeCurrentSampleIndex] = useState(0)\n  const { annotation } = props.samples[currentSampleIndex]\n  // TODO remove legacy support for availableLabels\n  if (!props.interface.labels && props.interface.availableLabels) {\n    props.interface.labels = props.interface.availableLabels\n  }\n  const initialLabels = annotation\n    ? typeof annotation === \"string\"\n      ? [annotation]\n      : annotation\n    : undefined\n  if (!props.interface.labels) {\n    throw new Error(\"Labels not defined. Try defining some labels in Setup\")\n  }\n  let labels = props.interface.labels\n    .map((l) =>\n      typeof l === \"string\" ? { id: l, description: l, displayName: l } : l\n    )\n    .map((l) => (!l.displayName ? { ...l, displayName: l.id } : l))\n  return (\n    <SampleContainer\n      {...props.containerProps}\n      currentSampleIndex={currentSampleIndex}\n      totalSamples={props.samples.length}\n      taskOutput={props.samples}\n      description={\n        getTaskDescription(props.samples[currentSampleIndex]) ||\n        props.interface.description\n      }\n      onChangeSample={(sampleIndex) => changeCurrentSampleIndex(sampleIndex)}\n    >\n      <NLPAnnotator\n        key={(props.sampleIndex || 0) + currentSampleIndex}\n        type=\"label-document\"\n        labels={labels}\n        multipleLabels={props.interface.multiple}\n        document={props.samples[currentSampleIndex].document}\n        initialLabels={initialLabels}\n        onFinish={(result) => {\n          props.onSaveTaskOutputItem(currentSampleIndex, result)\n          if (props.containerProps.onExit)\n            props.containerProps.onExit(\"go-to-next\")\n        }}\n      />\n    </SampleContainer>\n  )\n}\n\nexport default TextClassification\n","import React, { useState } from \"react\"\nimport getTaskDescription from \"../../utils/get-task-description.js\"\nimport SampleContainer from \"../SampleContainer\"\nimport NLPAnnotator from \"react-nlp-annotate/components/NLPAnnotator\"\n\nconst simpleSequenceToEntitySequence = (simpleSeq) => {\n  const entSeq = []\n  let charsPassed = 0\n  for (const seq of simpleSeq) {\n    if (seq.label) {\n      entSeq.push({\n        text: seq.text,\n        label: seq.label,\n        start: charsPassed,\n        end: charsPassed + seq.text.length,\n      })\n    }\n    charsPassed += seq.text.length\n  }\n  return entSeq\n}\n\nconst entitySequenceToSimpleSeq = (doc, entSeq) => {\n  if (!entSeq) return undefined\n  const simpleSeq = []\n  entSeq = [...entSeq]\n  entSeq.sort((a, b) => a.start - b.start)\n  let nextEntity = 0\n  for (let i = 0; i < doc.length; i++) {\n    if ((entSeq[nextEntity] || {}).start === i) {\n      simpleSeq.push({\n        text: entSeq[nextEntity].text,\n        label: entSeq[nextEntity].label,\n      })\n      i = entSeq[nextEntity].end\n      nextEntity += 1\n    } else {\n      if (simpleSeq.length === 0 || simpleSeq[simpleSeq.length - 1].label) {\n        simpleSeq.push({ text: doc[i] })\n      } else {\n        simpleSeq[simpleSeq.length - 1].text += doc[i]\n      }\n    }\n  }\n  return simpleSeq\n}\n\nexport const TextEntityRecognition = (props) => {\n  const [currentSampleIndex, changeCurrentSampleIndex] = useState(0)\n  const initialSequence = props.samples[currentSampleIndex].annotation\n    ? entitySequenceToSimpleSeq(\n        props.samples[currentSampleIndex].document,\n        props.samples[currentSampleIndex].annotation.entities\n      )\n    : undefined\n\n  if (!props.interface.labels && !props.interface.availableLabels) {\n    throw new Error(\"Labels not defined. Try adding some labels in setup.\")\n  }\n\n  return (\n    <SampleContainer\n      {...props.containerProps}\n      currentSampleIndex={currentSampleIndex}\n      totalSamples={props.samples.length}\n      taskOutput={props.samples.map((s) => s.annotation)}\n      description={\n        getTaskDescription(props.samples[currentSampleIndex]) ||\n        props.interface.description\n      }\n      onChangeSample={(sampleIndex) => changeCurrentSampleIndex(sampleIndex)}\n    >\n      <NLPAnnotator\n        key={currentSampleIndex}\n        type=\"label-sequence\"\n        document={props.samples[currentSampleIndex].document}\n        labels={props.interface.labels || props.interface.availableLabels}\n        initialSequence={initialSequence}\n        onFinish={(result) => {\n          props.onSaveTaskOutputItem(currentSampleIndex, {\n            entities: simpleSequenceToEntitySequence(result),\n          })\n          if (props.containerProps.onExit)\n            props.containerProps.onExit(\"go-to-next\")\n        }}\n      />\n    </SampleContainer>\n  )\n}\n\nexport default TextEntityRecognition\n","// @flow\n\n// RIA = React Image Annotate\n\nexport function getRandomInt(min, max) {\n  return Math.floor(Math.random() * (max - min + 1)) + min\n}\n\nexport function getRandomColor() {\n  var h = getRandomInt(0, 360)\n  var s = 100\n  var l = 50\n  return \"hsl(\"\n    .concat(h.toString(), \",\")\n    .concat(s.toString(), \"%,\")\n    .concat(l.toString(), \"%)\")\n}\n\nexport const rid = () => Math.random().toString().split(\".\")[1]\n\nexport const convertToRIARegionFmt = (region) => {\n  switch (region.regionType) {\n    case \"bounding-box\": {\n      return {\n        id: rid(),\n        cls: region.classification,\n        tags: region.labels,\n        color: region.color || getRandomColor(),\n        type: \"box\",\n        x: region.centerX - region.width / 2,\n        y: region.centerY - region.height / 2,\n        w: region.width,\n        h: region.height,\n      }\n    }\n    case \"point\": {\n      return {\n        id: rid(),\n        type: \"point\",\n        tags: region.labels,\n        cls: region.classification,\n        color: region.color || getRandomColor(),\n        x: region.x,\n        y: region.y,\n      }\n    }\n    case \"polygon\": {\n      return {\n        id: rid(),\n        type: \"polygon\",\n        tags: region.labels,\n        cls: region.classification,\n        color: region.color || getRandomColor(),\n        open: false,\n        points: region.points.map((p) => [p.x, p.y]),\n      }\n    }\n    case \"line\":\n    case \"pixel-mask\": {\n      throw new Error(`Unsupported region \"${JSON.stringify(region)}\"`)\n    }\n    default:\n      return null\n  }\n}\n\nexport const convertFromRIARegionFmt = (riaRegion) => {\n  switch (riaRegion.type) {\n    case \"point\": {\n      return {\n        regionType: \"point\",\n        x: riaRegion.x,\n        y: riaRegion.y,\n        classification: riaRegion.cls,\n        labels: riaRegion.tags,\n        color: riaRegion.color,\n      }\n    }\n    case \"box\": {\n      return {\n        regionType: \"bounding-box\",\n        centerX: riaRegion.x + riaRegion.w / 2,\n        centerY: riaRegion.y + riaRegion.h / 2,\n        width: riaRegion.w,\n        height: riaRegion.h,\n        classification: riaRegion.cls,\n        labels: riaRegion.tags,\n        color: riaRegion.color,\n      }\n    }\n    case \"polygon\": {\n      return {\n        regionType: \"polygon\",\n        classification: riaRegion.cls,\n        labels: riaRegion.tags,\n        color: riaRegion.color,\n        points: riaRegion.points.map(([x, y]) => ({ x, y })),\n      }\n    }\n    default:\n      throw new Error(`Unsupported riaRegion \"${JSON.stringify(riaRegion)}\"`)\n  }\n}\n\nexport const convertToRIAImageFmt = ({\n  title,\n  taskDatum: td,\n  index: i,\n  output,\n}) => {\n  td = td || {}\n  const regions = !output\n    ? undefined\n    : Array.isArray(output)\n    ? output.map(convertToRIARegionFmt)\n    : [convertToRIARegionFmt(output)]\n\n  if (td.imageUrl) {\n    return {\n      src: td.imageUrl,\n      name: title || `Sample ${i}`,\n      regions,\n    }\n  } else if (td.videoUrl && td.videoFrameAt !== undefined) {\n    return {\n      src: td.videoUrl,\n      frameTime: td.videoFrameAt,\n      name: title || `Sample ${i}`,\n      regions,\n    }\n  }\n  throw new Error(`Task Datum not supported \"${JSON.stringify(td)}\"`)\n}\n\nexport const convertToRIAKeyframes = (keyframes) => {\n  const newKeyframes = {}\n  for (const key in keyframes) {\n    newKeyframes[key] = {\n      regions: keyframes[key].regions.map(convertToRIARegionFmt),\n    }\n  }\n  return newKeyframes\n}\n","// @flow\n\nimport React, { useState, useMemo } from \"react\"\nimport Annotator from \"react-image-annotate\"\nimport useEventCallback from \"use-event-callback\"\nimport {\n  convertFromRIARegionFmt,\n  convertToRIAImageFmt,\n} from \"../../utils/ria-format.js\"\n\nconst regionTypeToTool = {\n  \"bounding-box\": \"create-box\",\n  polygon: \"create-polygon\",\n  \"full-segmentation\": \"create-polygon\",\n  point: \"create-point\",\n}\n\nconst [emptyObj, emptyArr] = [{}, []]\n\nexport default ({\n  sampleIndex: globalSampleIndex,\n  interface: iface,\n  samples = emptyArr,\n  containerProps = emptyObj,\n  onSaveTaskOutputItem,\n}) => {\n  // TODO remove legacy \"availableLabels\" support\n  if (iface.availableLabels && !iface.labels) {\n    iface.labels = iface.availableLabels\n  }\n\n  const [selectedIndex, changeSelectedIndex] = useState(0)\n  const [showTags, changeShowTags] = useState(true)\n  const [selectedTool, changeSelectedTool] = useState(\"select\")\n\n  const { regionTypesAllowed = [\"bounding-box\"] } = iface\n\n  const isClassification = !Boolean(iface.multipleRegionLabels)\n\n  const saveCurrentIndexAnnotation = useEventCallback((output) => {\n    const img = output.images[selectedIndex]\n    onSaveTaskOutputItem(\n      selectedIndex,\n      multipleRegions\n        ? (img.regions || []).map(convertFromRIARegionFmt)\n        : convertToRIAImageFmt((img.regions || [])[0])\n    )\n  })\n\n  const labelProps = useMemo(\n    () =>\n      isClassification\n        ? {\n            regionClsList: (iface.labels || []).map((l) =>\n              typeof l === \"string\" ? l : l.id\n            ),\n          }\n        : {\n            regionTagList: (iface.labels || []).map((l) =>\n              typeof l === \"string\" ? l : l.id\n            ),\n          },\n    [isClassification, iface.labels]\n  )\n\n  const multipleRegions =\n    iface.multipleRegions || iface.multipleRegions === undefined\n\n  const onExit = useEventCallback((output, nextAction) => {\n    saveCurrentIndexAnnotation(output)\n    changeShowTags(output.showTags)\n    changeSelectedTool(output.selectedTool)\n    if (containerProps.onExit) containerProps.onExit(nextAction)\n  })\n  const onNextImage = useEventCallback((output) => {\n    if (selectedIndex + 1 >= samples.length) {\n      onExit(output, \"go-to-next\")\n    } else {\n      saveCurrentIndexAnnotation(output)\n      changeSelectedIndex(selectedIndex + 1)\n    }\n  })\n  const onPrevImage = useEventCallback((output) => {\n    if (selectedIndex - 1 < 0) {\n      onExit(output, \"go-to-previous\")\n    } else {\n      saveCurrentIndexAnnotation(output)\n      changeSelectedIndex(selectedIndex - 1)\n    }\n  })\n\n  const images = useMemo(\n    () =>\n      samples.map((taskDatum, index) =>\n        convertToRIAImageFmt({\n          title: containerProps.datasetName,\n          taskDatum,\n          output: samples[index].annotation,\n          index,\n        })\n      ),\n    [samples, containerProps.datasetName]\n  )\n\n  const enabledTools = useMemo(\n    () =>\n      [\"select\"].concat(\n        regionTypesAllowed.map((rt) => regionTypeToTool[rt]).filter(Boolean)\n      ),\n    [regionTypesAllowed]\n  )\n\n  return (\n    <div\n      style={{\n        height: containerProps.height || \"calc(100% - 70px)\",\n        minHeight: 600,\n        width: \"100%\",\n      }}\n    >\n      <Annotator\n        key={globalSampleIndex}\n        selectedImage={samples[selectedIndex].imageUrl}\n        taskDescription={iface.description}\n        showTags={showTags}\n        {...labelProps}\n        onNextImage={onNextImage}\n        onPrevImage={onPrevImage}\n        enabledTools={enabledTools}\n        selectedTool={selectedTool}\n        images={images}\n        onExit={onExit}\n      />\n    </div>\n  )\n}\n","// @flow\n\nimport React, { useState, useEffect, useMemo } from \"react\"\nimport useEventCallback from \"use-event-callback\"\nimport { styled } from \"@material-ui/core/styles\"\nimport Button from \"@material-ui/core/Button\"\nimport * as colors from \"@material-ui/core/colors\"\nimport Checkbox from \"@material-ui/core/Checkbox\"\nimport without from \"lodash/without\"\n\nconst brightColors = [\n  colors.blue[600],\n  colors.green[600],\n  colors.red[600],\n  colors.deepOrange[600],\n  colors.pink[600],\n  colors.teal[600],\n  colors.deepPurple[600],\n  colors.indigo[600],\n  colors.blue[600],\n  colors.cyan[600],\n  colors.purple[600],\n]\n\nconst letters = \"abcdefghijklmnopqrstuvwxyz1234567890\".split(\"\")\nconst getRandomColor = (label) => {\n  const hashInt = label.id\n    .split(\"\")\n    .reduce((acc, v, i) => acc + (letters.indexOf(v) + 1), 0)\n  return brightColors[hashInt % brightColors.length]\n}\n\nconst Container = styled(\"div\")({\n  maxWidth: \"100vw\",\n  display: \"flex\",\n  flexDirection: \"column\",\n})\n\nconst ImageContainer = styled(\"div\")({\n  position: \"relative\",\n  display: \"flex\",\n  flexGrow: 1,\n})\n\nconst Image = styled(\"img\")({\n  display: \"inline-block\",\n  position: \"absolute\",\n  left: 0,\n  top: 0,\n  width: \"100%\",\n  height: \"100%\",\n  objectFit: \"contain\",\n})\n\nconst Nav = styled(\"div\")({\n  display: \"flex\",\n  justifyContent: \"center\",\n  marginTop: 4,\n  flexShrink: 0,\n})\nconst NavItem = styled(\"div\")({\n  backgroundColor: \"#000\",\n  color: \"#fff\",\n  display: \"flex\",\n  alignItems: \"center\",\n  justifyContent: \"center\",\n  \"& > span\": {\n    padding: 16,\n  },\n})\nconst NavButton = styled(Button)({\n  color: \"#fff\",\n  padding: 8,\n  paddingLeft: 16,\n  paddingRight: 16,\n})\n\nconst ButtonsContainer = styled(\"div\")({\n  paddingLeft: 50,\n  paddingRight: 50,\n  marginTop: 8,\n  textAlign: \"center\",\n  flexShrink: 0,\n})\n\nconst CheckButton = styled(Button)({\n  margin: 8,\n  color: \"#fff\",\n  fontSize: 18,\n  paddingRight: 16,\n  transition: \"transform 50ms ease\",\n})\n\nconst [emptyObj, emptyArr] = [{}, []]\n\nexport default ({\n  sampleIndex: globalSampleIndex,\n  interface: iface,\n  samples = emptyArr,\n  containerProps = emptyObj,\n  onSaveTaskOutputItem,\n}) => {\n  // TODO remove legacy \"availableLabels\" support\n  if (iface.availableLabels && !iface.labels) {\n    iface.labels = iface.availableLabels\n  }\n\n  if (!iface.labels)\n    throw new Error(\"No labels defined. Add some labels in Setup to continue.\")\n  const [sampleIndex, changeSampleIndex] = useState(0)\n  const [enlargedLabel, changeEnlargedLabel] = useState(null)\n  const [currentOutput, changeCurrentOutput] = useState(emptyArr)\n  const labels = useMemo(\n    () =>\n      iface.labels.map((l) =>\n        typeof l === \"string\" ? { id: l, description: l } : l\n      ),\n    [iface.labels]\n  )\n\n  const onDone = useEventCallback(() => {\n    if (containerProps.onExit) containerProps.onExit()\n  })\n  const onNextNoSave = useEventCallback(() => {\n    if (containerProps.onExit) {\n      containerProps.onExit(\"go-to-next\")\n    }\n  })\n  const onNext = useEventCallback((newOutput) => {\n    onSaveTaskOutputItem(sampleIndex, newOutput || currentOutput)\n    if (sampleIndex !== samples.length - 1) {\n      changeSampleIndex(sampleIndex + 1)\n    } else {\n      if (containerProps.onExit) containerProps.onExit(\"go-to-next\")\n    }\n  })\n  const onPrev = useEventCallback(() => {\n    if (sampleIndex > 0) {\n      changeSampleIndex(sampleIndex - 1)\n    } else {\n      if (containerProps.onExit) containerProps.onExit(\"go-to-previous\")\n    }\n  })\n\n  useEffect(() => {\n    const timeout = setTimeout(() => {\n      changeEnlargedLabel(null)\n    }, 100)\n    return () => clearTimeout(timeout)\n  }, [enlargedLabel])\n\n  const onClickLabel = useEventCallback((label) => {\n    changeEnlargedLabel(label)\n    let newOutput\n    if ((currentOutput || []).includes(label.id)) {\n      newOutput = without(currentOutput, label.id)\n    } else {\n      if (iface.allowMultiple) {\n        newOutput = currentOutput.concat([label.id])\n      } else {\n        newOutput = label.id\n      }\n    }\n\n    changeCurrentOutput(newOutput)\n    if (!iface.allowMultiple && newOutput.length > 0) {\n      onNext(newOutput)\n    }\n  })\n\n  useEffect(() => {\n    let newOutput = samples[sampleIndex].annotation\n    if (!newOutput) newOutput = []\n    if (typeof newOutput === \"string\") newOutput = [newOutput]\n    changeCurrentOutput(newOutput)\n  }, [sampleIndex, globalSampleIndex, samples])\n\n  const [hotkeyMap, labelKeyMap] = useMemo(() => {\n    const hotkeyMap = {\n      \" \": onNext,\n      backspace: onPrev,\n      enter: onDone,\n      rightarrow: onNext,\n      leftarrow: onPrev,\n    }\n    const labelKeyMap = {}\n    for (let label of labels) {\n      const nextAvailableLetter = label.id\n        .split(\"\")\n        .filter((l) => letters.includes(l))\n        .find((l) => !hotkeyMap[l.toLowerCase()])\n      if (!nextAvailableLetter) continue\n      hotkeyMap[nextAvailableLetter] = () => onClickLabel(label)\n      labelKeyMap[label.id] = nextAvailableLetter\n    }\n    return [hotkeyMap, labelKeyMap]\n  }, [labels, onClickLabel, onDone, onNext, onPrev])\n\n  useEffect(() => {\n    const onKeyDown = (e) => {\n      const key = e.key.toLowerCase()\n      if (hotkeyMap[key]) {\n        hotkeyMap[key]()\n      }\n    }\n    window.addEventListener(\"keydown\", onKeyDown)\n    return () => {\n      window.removeEventListener(\"keydown\", onKeyDown)\n    }\n  }, [hotkeyMap])\n\n  return (\n    <Container\n      style={{\n        height: containerProps.height || \"calc(100% - 70px)\",\n        minHeight: 600,\n      }}\n    >\n      <ImageContainer>\n        <Image src={samples[sampleIndex].imageUrl} />\n      </ImageContainer>\n      <Nav>\n        <NavItem>\n          <NavButton onClick={onPrev}>Prev (backspace)</NavButton>\n        </NavItem>\n        {samples.length > 1 ? (\n          <NavItem>\n            <span>\n              ({sampleIndex + 1}/{samples.length})\n            </span>\n          </NavItem>\n        ) : globalSampleIndex !== undefined ? (\n          <NavItem>\n            <span>[{globalSampleIndex}]</span>\n          </NavItem>\n        ) : null}\n        <NavItem>\n          <NavButton onClick={onNextNoSave}>Next (space)</NavButton>\n        </NavItem>\n        <NavItem>\n          <NavButton onClick={onDone}>Done (enter)</NavButton>\n        </NavItem>\n      </Nav>\n      <ButtonsContainer>\n        {labels.map((label) => (\n          <CheckButton\n            key={label.id}\n            onClick={() => onClickLabel(label)}\n            style={{\n              backgroundColor: getRandomColor(label),\n              transform: enlargedLabel === label ? \"scale(1.1,1.1)\" : undefined,\n            }}\n          >\n            <Checkbox\n              style={{ color: \"#fff\" }}\n              checked={currentOutput.includes(label.id)}\n            />\n            {label.id}\n            {labelKeyMap[label.id] ? ` (${labelKeyMap[label.id]})` : \"\"}\n          </CheckButton>\n        ))}\n      </ButtonsContainer>\n    </Container>\n  )\n}\n","// @flow\n\nimport React, { useMemo } from \"react\"\nimport Annotator from \"react-image-annotate\"\nimport useEventCallback from \"use-event-callback\"\nimport {\n  convertFromRIARegionFmt,\n  convertToRIAKeyframes,\n} from \"../../utils/ria-format.js\"\n\nconst regionTypeToTool = {\n  \"bounding-box\": \"create-box\",\n  polygon: \"create-polygon\",\n  \"full-segmentation\": \"create-polygon\",\n  point: \"create-point\",\n}\n\nconst [emptyObj, emptyArr] = [{}, []]\n\nexport default ({\n  interface: iface,\n  samples = emptyArr,\n  taskOutput = emptyObj,\n  containerProps = emptyObj,\n  onSaveTaskOutputItem,\n}) => {\n  const { regionTypesAllowed = [\"bounding-box\"] } = iface\n\n  const isClassification = !Boolean(iface.multipleRegionLabels)\n\n  const labelProps = useMemo(\n    () =>\n      isClassification\n        ? {\n            regionClsList: (iface.labels || []).map((l) =>\n              typeof l === \"string\" ? l : l.id\n            ),\n          }\n        : {\n            regionTagList: (iface.labels || []).map((l) =>\n              typeof l === \"string\" ? l : l.id\n            ),\n          },\n    [isClassification, iface.labels]\n  )\n\n  const onExit = useEventCallback((output) => {\n    const newKeyframes = {}\n    for (const key in output.keyframes) {\n      newKeyframes[key] = {\n        regions: output.keyframes[key].regions.map(convertFromRIARegionFmt),\n      }\n    }\n    onSaveTaskOutputItem(0, { keyframes: newKeyframes })\n    if (containerProps.onExit) containerProps.onExit()\n  })\n\n  const enabledTools = useMemo(\n    () =>\n      [\"select\"].concat(\n        regionTypesAllowed.map((rt) => regionTypeToTool[rt]).filter(Boolean)\n      ),\n    [regionTypesAllowed]\n  )\n\n  // TODO fix by adding some way of going to the \"next\" video\n  if (samples.length > 1) {\n    return \"Video segmentation is currently limited to only a single video per selection\"\n  }\n\n  if (samples.length === 0) throw new Error(\"No sample data provided selected\")\n  if (!samples[0].videoUrl) throw new Error(\"Sample must have videoUrl\")\n\n  return (\n    <div\n      style={{\n        height: containerProps.height || \"calc(100vh - 70px)\",\n        width: \"100%\",\n        minHeight: 600,\n      }}\n    >\n      <Annotator\n        taskDescription={iface.description}\n        {...labelProps}\n        enabledTools={enabledTools}\n        keyframes={convertToRIAKeyframes(\n          ((taskOutput || [])[0] || {}).keyframes\n        )}\n        videoName={samples[0].customId || \"\"}\n        videoTime={0}\n        videoSrc={samples[0].videoUrl}\n        onExit={onExit}\n      />\n    </div>\n  )\n}\n","// @flow weak\n\nimport React, { useState } from \"react\"\nimport getTaskDescription from \"../../utils/get-task-description.js\"\nimport SampleContainer from \"../SampleContainer\"\nimport NLPAnnotator from \"react-nlp-annotate/components/NLPAnnotator\"\n\nexport default (props) => {\n  const [currentSampleIndex, changeCurrentSampleIndex] = useState(0)\n\n  const sample = props.samples[currentSampleIndex]\n\n  return (\n    <SampleContainer\n      {...props.containerProps}\n      currentSampleIndex={currentSampleIndex}\n      totalSamples={props.samples.length}\n      taskOutput={props.samples.map((s) => s.annotation)}\n      description={\n        getTaskDescription(props.samples[currentSampleIndex]) ||\n        props.interface.description\n      }\n      onChangeSample={(sampleIndex) => changeCurrentSampleIndex(sampleIndex)}\n    >\n      <NLPAnnotator\n        key={(props.sampleIndex || 0) + currentSampleIndex}\n        type=\"transcribe\"\n        audio={sample.audioUrl}\n        phraseBank={props.phraseBank}\n        initialTranscriptionText={sample.annotation || \"\"}\n        onFinish={(result) => {\n          props.onSaveTaskOutputItem(currentSampleIndex, result)\n          if (props.containerProps.onExit)\n            props.containerProps.onExit(\"go-to-next\")\n        }}\n      />\n    </SampleContainer>\n  )\n}\n","import React, { useState } from \"react\"\nimport Survey from \"material-survey/components/Survey\"\nimport getTaskDescription from \"../../utils/get-task-description.js\"\nimport SampleContainer from \"../SampleContainer\"\n\nexport const DataEntry = (props) => {\n  const [currentSampleIndex, changeCurrentSampleIndex] = useState(0)\n  const form =\n    props.samples[currentSampleIndex].surveyjs || props.interface.surveyjs\n  if (!form)\n    throw new Error(\"No survey/form created. Try adding some inputs in Setup\")\n  return (\n    <SampleContainer\n      {...props.containerProps}\n      currentSampleIndex={currentSampleIndex}\n      totalSamples={props.samples.length}\n      taskOutput={props.samples.map((s) => s.annotation)}\n      description={\n        getTaskDescription(props.samples[currentSampleIndex]) ||\n        props.interface.description\n      }\n      onChangeSample={(sampleIndex) => changeCurrentSampleIndex(sampleIndex)}\n    >\n      <Survey\n        key={(props.sampleIndex || 0) + currentSampleIndex}\n        variant=\"flat\"\n        form={form}\n        defaultAnswers={\n          props.samples[currentSampleIndex].annotation || undefined\n        }\n        completeText=\"Save & Next\"\n        onFinish={(answers) => {\n          props.onSaveTaskOutputItem(currentSampleIndex, answers)\n          if (props.containerProps.onExit)\n            props.containerProps.onExit(\"go-to-next\")\n        }}\n      />\n    </SampleContainer>\n  )\n}\n\nexport default DataEntry\n","// @flow\n\nimport React from \"react\"\nimport Typography from \"@material-ui/core/Typography\"\nimport { makeStyles } from \"@material-ui/core/styles\"\n\nconst useStyles = makeStyles({\n  root: {\n    padding: 50,\n    textAlign: \"center\",\n  },\n  title: {\n    margin: 50,\n  },\n  explain: {},\n})\n\nexport default ({ title, description, children }) => {\n  const c = useStyles()\n  return (\n    <div className={c.root}>\n      <Typography variant=\"h4\" component=\"div\" className={c.title}>\n        {title}\n      </Typography>\n      <Typography variant=\"h6\" component=\"div\" className={c.explain}>\n        {description || children}\n      </Typography>\n    </div>\n  )\n}\n","// @flow\n\nimport React from \"react\"\nimport BadOHA from \"../BadOHA\"\n\nexport default () => {\n  return (\n    <BadOHA title=\"No Samples to Show\">\n      Make sure that <code>samples</code> is defined and not empty.\n      <br />\n      <br />\n      Need help setting up? {/*<a href=\"#\">Check out this tutorial.</a>*/}\n    </BadOHA>\n  )\n}\n","import React from \"react\"\n\nimport RemoveRedEye from \"@material-ui/icons/RemoveRedEye\"\nimport TextFormat from \"@material-ui/icons/TextFormat\"\nimport Edit from \"@material-ui/icons/Edit\"\nimport Audiotrack from \"@material-ui/icons/Audiotrack\"\nimport Help from \"@material-ui/icons/Help\"\nimport ThreeDRotation from \"@material-ui/icons/ThreeDRotation\"\n\nexport default ({ type, ...props }) => {\n  switch (type) {\n    case \"image_label\":\n    case \"image_segmentation\":\n      return <RemoveRedEye {...props} />\n    case \"audio_transcription\":\n      return <Audiotrack {...props} />\n    case \"data_entry\":\n      return <Edit {...props} />\n    case \"text_entity_recognition\":\n      return <TextFormat {...props} />\n    case \"3d_bounding_box\":\n      return <ThreeDRotation {...props} />\n    default:\n      return <Help {...props} />\n  }\n}\n","import React, { useState } from \"react\"\nimport getTaskDescription from \"../../utils/get-task-description.js\"\nimport SampleContainer from \"../SampleContainer\"\nimport UniversalDataViewer from \"../UniversalDataViewer\"\nimport Button from \"@material-ui/core/Button\"\nimport * as colors from \"@material-ui/core/colors\"\nimport { styled } from \"@material-ui/core/styles\"\nimport InterfaceIcon from \"../InterfaceIcon\"\nimport KeyboardArrowRightIcon from \"@material-ui/icons/KeyboardArrowRight\"\nimport Checkbox from \"@material-ui/core/Checkbox\"\nimport Box from \"@material-ui/core/Box\"\n\nconst Title = styled(\"div\")({\n  fontSize: 18,\n  fontWeight: \"bold\",\n  color: colors.grey[700],\n  borderBottom: `1px solid ${colors.grey[300]}`,\n  paddingBottom: 8,\n  marginBottom: 8,\n  paddingLeft: 8,\n})\nconst StyledButton = styled(Button)({\n  display: \"flex\",\n  textAlign: \"left\",\n  justifyContent: \"flex-start\",\n  marginTop: 8,\n})\n\nexport const Composite = (props) => {\n  const [currentSampleIndex, changeCurrentSampleIndex] = useState(0)\n  const {\n    interface: { fields },\n  } = props\n  const [selectedField, changeSelectedField] = useState()\n\n  if (!fields) throw new Error(\"No fields defined. Try adding a field in Setup\")\n\n  const sample = props.samples[currentSampleIndex]\n\n  if (selectedField) {\n    return (\n      <UniversalDataViewer\n        dataset={{\n          interface: selectedField.interface,\n          samples: [\n            {\n              ...sample,\n              annotation: (sample.annotation || {})[selectedField.fieldName],\n            },\n          ],\n        }}\n        onSaveTaskOutputItem={(indexZero, output) => {\n          props.onSaveTaskOutputItem(currentSampleIndex, {\n            ...sample.annotation,\n            [selectedField.fieldName]: output,\n          })\n          changeSelectedField(null)\n        }}\n      />\n    )\n  }\n\n  return (\n    <SampleContainer\n      {...props.containerProps}\n      currentSampleIndex={currentSampleIndex}\n      totalSamples={props.samples.length}\n      taskOutput={props.samples.map((s) => s.annotation)}\n      description={getTaskDescription(sample) || props.interface.description}\n      onChangeSample={(sampleIndex) => changeCurrentSampleIndex(sampleIndex)}\n    >\n      <Title>Fields</Title>\n      {fields.map((field, index) => (\n        <StyledButton\n          key={field.fieldName}\n          onClick={() => {\n            changeSelectedField({ ...field, index })\n          }}\n          fullWidth\n          variant=\"outlined\"\n        >\n          <InterfaceIcon\n            style={{ color: colors.grey[500], marginRight: 16 }}\n            type={field.interface.type}\n          />\n          {field.fieldName}\n          <Box flexGrow={1} />\n          <Checkbox\n            checked={Boolean((sample.annotation || {})[field.fieldName])}\n          />\n          <KeyboardArrowRightIcon />\n        </StyledButton>\n      ))}\n      <StyledButton\n        onClick={() => props.containerProps.onExit(\"go-to-next\")}\n        fullWidth\n        variant=\"outlined\"\n      >\n        <KeyboardArrowRightIcon\n          style={{ color: colors.grey[500], marginRight: 16 }}\n        />\n        Next\n        <Box flexGrow={1} />\n        <Box height=\"42px\" />\n        <KeyboardArrowRightIcon />\n      </StyledButton>\n    </SampleContainer>\n  )\n}\n\nexport default Composite\n","// @flow\n\nimport React, { useMemo } from \"react\"\nimport TextClassification from \"../TextClassification\"\nimport TextEntityRecognition from \"../TextEntityRecognition\"\nimport ImageSegmentation from \"../ImageSegmentation\"\nimport ImageClassification from \"../ImageClassification\"\nimport VideoSegmentation from \"../VideoSegmentation\"\nimport AudioTranscription from \"../AudioTranscription\"\nimport DataEntry from \"../DataEntry\"\nimport EmptySampleContainer from \"../EmptySampleContainer\"\nimport Composite from \"../Composite\"\nimport BadOHA from \"../BadOHA\"\nimport Button from \"@material-ui/core/Button\"\n\nexport const UniversalDataViewer = ({\n  dataset,\n  onExit,\n  hideHeader,\n  hideDescription,\n  datasetName,\n  requireCompleteToPressNext,\n  onSaveTaskOutputItem,\n  height,\n  onClickSetup,\n}) => {\n  // TODO type check w/ superstruct against dataset\n  const containerProps = useMemo(\n    () => ({\n      hideHeader,\n      hideDescription,\n      datasetName,\n      requireCompleteToPressNext,\n      onExit,\n      height,\n    }),\n    [\n      hideHeader,\n      hideDescription,\n      requireCompleteToPressNext,\n      datasetName,\n      height,\n      onExit,\n    ]\n  )\n\n  if (!dataset || !dataset.interface.type) {\n    return (\n      <BadOHA\n        title=\"Set up your project to begin labeling\"\n        description={\n          <p>\n            This interface hasn't been set up properly, try selecting an\n            interface in the \"Setup\" tab.\n            <br />\n            <br />\n            <Button color=\"primary\" variant=\"contained\" onClick={onClickSetup}>\n              Setup Project\n            </Button>\n          </p>\n        }\n      />\n    )\n  }\n\n  if (!dataset.samples || dataset.samples.length === 0) {\n    return <EmptySampleContainer />\n  }\n\n  switch (dataset.interface.type) {\n    case \"data_entry\":\n      return (\n        <DataEntry\n          containerProps={containerProps}\n          {...dataset}\n          onSaveTaskOutputItem={onSaveTaskOutputItem}\n          onExit={onExit}\n        />\n      )\n    case \"text_classification\":\n      return (\n        <TextClassification\n          containerProps={containerProps}\n          {...dataset}\n          onSaveTaskOutputItem={onSaveTaskOutputItem}\n          onExit={onExit}\n        />\n      )\n    case \"text_entity_recognition\":\n      return (\n        <TextEntityRecognition\n          containerProps={containerProps}\n          {...dataset}\n          onSaveTaskOutputItem={onSaveTaskOutputItem}\n          onExit={onExit}\n        />\n      )\n    case \"image_segmentation\":\n      return (\n        <ImageSegmentation\n          containerProps={containerProps}\n          {...dataset}\n          onExit={onExit}\n          onSaveTaskOutputItem={onSaveTaskOutputItem}\n        />\n      )\n    case \"image_classification\":\n      return (\n        <ImageClassification\n          containerProps={containerProps}\n          {...dataset}\n          onExit={onExit}\n          onSaveTaskOutputItem={onSaveTaskOutputItem}\n        />\n      )\n    case \"video_segmentation\":\n      return (\n        <VideoSegmentation\n          containerProps={containerProps}\n          {...dataset}\n          onExit={onExit}\n          onSaveTaskOutputItem={onSaveTaskOutputItem}\n        />\n      )\n    case \"composite\":\n      return (\n        <Composite\n          containerProps={containerProps}\n          {...dataset}\n          dataset={dataset}\n          onSaveTaskOutputItem={onSaveTaskOutputItem}\n          onExit={onExit}\n        />\n      )\n    case \"audio_transcription\":\n      return (\n        <AudioTranscription\n          containerProps={containerProps}\n          {...dataset}\n          onSaveTaskOutputItem={onSaveTaskOutputItem}\n          onExit={onExit}\n        />\n      )\n    default:\n      return `\"${dataset.interface.type}\" not supported`\n  }\n}\n\nexport default UniversalDataViewer\n","import * as Sentry from \"@sentry/browser\"\n\nSentry.init({\n  dsn: \"https://bc19fbac222243f08f0abaf6d66f2034@sentry.io/5182632\",\n  whitelistUrls: [\"https://universaldatatool.com\", \"^file:?:\"],\n})\n\nexport default Sentry\n","// @flow weak\n\nimport React from \"react\"\nimport Sentry from \"../../utils/sentry.js\"\nimport BadOHA from \"../BadOHA\"\n\nclass ErrorBoundary extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = { hasError: false }\n  }\n\n  static getDerivedStateFromError(error) {\n    // Update state so the next render will show the fallback UI.\n    console.error(\n      \"The following error occurred when loading a labeling interface:\",\n      error\n    )\n    return {\n      hasError: true,\n      errorString: error.toString(),\n    }\n  }\n\n  componentDidCatch(error, errorInfo) {\n    // You can also log the error to an error reporting service\n    Sentry.withScope((scope) => {\n      scope.setExtras(errorInfo)\n      const eventId = Sentry.captureException(error)\n      this.setState({ eventId })\n    })\n  }\n\n  render() {\n    if (this.state.hasError) {\n      // You can render any custom fallback UI\n      return (\n        <BadOHA\n          title=\"An error occurred loading the labeling interface\"\n          description={this.state.errorString}\n        />\n      )\n    }\n\n    return this.props.children\n  }\n}\n\nexport default ErrorBoundary\n","// @flow weak\n\nimport React, { useState, useEffect } from \"react\"\nimport { styled } from \"@material-ui/core/styles\"\nimport templates, { templateMap } from \"../StartingPage/templates\"\nimport Button from \"@material-ui/core/Button\"\nimport Box from \"@material-ui/core/Box\"\nimport * as colors from \"@material-ui/core/colors\"\nimport ConfigureImageSegmentation from \"../ConfigureImageSegmentation\"\nimport ConfigureImageClassification from \"../ConfigureImageClassification\"\nimport ConfigureTextClassification from \"../ConfigureTextClassification\"\nimport ConfigureAudioTranscription from \"../ConfigureAudioTranscription\"\nimport ConfigureNLP from \"../ConfigureNLP\"\nimport ConfigureDataEntry from \"../ConfigureDataEntry\"\nimport ConfigureComposite from \"../ConfigureComposite\"\nimport Configure3D from \"../Configure3D\"\nimport ConfigureVideoSegmentation from \"../ConfigureVideoSegmentation\"\nimport UniversalDataViewer from \"../UniversalDataViewer\"\nimport Grid from \"@material-ui/core/Grid\"\nimport LabelErrorBoundary from \"../LabelErrorBoundary\"\nimport useEventCallback from \"use-event-callback\"\n\nconst noop = () => {}\n\nconst Container = styled(\"div\")({\n  padding: 24,\n  \"&.emptyState\": {\n    textAlign: \"center\",\n    backgroundColor: colors.blue[800],\n    minHeight: \"70vh\",\n    padding: 64,\n    \"& .bigText\": {\n      textAlign: \"left\",\n      fontSize: 48,\n      color: \"#fff\",\n      fontWeight: \"bold\",\n      marginBottom: 48,\n    },\n  },\n})\n\nconst BigButton = styled(Button)({\n  padding: 10,\n  width: 200,\n  height: 150,\n  boxShadow: \"0px 3px 5px rgba(0,0,0,0.3)\",\n  margin: 12,\n  backgroundColor: \"#fff\",\n  \"& .bigIcon\": {\n    marginTop: 16,\n    width: 64,\n    height: 64,\n  },\n  \"&:hover\": {\n    backgroundColor: \"#fff\",\n  },\n})\n\nconst NoOptions = styled(\"div\")({\n  fontSize: 18,\n  textAlign: \"center\",\n  fontWeight: \"bold\",\n  color: colors.grey[500],\n  paddingTop: 30,\n  paddingBottom: 50,\n})\n\nconst TypeButton = styled(Button)({\n  margin: 8,\n  \"& .icon\": {\n    marginRight: 8,\n    color: \"#888\",\n  },\n  alignItems: \"center\",\n  justifyContent: \"center\",\n  \"&.selected\": {\n    backgroundColor: colors.blue[500],\n    color: \"#fff\",\n    \"& .icon\": {\n      color: \"#fff\",\n    },\n  },\n})\n\nexport const Heading = styled(\"div\")({\n  fontWeight: \"bold\",\n  textTransform: \"uppercase\",\n  fontSize: 12,\n  paddingLeft: 8,\n  marginBottom: 8,\n  marginTop: 16,\n  color: colors.grey[700],\n})\n\nconst PreviewContainer = styled(\"div\")({\n  display: \"flex\",\n  justifyContent: \"space-around\",\n  mouseEvents: \"none\",\n  padding: 16,\n})\nconst PreviewContent = styled(\"div\")({\n  display: \"flex\",\n  width: \"100%\",\n  height: 600,\n})\n\nconst SelectType = ({ currentlySelected, onChange }) => {\n  return templates.map((t) => (\n    <TypeButton\n      key={t.dataset.interface.type || \"empty\"}\n      className={\n        currentlySelected === t.dataset.interface.type ? \"selected\" : \"\"\n      }\n      variant=\"outlined\"\n      onClick={() => {\n        if (currentlySelected !== t.dataset.interface.type) {\n          onChange(t.dataset.interface.type)\n        }\n      }}\n    >\n      <t.Icon className=\"icon\" />\n      {t.name}\n    </TypeButton>\n  ))\n}\n\nexport const ConfigureInterface = ({\n  iface = {},\n  onChange: onChangeProp,\n  onClickEditJSON,\n  isNested = false,\n}) => {\n  const [previewChangedTime, changePreviewChangedTime] = useState(0)\n  const [previewLoading, changePreviewLoading] = useState(false)\n  const onChange = useEventCallback((...args) => {\n    changePreviewChangedTime(Date.now())\n    onChangeProp(...args)\n  })\n  useEffect(() => {\n    if (Date.now() - previewChangedTime > 1000) return\n    changePreviewLoading(true)\n    let timeout = setTimeout(() => {\n      changePreviewLoading(false)\n    }, 1000)\n    return () => {\n      clearTimeout(timeout)\n    }\n  }, [previewChangedTime])\n\n  if (!iface.type || iface.type === \"empty\") {\n    return (\n      <Container className=\"emptyState\">\n        <div className=\"bigText\">Choose an Interface:</div>\n        {templates\n          .filter((t) => t.name !== \"Empty\")\n          .map((template) => (\n            <BigButton\n              key={template.name}\n              onClick={() => onChange(template.dataset.interface)}\n            >\n              <div>\n                <div>{template.name}</div>\n                <div>\n                  <template.Icon className=\"bigIcon\" />\n                </div>\n              </div>\n            </BigButton>\n          ))}\n      </Container>\n    )\n  }\n\n  return (\n    <Container>\n      <Heading>Interface Type</Heading>\n      <SelectType\n        currentlySelected={iface.type}\n        onChange={(type) => {\n          onChange(\n            templates\n              .map((t) => t.dataset.interface)\n              .find((t) => t.type === type) || {}\n          )\n        }}\n      />\n      <Grid container>\n        <Grid item hidden={isNested} xs={12} lg={6}>\n          <Heading>Preview</Heading>\n          <PreviewContainer>\n            <PreviewContent style={{ opacity: previewLoading ? 0.5 : 1 }}>\n              <LabelErrorBoundary key={previewChangedTime}>\n                <UniversalDataViewer\n                  key={previewChangedTime}\n                  height={600}\n                  onExit={noop}\n                  onSaveTaskOutputItem={noop}\n                  dataset={{\n                    interface: iface,\n                    samples: [templateMap[iface.type].dataset.samples[0]],\n                  }}\n                />\n              </LabelErrorBoundary>\n            </PreviewContent>\n          </PreviewContainer>\n        </Grid>\n        <Grid item xs={12} lg={isNested ? 12 : 6}>\n          <Heading>Options</Heading>\n          <Box paddingTop={2} />\n          {!iface.type && <NoOptions>Select a Type</NoOptions>}\n          {iface.type === \"image_segmentation\" && (\n            <ConfigureImageSegmentation iface={iface} onChange={onChange} />\n          )}\n          {iface.type === \"image_classification\" && (\n            <ConfigureImageClassification iface={iface} onChange={onChange} />\n          )}\n          {iface.type === \"composite\" && (\n            <ConfigureComposite iface={iface} onChange={onChange} />\n          )}\n          {iface.type === \"data_entry\" && (\n            <ConfigureDataEntry iface={iface} onChange={onChange} />\n          )}\n          {iface.type === \"audio_transcription\" && (\n            <ConfigureAudioTranscription iface={iface} onChange={onChange} />\n          )}\n          {iface.type === \"text_entity_recognition\" && (\n            <ConfigureNLP iface={iface} onChange={onChange} />\n          )}\n          {iface.type === \"text_classification\" && (\n            <ConfigureTextClassification iface={iface} onChange={onChange} />\n          )}\n          {iface.type === \"video_segmentation\" && (\n            <ConfigureVideoSegmentation iface={iface} onChange={onChange} />\n          )}\n          {iface.type === \"3d_bounding_box\" && (\n            <Configure3D iface={iface} onChange={onChange} />\n          )}\n        </Grid>\n      </Grid>\n    </Container>\n  )\n}\n\nexport default ConfigureInterface\n","// @flow\n\nimport { styled } from \"@material-ui/core/styles\"\n\nexport const PaperContainer = styled(\"div\")({\n  margin: 16,\n  padding: 16,\n  border: \"1px solid #ccc\",\n  borderRadius: 4,\n  boxShadow: \"0px 2px 2px rgba(0,0,0,0.1)\",\n})\n\nexport default PaperContainer\n","import React, { useState, useEffect } from \"react\"\nimport { makeStyles } from \"@material-ui/core/styles\"\nimport SimpleDialog from \"../SimpleDialog\"\nimport Table from \"@material-ui/core/Table\"\nimport TableBody from \"@material-ui/core/TableBody\"\nimport TableCell from \"@material-ui/core/TableCell\"\nimport TableContainer from \"@material-ui/core/TableContainer\"\nimport TableHead from \"@material-ui/core/TableHead\"\nimport TableRow from \"@material-ui/core/TableRow\"\nimport Button from \"@material-ui/core/Button\"\nimport EditIcon from \"@material-ui/icons/Edit\"\n\nconst useStyles = makeStyles({\n  table: {},\n})\n\nconst hotkeyIconStyle = { marginLeft: 8, width: 16, height: 16 }\n\nexport default ({ open, onClose, onChangeHotkey, hotkeyList }) => {\n  const classes = useStyles()\n  const [selectedHotKey, setSelectedHotKey] = useState()\n  const [{ modifier, key }, setCurrentKeyCombo] = useState({})\n\n  useEffect(() => {\n    if (!selectedHotKey) return\n    function keyListener(e) {\n      if ([\"shift\", \"ctrl\", \"cmd\", \"alt\"].includes(e.key.toLowerCase())) {\n        setCurrentKeyCombo({ modifier: e.key.toLowerCase(), key })\n      }\n      if (e.key.length === 1) {\n        setCurrentKeyCombo({ modifier, key: e.key.toLowerCase() })\n      }\n    }\n    window.addEventListener(\"keydown\", keyListener)\n    return () => {\n      window.removeEventListener(\"keydown\", keyListener)\n    }\n  }, [selectedHotKey, key, modifier, setCurrentKeyCombo])\n\n  useEffect(() => {\n    if (!key) return\n    if (modifier) {\n      onChangeHotkey(selectedHotKey, `${modifier} + ${key}`)\n    } else {\n      onChangeHotkey(selectedHotKey, key)\n    }\n    setCurrentKeyCombo({})\n    setSelectedHotKey(null)\n  }, [modifier, key, onChangeHotkey, selectedHotKey])\n\n  return (\n    <SimpleDialog\n      title=\"Manage Keyboard Shortcuts\"\n      // TODO\n      // actions={[\n      //           {\n      //     text: \"Reset to Default\",\n      //     onClick: () => {\n      //       // TODO\n      //     }\n      //   }\n      // ]}\n      open={open}\n      onClose={onClose}\n    >\n      <TableContainer>\n        <Table className={classes.table} aria-label=\"simple table\">\n          <TableHead>\n            <TableRow>\n              <TableCell>Action</TableCell>\n              <TableCell align=\"right\">Keyboard Shortcut</TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            {hotkeyList.map((hotkey) => (\n              <TableRow key={hotkey.description}>\n                <TableCell>{hotkey.description}</TableCell>\n                <TableCell align=\"right\">\n                  <Button\n                    onClick={() => {\n                      if (selectedHotKey !== hotkey) {\n                        setSelectedHotKey(hotkey)\n                        setCurrentKeyCombo({})\n                        return\n                      }\n                    }}\n                    style={{ minWidth: 0 }}\n                  >\n                    <b>\n                      {selectedHotKey === hotkey\n                        ? modifier || key\n                          ? `<${modifier ? modifier + \"+\" : \"\"}${key || \"???\"}>`\n                          : \"<Press Any Key>\"\n                        : hotkey.binding}\n                    </b>\n                    {selectedHotKey === hotkey ? (\n                      <EditIcon style={hotkeyIconStyle} />\n                    ) : (\n                      <EditIcon style={hotkeyIconStyle} />\n                    )}\n                  </Button>\n                </TableCell>\n              </TableRow>\n            ))}\n          </TableBody>\n        </Table>\n      </TableContainer>\n    </SimpleDialog>\n  )\n}\n","import React, { useState } from \"react\"\nimport Box from \"@material-ui/core/Box\"\nimport MuiButton from \"@material-ui/core/Button\"\nimport { useUpdate } from \"react-use\"\nimport { styled } from \"@material-ui/core/styles\"\nimport usePosthog from \"../../utils/use-posthog\"\nimport { useAppConfig } from \"../AppConfig\"\nimport { useHotkeyStorage } from \"../HotkeyStorage\"\nimport KeyboardShortcutManagerDialog from \"../KeyboardShortcutManagerDialog\"\n\nconst Button = styled(MuiButton)({\n  margin: 8,\n})\n\nexport const AdvancedOptionsView = ({ onClickEditJSON, onClearLabelData }) => {\n  const forceUpdate = useUpdate()\n  const posthog = usePosthog()\n  const { fromConfig, setInConfig } = useAppConfig()\n  const { hotkeys, changeHotkey } = useHotkeyStorage()\n  const [hotkeyDialogOpen, setHotkeyDialogOpen] = useState(false)\n\n  return (\n    <Box padding={2}>\n      <Button onClick={onClickEditJSON} variant=\"outlined\">\n        Edit JSON\n      </Button>\n      <Button\n        onClick={() => {\n          if (\n            window.confirm(\n              \"Are you sure you want to delete all your label data? Click OK to delete.\"\n            )\n          ) {\n            onClearLabelData()\n          }\n        }}\n        variant=\"outlined\"\n      >\n        Clear All Labels\n      </Button>\n      <Button\n        variant=\"outlined\"\n        onClick={() => {\n          if (posthog.has_opted_out_capturing()) {\n            posthog.opt_in_capturing()\n          } else {\n            posthog.opt_out_capturing()\n          }\n          forceUpdate()\n        }}\n      >\n        {posthog.has_opted_out_capturing() ? \"Enable\" : \"Disable\"} Telemetry\n      </Button>\n      <Button\n        variant=\"outlined\"\n        onClick={() => {\n          // TODO store in appConfig\n          const response = window.prompt(\n            \"Input URL for new collaboration server (empty to use universaldatatool.com):\",\n            window.localStorage.getItem(\"CUSTOM_COLLABORATION_SERVER\") || \"\"\n          )\n          if (response === null) return\n          window.localStorage.setItem(\"CUSTOM_COLLABORATION_SERVER\", response)\n          window.location.reload()\n        }}\n      >\n        Custom Collaboration Server\n      </Button>\n      <Button\n        variant=\"outlined\"\n        onClick={() => {\n          setInConfig(\n            \"labelhelp.disabled\",\n            !Boolean(fromConfig(\"labelhelp.disabled\"))\n          )\n        }}\n      >\n        {fromConfig(\"labelhelp.disabled\") ? \"Enable\" : \"Disable\"} Label Help\n      </Button>\n      {!fromConfig(\"labelhelp.disabled\") && (\n        <Button\n          variant=\"outlined\"\n          disabled={Boolean(fromConfig(\"labelhelp.disabled\"))}\n          onClick={() => {\n            const response = window.prompt(\n              \"Label Help API Key:\",\n              fromConfig(\"labelhelp.apikey\") || \"\"\n            )\n            if (response === null) return\n            setInConfig(\"labelhelp.apikey\", response)\n          }}\n        >\n          Label Help API Key\n        </Button>\n      )}\n      <Button\n        variant=\"outlined\"\n        onClick={() => {\n          setHotkeyDialogOpen(true)\n        }}\n      >\n        Change/View Hotkeys\n      </Button>\n      <KeyboardShortcutManagerDialog\n        open={hotkeyDialogOpen}\n        hotkeyList={hotkeys}\n        onClose={() => setHotkeyDialogOpen(false)}\n        onChangeHotkey={(hotkey, newBinding) =>\n          changeHotkey(hotkey.id, newBinding)\n        }\n      />\n    </Box>\n  )\n}\n\nexport default AdvancedOptionsView\n","// @flow weak\n\nimport React from \"react\"\nimport ConfigureInterface, { Heading } from \"../ConfigureInterface\"\nimport PaperContainer from \"../PaperContainer\"\nimport AdvancedOptionsView from \"../AdvancedOptionsView\"\n\nexport default ({ dataset, onChange, onClickEditJSON, onClearLabelData }) => {\n  const { interface: iface } = dataset\n\n  return (\n    <div>\n      <ConfigureInterface\n        iface={iface}\n        onChange={onChange}\n        onClickEditJSON={onClickEditJSON}\n        isNotNested\n      />\n      <PaperContainer>\n        <Heading>Advanced</Heading>\n        <AdvancedOptionsView\n          onClearLabelData={onClearLabelData}\n          onClickEditJSON={onClickEditJSON}\n        />\n      </PaperContainer>\n    </div>\n  )\n}\n","// @flow\n\nimport React, { useState, useEffect } from \"react\"\nimport Box from \"@material-ui/core/Box\"\nimport AceEditor from \"react-ace\"\nimport SimpleDialog from \"../SimpleDialog\"\n\nexport default ({ open, sampleIndex, sampleInput, onChange, onClose }) => {\n  const [text, changeText] = useState()\n  const [error, changeError] = useState()\n  useEffect(() => {\n    const newText = JSON.stringify(sampleInput, null, \"  \")\n    if (newText !== text) {\n      changeText(newText)\n      changeError(null)\n    }\n  }, [sampleIndex, sampleInput, text])\n\n  return (\n    <SimpleDialog\n      open={open}\n      onClose={onClose}\n      title={`samples[${sampleIndex}]`}\n    >\n      <AceEditor\n        theme=\"github\"\n        mode=\"javascript\"\n        width=\"100%\"\n        value={text}\n        editorProps={{ $blockScrolling: Infinity }}\n        onChange={(t) => {\n          changeText(t)\n          changeError(null)\n          try {\n            onChange(JSON.parse(t))\n          } catch (e) {\n            changeError(e.toString())\n          }\n        }}\n      />\n      <Box color=\"red\">{error}</Box>\n    </SimpleDialog>\n  )\n}\n","// @flow\nimport React, { createContext, useContext, useEffect, useReducer } from \"react\"\nimport { makeStyles } from \"@material-ui/core/styles\"\nimport * as colors from \"@material-ui/core/colors\"\nimport Collapse from \"@material-ui/core/Collapse\"\nimport Fade from \"@material-ui/core/Fade\"\nimport classNames from \"classnames\"\n\nconst useStyles = makeStyles({\n  root: {\n    position: \"fixed\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    bottom: 0,\n    left: 0,\n    right: 0,\n    alignItems: \"flex-start\",\n    pointerEvents: \"none\",\n  },\n  msgBox: {\n    display: \"flex\",\n    backgroundColor: colors.blue[700],\n    fontSize: 12,\n    color: \"#fff\",\n    padding: 4,\n    marginBottom: 4,\n    boxShadow: \"0px 3px 8px rgba(0,0,0,0.5)\",\n    \"&.warning\": {\n      backgroundColor: colors.orange[700],\n    },\n    \"&.error\": {\n      backgroundColor: colors.red[700],\n    },\n  },\n})\n\nconst REFRESH_INTERVAL = 100\n\nconst ToastContext = createContext({})\n\nexport const useToasts = () => {\n  const { addToast } = useContext(ToastContext)\n\n  return { addToast }\n}\n\nexport const ToastProvider = ({ children }) => {\n  const [toasts, changeToasts] = useReducer((state = [], action) => {\n    if (action.type === \"add\") {\n      const fullLife =\n        action.messageType === \"info\"\n          ? 2000\n          : action.messageType === \"warning\"\n          ? 5000\n          : 5000\n\n      return state.concat([\n        {\n          id: Math.random().toString().split(\".\")[1],\n          message: action.message,\n          type: action.messageType,\n          life: fullLife,\n          fullLife,\n        },\n      ])\n    } else if (action.type === \"tick\") {\n      return state\n        .map((msg) => ({\n          ...msg,\n          life: msg.life - REFRESH_INTERVAL,\n        }))\n        .filter((msg) => msg.life > 0)\n    }\n    return state\n  }, [])\n  const c = useStyles()\n\n  useEffect(() => {\n    if (toasts.length === 0) return () => {}\n    let interval = setInterval(() => {\n      changeToasts({ type: \"tick\" })\n    }, REFRESH_INTERVAL)\n    return () => clearInterval(interval)\n  }, [toasts])\n\n  const addToast = (message: string, messageType: string = \"info\") =>\n    changeToasts({ type: \"add\", message, messageType })\n\n  return (\n    <>\n      <ToastContext.Provider value={{ toasts, addToast }}>\n        {children}\n      </ToastContext.Provider>\n      <div className={c.root}>\n        {toasts.map((msg) => (\n          <Collapse key={msg.id} in={msg.life < msg.fullLife}>\n            <Fade in={msg.life > 600}>\n              <div className={classNames(c.msgBox, msg.type)}>\n                {msg.message}\n              </div>\n            </Fade>\n          </Collapse>\n        ))}\n      </div>\n    </>\n  )\n}\n","// @flow weak\n\nimport React from \"react\"\nimport { styled } from \"@material-ui/core/styles\"\nimport * as colors from \"@material-ui/core/colors\"\n\nconst Container = styled(\"div\")({})\nconst Stat = styled(\"div\")({\n  display: \"inline-flex\",\n  flexDirection: \"column\",\n  margin: 8,\n})\nconst Label = styled(\"div\")({\n  fontSize: 14,\n  fontWeight: \"bold\",\n  color: colors.grey[700],\n})\nconst Value = styled(\"div\")({\n  fontSize: 32,\n  marginTop: 8,\n})\n\nexport default ({ stats }) => {\n  return (\n    <Container>\n      {stats.map((s) => (\n        <Stat key={s.name}>\n          <Label>{s.name}</Label>\n          <Value>{s.value}</Value>\n        </Stat>\n      ))}\n    </Container>\n  )\n}\n","import React, { useState } from \"react\"\nimport TextField from \"@material-ui/core/TextField\"\nimport Box from \"@material-ui/core/Box\"\nimport Button from \"@material-ui/core/Button\"\nimport * as colors from \"@material-ui/core/colors\"\nimport { styled } from \"@material-ui/core/styles\"\nimport { useAppConfig } from \"../AppConfig\"\nimport SaveIcon from \"@material-ui/icons/Save\"\nimport CircularProgress from \"@material-ui/core/CircularProgress\"\n\nconst Title = styled(\"div\")({\n  fontSize: 18,\n  color: colors.grey[800],\n  padding: 16,\n  \"& a\": {\n    color: colors.blue[600],\n  },\n})\n\nconst ErrorText = styled(\"div\")({\n  color: colors.red[600],\n})\n\nexport default () => {\n  const { setInConfig } = useAppConfig()\n  const [verifying, setVerifying] = useState(false)\n  const [textFieldValue, setTextFieldValue] = useState(\"\")\n  const [error, setError] = useState(\"\")\n  return (\n    <Box paddingTop={8} textAlign=\"center\">\n      <Title>\n        To use Label Help, enter your API key. You can{\" \"}\n        <a href=\"https://labelhelp.universaldatatool.com\">\n          get an API key here\n        </a>\n        .\n      </Title>\n      {error && <ErrorText>{error}</ErrorText>}\n      <Box\n        paddingTop={2}\n        display=\"flex\"\n        justifyContent=\"center\"\n        alignItems=\"center\"\n        flexDirection=\"column\"\n      >\n        <TextField\n          onChange={(e) => setTextFieldValue(e.target.value)}\n          className=\"label-help-api-key-text-field\"\n          variant=\"outlined\"\n          label=\"API Key\"\n        />\n        <Button\n          style={{ marginTop: 16 }}\n          color=\"primary\"\n          disabled={verifying}\n          variant=\"outlined\"\n          onClick={async () => {\n            setError(null)\n            setVerifying(true)\n            try {\n              // TODO check with labelhelp server and make sure api key is valid\n              const response = await fetch(\n                \"https://labelhelp.universaldatatool.com/api/me\",\n                {\n                  headers: { apikey: textFieldValue },\n                }\n              )\n              if (response.status !== 200) throw new Error(response.toString())\n            } catch (e) {\n              setError(e.toString())\n              setVerifying(false)\n              return\n            }\n\n            setVerifying(false)\n            setInConfig(\"labelhelp.apikey\", textFieldValue)\n          }}\n        >\n          {verifying ? (\n            <>\n              <CircularProgress size={18} style={{ marginRight: 16 }} />\n              Checking...\n            </>\n          ) : (\n            <>\n              <SaveIcon style={{ marginRight: 8 }} />\n              Save\n            </>\n          )}\n        </Button>\n      </Box>\n    </Box>\n  )\n}\n","import { useFileContext } from \"./\"\nimport { useMemo } from \"react\"\nimport { setIn } from \"seamless-immutable\"\n\nexport const useActiveDataset = () => {\n  const { file, setFile } = useFileContext()\n  return useMemo(\n    () =>\n      !file || !file.content\n        ? null\n        : {\n            dataset: file.content,\n            setDataset: (newDataset) => {\n              setFile(setIn(file, [\"content\"], newDataset))\n            },\n          },\n    [file, setFile]\n  )\n}\n","import { useContext, createContext } from \"react\"\n\nexport const FileContext = createContext({})\n\nexport const useFileContext = () => useContext(FileContext)\n\nexport { useActiveDataset } from \"./use-active-dataset.js\"\n","// @flow\n\nimport React, { useState, useEffect } from \"react\"\nimport { styled } from \"@material-ui/core/styles\"\nimport Box from \"@material-ui/core/Box\"\nimport Button from \"@material-ui/core/Button\"\nimport Stepper from \"@material-ui/core/Stepper\"\nimport Step from \"@material-ui/core/Step\"\nimport StepLabel from \"@material-ui/core/StepLabel\"\nimport Table from \"@material-ui/core/Table\"\nimport TableBody from \"@material-ui/core/TableBody\"\nimport TableCell from \"@material-ui/core/TableCell\"\nimport TableHead from \"@material-ui/core/TableHead\"\nimport TableRow from \"@material-ui/core/TableRow\"\nimport { useAppConfig } from \"../AppConfig\"\nimport { useLabelHelp } from \"./\"\nimport * as colors from \"@material-ui/core/colors\"\nimport { useActiveDataset } from \"../FileContext\"\nimport CircularProgress from \"@material-ui/core/CircularProgress\"\nimport { setIn } from \"seamless-immutable\"\n\nconst Container = styled(\"div\")({\n  fontVariantNumeric: \"tabular-nums\",\n})\nconst Link = styled(\"a\")({\n  color: colors.blue[500],\n  textDecoration: \"none\",\n})\n\nconst usdFormatter = new Intl.NumberFormat(\"en-US\", {\n  style: \"currency\",\n  currency: \"USD\",\n})\nconst preciseUSDFormatter = new Intl.NumberFormat(\"en-US\", {\n  style: \"currency\",\n  currency: \"USD\",\n  maximumFractionDigits: 4,\n  minimumFractionDigits: 2,\n})\n\nconst steps = [\"setup\", \"running\", \"completed\"]\n\nexport default () => {\n  const { fromConfig, setInConfig } = useAppConfig()\n  const {\n    labelHelpEnabled,\n    labelHelpError,\n    loadMyCredits,\n    variables,\n    totalCost,\n    formulaFunc,\n    myCredits,\n  } = useLabelHelp()\n  const [error, setError] = useState()\n  const { dataset, setDataset } = useActiveDataset()\n\n  const [labelHelpInfo, setLabelHelpInfo] = useState(dataset.labelHelp || {})\n  const collabUrl = labelHelpInfo.url || (dataset.labelHelp || {}).url\n\n  useEffect(() => {\n    if (myCredits === null || myCredits === undefined) {\n      loadMyCredits(dataset)\n    }\n  }, [myCredits, dataset, loadMyCredits])\n\n  useEffect(() => {\n    if (!collabUrl) return\n    async function loadJob() {\n      const response = await fetch(\n        `https://labelhelp.universaldatatool.com/api/job?custom_id=${encodeURIComponent(\n          collabUrl\n        )}&api_key=${fromConfig(\"labelhelp.apikey\")}`\n      ).then((r) => r.json())\n      // response contains { progress, status }\n      console.log({ response })\n      setLabelHelpInfo({\n        ...dataset.labelHelp,\n        ...response,\n        loaded: true,\n      })\n    }\n    loadJob()\n  }, [collabUrl, dataset.labelHelp, fromConfig])\n\n  if (!labelHelpEnabled)\n    return (\n      <Container>\n        Label Help is Disabled.\n        {labelHelpError && (\n          <div style={{ color: colors.red[500] }}>{labelHelpError}</div>\n        )}\n      </Container>\n    )\n\n  const activeStep = !collabUrl\n    ? \"setup\"\n    : labelHelpInfo.progress === 1\n    ? \"completed\"\n    : \"running\"\n\n  return (\n    <Container>\n      <Stepper activeStep={steps.indexOf(activeStep)}>\n        {[\"Setup\", \"Running\", \"Completed\"].map((step) => (\n          <Step key={step}>\n            <StepLabel>{step}</StepLabel>\n          </Step>\n        ))}\n      </Stepper>\n      {error && <Box color={colors.red[600]}>{error}</Box>}\n      {activeStep === \"setup\" ? (\n        <Box>\n          <Table>\n            <TableHead>\n              <TableRow>\n                <TableCell>Item</TableCell>\n                <TableCell>Quantity</TableCell>\n                <TableCell>Unit Cost</TableCell>\n                <TableCell>Cost / Sample</TableCell>\n                <TableCell>Total</TableCell>\n              </TableRow>\n            </TableHead>\n            <TableBody>\n              {Object.keys(variables).map((varName) => (\n                <TableRow>\n                  <TableCell style={{ textTransform: \"capitalize\" }}>\n                    {varName.replace(/_/g, \" \")}\n                  </TableCell>\n                  <TableCell>{variables[varName]}</TableCell>\n                  <TableCell>\n                    {varName === \"sample_count\"\n                      ? \"\"\n                      : preciseUSDFormatter.format(\n                          (totalCost -\n                            formulaFunc({ ...variables, [varName]: 0 })) /\n                            variables.sample_count /\n                            (variables[varName] === 0 ? 1 : variables[varName])\n                        )}\n                  </TableCell>\n                  <TableCell>\n                    {usdFormatter.format(\n                      (totalCost -\n                        formulaFunc({ ...variables, [varName]: 0 })) /\n                        variables.sample_count\n                    )}\n                  </TableCell>\n                  <TableCell></TableCell>\n                </TableRow>\n              ))}\n              <TableRow>\n                <TableCell>Total Cost</TableCell>\n                <TableCell></TableCell>\n                <TableCell></TableCell>\n                <TableCell></TableCell>\n                <TableCell>{usdFormatter.format(totalCost)}</TableCell>\n              </TableRow>\n              <TableRow>\n                <TableCell>Time to Complete</TableCell>\n                <TableCell></TableCell>\n                <TableCell></TableCell>\n                <TableCell></TableCell>\n                <TableCell>1-3 days</TableCell>\n              </TableRow>\n            </TableBody>\n          </Table>\n          <Box\n            display=\"flex\"\n            justifyContent=\"flex-end\"\n            alignItems=\"center\"\n            padding={2}\n            paddingTop={4}\n          >\n            <Box>Credits: {usdFormatter.format(myCredits)}</Box>\n            <Box flexGrow={1} />\n            <Button\n              onClick={() => setInConfig(\"labelhelp.apikey\", null)}\n              variant=\"outlined\"\n            >\n              API Key\n            </Button>\n            <Button\n              color={myCredits < totalCost ? \"primary\" : \"none\"}\n              style={{ marginLeft: 12 }}\n              variant=\"outlined\"\n              href=\"https://labelhelp.universaldatatool.com#addcredits\"\n            >\n              Add Credits\n            </Button>\n            <Button\n              onClick={async () => {\n                setError(null)\n                const response = await fetch(\n                  \"https://labelhelp.universaldatatool.com/api/submit\",\n                  {\n                    method: \"POST\",\n                    body: JSON.stringify({\n                      dataset,\n                      price: totalCost,\n                      api_key: fromConfig(\"labelhelp.apikey\"),\n                    }),\n                    headers: { \"Content-Type\": \"application/json\" },\n                  }\n                )\n                  .then((r) => r.json())\n                  .catch((e) => {\n                    setError(e.toString())\n                    return null\n                  })\n                if (!response) {\n                  setError(\"Empty response from server\")\n                  return null\n                }\n\n                setDataset(\n                  setIn(dataset, [\"labelHelp\"], {\n                    url: response.custom_id,\n                  })\n                )\n              }}\n              style={{ marginLeft: 12 }}\n              variant=\"outlined\"\n              color={myCredits >= totalCost ? \"primary\" : \"none\"}\n            >\n              Start Label Help\n            </Button>\n          </Box>\n        </Box>\n      ) : activeStep === \"running\" ? (\n        <Box>\n          {labelHelpInfo.loaded ? (\n            <Table>\n              <TableBody>\n                <TableRow>\n                  <TableCell>Status</TableCell>\n                  <TableCell>{labelHelpInfo.status}</TableCell>\n                </TableRow>\n                <TableRow>\n                  <TableCell>Link</TableCell>\n                  <TableCell>\n                    <Link href={labelHelpInfo.url}>{labelHelpInfo.url}</Link>\n                  </TableCell>\n                </TableRow>\n                <TableRow>\n                  <TableCell>Percent Complete</TableCell>\n                  <TableCell>{labelHelpInfo.progress.toFixed(1)}%</TableCell>\n                </TableRow>\n                {labelHelpInfo.price && (\n                  <TableRow>\n                    <TableCell>Budget Used</TableCell>\n                    <TableCell>\n                      ${labelHelpInfo.progress * labelHelpInfo.price} / $75\n                    </TableCell>\n                  </TableRow>\n                )}\n              </TableBody>\n            </Table>\n          ) : (\n            <Box padding={8} textAlign=\"center\">\n              <CircularProgress size={100} />\n            </Box>\n          )}\n          <Box display=\"flex\" marginTop={2} justifyContent=\"flex-end\">\n            {/* TODO add stop early by calling /api/stop */}\n            {/* <Button\n              variant=\"outlined\"\n              style={{\n                color: colors.red[500],\n                border: `1px solid ${colors.red[200]}`,\n              }}\n            >\n              Stop Early\n            </Button> */}\n            <Box flexGrow={1} />\n            {/* TODO sync samples merges samples from link */}\n            {/* <Button variant=\"outlined\" color=\"primary\">\n              Sync Samples\n            </Button> */}\n          </Box>\n        </Box>\n      ) : activeStep === \"completed\" ? (\n        <Box>\n          <Table>\n            <TableBody>\n              <TableRow>\n                <TableCell>Percent Complete</TableCell>\n                <TableCell>100%</TableCell>\n              </TableRow>\n              {labelHelpInfo.price && (\n                <TableRow>\n                  <TableCell>Total Cost</TableCell>\n                  <TableCell>\n                    {usdFormatter.format(labelHelpInfo.price)}\n                  </TableCell>\n                </TableRow>\n              )}\n            </TableBody>\n          </Table>\n          <Box display=\"flex\" marginTop={2} justifyContent=\"flex-end\">\n            <Button variant=\"outlined\">Restart</Button>\n            {/* TODO sync samples merges samples from link */}\n            {/* <Button\n              style={{ marginLeft: 12 }}\n              variant=\"outlined\"\n              color=\"primary\"\n            >\n              Sync Samples\n            </Button> */}\n          </Box>\n        </Box>\n      ) : null}\n    </Container>\n  )\n}\n","import React, { createContext, useMemo, useState } from \"react\"\n\nimport { useAppConfig } from \"../AppConfig\"\nexport const LabelHelpContext = createContext({})\n\nexport const LabelHelpProvider = ({ children }) => {\n  const { fromConfig, setInConfig } = useAppConfig()\n  const [loadingPricingConfig, setLoadingPricingConfig] = useState(false)\n  const [pricingConfig, setPricingConfig] = useState(false)\n  const [loadingMyTeam, setLoadingMyTeam] = useState(false)\n  const [myCredits, setMyCredits] = useState(null)\n  const contextValue = useMemo(\n    () => ({\n      pricingConfig,\n      myCredits,\n      loadPricingConfig: async () => {\n        if (loadingPricingConfig) return\n        setLoadingPricingConfig(true)\n        const pricingConfig = await fetch(\n          \"https://labelhelp.universaldatatool.com/api/price\"\n        ).then((r) => r.json())\n        setLoadingPricingConfig(false)\n        setPricingConfig(pricingConfig)\n      },\n      loadMyCredits: async () => {\n        if (loadingMyTeam) return\n        setLoadingMyTeam(true)\n        const apiKey = fromConfig(\"labelhelp.apikey\")\n        if (!apiKey) return\n        let response\n        try {\n          response = await fetch(\n            `https://labelhelp.universaldatatool.com/api/me`,\n            {\n              headers: { apikey: apiKey },\n            }\n          )\n          response = await response.json()\n        } catch (e) {\n          console.error(e)\n          setLoadingMyTeam(false)\n          return Promise.reject(e)\n        }\n        if (response.status >= 400) {\n          setInConfig(\"labelhelp.apikey\", null)\n        }\n\n        setMyCredits(response.credit)\n        setLoadingMyTeam(false)\n      },\n    }),\n    [\n      pricingConfig,\n      loadingPricingConfig,\n      // eslint-disable-next-line\n      fromConfig(\"labelhelp.apikey\"),\n      loadingMyTeam,\n      myCredits,\n      fromConfig,\n      setInConfig,\n    ]\n  )\n  return (\n    <LabelHelpContext.Provider value={contextValue}>\n      {children}\n    </LabelHelpContext.Provider>\n  )\n}\n","import useIsDesktop from \"./use-is-desktop\"\nexport default () => {\n  const isDesktop = useIsDesktop()\n  if (isDesktop) return false\n  if (window.location.search.includes(\"mode=labelonly\")) {\n    return true\n  }\n  return false\n}\n","export default (dataset, varName) => {\n  let fields = (dataset.interface || {}).fields || []\n  // const totalLabels = fields.reduce(\n  //   (acc, f) =>\n  //     f.interface.type !== \"data_entry\"\n  //       ? acc\n  //       : acc + (f.interface.surveyjs.questions[0].choices || []).length,\n  //   0\n  // )\n  // const totalBoundingBoxes = fields.filter(\n  //   (f) => f.interface.type === \"image_segmentation\"\n  // ).length\n\n  switch (varName) {\n    case \"sample_count\":\n    case \"num_samples\":\n      return (dataset.samples || []).length\n    case \"number_of_fields\":\n      return Object.keys(dataset.interface.fields || {}).length\n    case \"text_field_count\":\n      if (dataset.interface.type === \"data_entry\") {\n        return dataset.interface.surveyjs.questions.filter(\n          (q) => q.type === \"text\"\n        ).length\n      } else if (dataset.interface.type === \"composite\") {\n        return fields.filter(\n          (f) =>\n            f.interface.type === \"data_entry\" &&\n            f.interface.surveyjs.questions[0].type === \"text\"\n        ).length\n      } else {\n        throw new Error(\n          \"Couldn't compute text_field_count for interface: \" +\n            dataset.interface.type\n        )\n      }\n    case \"number_of_classifications\":\n      return dataset.interface.labels.length\n    default:\n      throw new Error(`Don't know how to compute \"${varName}\"`)\n  }\n}\n","import { useContext, useEffect } from \"react\"\n\nimport useIsLabelOnlyMode from \"../../utils/use-is-label-only-mode\"\nimport { useActiveDataset } from \"../FileContext\"\nimport { useAppConfig } from \"../AppConfig\"\nimport { LabelHelpContext } from \"./LabelHelpProvider.js\"\nimport computeDatasetVariable from \"../../utils/compute-dataset-variable\"\n\nexport const useLabelHelp = () => {\n  const isLabelOnlyMode = useIsLabelOnlyMode()\n  const { dataset } = useActiveDataset()\n  const {\n    pricingConfig,\n    myCredits,\n    remoteFile,\n    loadPricingConfig,\n    loadMyCredits,\n  } = useContext(LabelHelpContext)\n  const { fromConfig } = useAppConfig()\n  const labelHelpDisabled = Boolean(fromConfig(\"labelhelp.disabled\"))\n  const hasLabelHelpAPIKey = Boolean(fromConfig(\"labelhelp.apikey\"))\n\n  useEffect(() => {\n    if (labelHelpDisabled || isLabelOnlyMode) return\n    if (!pricingConfig) loadPricingConfig()\n  }, [pricingConfig, isLabelOnlyMode, labelHelpDisabled, loadPricingConfig])\n\n  if (labelHelpDisabled)\n    return { labelHelpEnabled: false, labelHelpError: \"Disabled in config\" }\n  if (isLabelOnlyMode) return { labelHelpEnabled: false }\n  if (!hasLabelHelpAPIKey && dataset.samples.length < 100) {\n    return {\n      labelHelpEnabled: false,\n      labelHelpError: \"Less than 100 samples\",\n    }\n  }\n  if (!pricingConfig) {\n    return {\n      labelHelpEnabled: false,\n      labelHelpError: \"No pricing config\",\n    }\n  }\n\n  try {\n    const { formula, variables: variableDescriptions } =\n      pricingConfig[dataset.interface.type] || {}\n\n    if (!formula)\n      return {\n        labelHelpEnabled: false,\n        labelHelpError: `No pricing formula for \"${dataset.interface.type}\"`,\n      }\n\n    const variables = {}\n    for (const variableName of Object.keys(variableDescriptions)) {\n      variables[variableName] = computeDatasetVariable(dataset, variableName)\n    }\n\n    const funcArgs = Object.keys(variables)\n    // TODO sanitize formula\n    // eslint-disable-next-line\n    const formulaFuncPos = new Function(...funcArgs, \"return \" + formula)\n    const formulaFunc = (variables) => {\n      return formulaFuncPos(...funcArgs.map((ak) => variables[ak]))\n    }\n    const totalCost = formulaFunc(variables)\n\n    return {\n      labelHelpEnabled: true,\n      myCredits,\n      loadMyCredits,\n      remoteFile,\n      formula,\n      variableDescriptions,\n      variables,\n      formulaFunc,\n      totalCost,\n      labelHelpAPIKey: fromConfig(\"labelhelp.apikey\"),\n    }\n  } catch (e) {\n    return { labelHelpEnabled: false, labelHelpError: e.toString() }\n  }\n}\n","import React from \"react\"\nimport { styled } from \"@material-ui/core/styles\"\nimport APIKeyEntry from \"./api-key-entry.js\"\nimport PaperContainer from \"../PaperContainer\"\nimport LabelHelpDialogContent from \"./label-help-dialog-content\"\nimport { useAppConfig } from \"../AppConfig\"\n\nexport { LabelHelpProvider, LabelHelpContext } from \"./LabelHelpProvider.js\"\nexport { useLabelHelp } from \"./use-label-help\"\n\nconst Container = styled(\"div\")({\n  display: \"flex\",\n  flexDirection: \"column\",\n  alignItems: \"center\",\n})\n\nexport const LabelHelpView = () => {\n  const { fromConfig } = useAppConfig()\n  const hasAPIKey = Boolean(fromConfig(\"labelhelp.apikey\"))\n\n  return (\n    <Container>\n      {!hasAPIKey ? (\n        <APIKeyEntry key=\"apikeyentry\" />\n      ) : (\n        <PaperContainer\n          key=\"dialogcontent\"\n          style={{ marginTop: 48, width: \"100%\", maxWidth: 800 }}\n        >\n          <LabelHelpDialogContent />\n        </PaperContainer>\n      )}\n    </Container>\n  )\n}\n\nexport default LabelHelpView\n","import React from \"react\"\nimport { styled } from \"@material-ui/core/styles\"\nimport * as colors from \"@material-ui/core/colors\"\n\nconst Container = styled(\"div\")({\n  fontSize: 18,\n  padding: 32,\n  textAlign: \"center\",\n  color: colors.grey[700],\n  \"& a\": {\n    color: colors.blue[500],\n  },\n})\n\nexport const ActiveLearningView = () => {\n  return (\n    <Container>\n      Hey, this isn't available yet, but if you'd like this functionality please\n      let us know by leaving a thumbs up on{\" \"}\n      <a href=\"https://github.com/UniversalDataTool/universal-data-tool/issues/148\">\n        this github issue\n      </a>\n    </Container>\n  )\n}\n\nexport default ActiveLearningView\n","import React, { useState } from \"react\"\nimport LabelErrorBoundary from \"../LabelErrorBoundary\"\nimport UniversalDataViewer from \"../UniversalDataViewer\"\nimport Stats from \"../Stats\"\nimport SampleGrid from \"../SampleGrid\"\nimport Box from \"@material-ui/core/Box\"\nimport { setIn } from \"seamless-immutable\"\nimport usePosthog from \"../../utils/use-posthog\"\nimport duration from \"duration\"\nimport { styled } from \"@material-ui/core/styles\"\nimport Tabs from \"@material-ui/core/Tabs\"\nimport Tab from \"@material-ui/core/Tab\"\nimport BorderColorIcon from \"@material-ui/icons/BorderColor\"\nimport SupervisedUserCircleIcon from \"@material-ui/icons/SupervisedUserCircle\"\nimport DataUsageIcon from \"@material-ui/icons/DataUsage\"\nimport LabelHelpView, { useLabelHelp } from \"../LabelHelpView\"\nimport ActiveLearningView from \"../ActiveLearningView\"\nimport useIsLabelOnlyMode from \"../../utils/use-is-label-only-mode\"\n\nconst OverviewContainer = styled(\"div\")({\n  padding: 16,\n  height: \"100%\",\n  display: \"flex\",\n  flexDirection: \"column\",\n  boxSizing: \"border-box\",\n})\n\nexport default ({\n  dataset,\n  onChangeDataset,\n  singleSampleDataset,\n  onChangeSingleSampleDataset,\n  selectedBrush = \"complete\",\n  onClickSetup,\n  onChangeSampleTimeToComplete,\n  sampleTimeToComplete,\n}) => {\n  const [currentTab, setTab] = useState(\"label\")\n  const posthog = usePosthog()\n  const { labelHelpEnabled } = useLabelHelp()\n  const labelOnlyMode = useIsLabelOnlyMode()\n  let percentComplete = 0\n  if (dataset.samples && dataset.samples.length > 0) {\n    percentComplete =\n      dataset.samples\n        .map((s) => s.annotation !== undefined && s.annotation !== null)\n        .filter(Boolean).length / dataset.samples.length\n  }\n  return singleSampleDataset ? (\n    <LabelErrorBoundary>\n      <UniversalDataViewer\n        datasetName={`Sample ${singleSampleDataset.sampleIndex}`}\n        onSaveTaskOutputItem={(relativeIndex, output) => {\n          const {\n            sampleIndex,\n            samples: [sample],\n          } = singleSampleDataset\n\n          let newDataset = dataset\n          newDataset = setIn(\n            newDataset,\n            [\"samples\", sampleIndex, \"annotation\"],\n            output\n          )\n\n          if (\n            sample.brush !== selectedBrush &&\n            !(sample.brush === undefined && selectedBrush === \"complete\")\n          ) {\n            newDataset = setIn(\n              newDataset,\n              [\"samples\", sampleIndex, \"brush\"],\n              selectedBrush\n            )\n          }\n\n          onChangeSingleSampleDataset(\n            setIn(singleSampleDataset, [\"samples\", 0, \"annotation\"], output)\n          )\n          onChangeDataset(newDataset)\n        }}\n        onExit={(nextAction = \"nothing\") => {\n          if (singleSampleDataset.startTime) {\n            onChangeSampleTimeToComplete(\n              Date.now() - singleSampleDataset.startTime\n            )\n          }\n          const { sampleIndex } = singleSampleDataset\n          switch (nextAction) {\n            case \"go-to-next\":\n              if (sampleIndex !== dataset.samples.length - 1) {\n                posthog.capture(\"next_sample\", {\n                  interface_type: dataset.interface.type,\n                })\n                onChangeSingleSampleDataset({\n                  ...dataset,\n                  samples: [dataset.samples[sampleIndex + 1]],\n                  sampleIndex: sampleIndex + 1,\n                  startTime: Date.now(),\n                })\n                return\n              }\n              break\n            case \"go-to-previous\":\n              if (sampleIndex !== 0) {\n                onChangeSingleSampleDataset({\n                  ...dataset,\n                  samples: [dataset.samples[sampleIndex - 1]],\n                  sampleIndex: sampleIndex - 1,\n                  startTime: Date.now(),\n                })\n                return\n              }\n              break\n            default:\n              break\n          }\n          onChangeSingleSampleDataset(null)\n        }}\n        dataset={singleSampleDataset}\n        onClickSetup={() => onClickSetup}\n      />\n    </LabelErrorBoundary>\n  ) : (\n    <OverviewContainer>\n      <Box display=\"flex\">\n        <Box>\n          <Tabs value={currentTab} onChange={(e, newTab) => setTab(newTab)}>\n            <Tab icon={<BorderColorIcon />} label=\"Label\" value=\"label\" />\n            {!labelOnlyMode && (\n              <Tab\n                icon={<DataUsageIcon />}\n                label=\"Active Learning\"\n                value=\"activelearning\"\n              />\n            )}\n            {labelHelpEnabled && (\n              <Tab\n                icon={<SupervisedUserCircleIcon />}\n                label=\"Label Help\"\n                value=\"labelhelp\"\n              />\n            )}\n          </Tabs>\n        </Box>\n        <Box flexGrow={1} />\n        <Stats\n          stats={[\n            {\n              name: \"Percent Complete\",\n              value: Math.floor(percentComplete * 100) + \"%\",\n            },\n            {\n              name: \"Time per Sample\",\n              value: duration(\n                new Date(Date.now() - sampleTimeToComplete)\n              ).toString(1, 1),\n            },\n            {\n              name: \"Estimated Remaining\",\n              value: duration(\n                new Date(\n                  Date.now() -\n                    sampleTimeToComplete *\n                      (1 - percentComplete) *\n                      (dataset.samples || []).length\n                )\n              ).toString(1, 2),\n            },\n          ]}\n        />\n      </Box>\n      <Box flexGrow={1}>\n        {currentTab === \"label\" && (\n          <SampleGrid\n            count={(dataset.samples || []).length}\n            samples={dataset.samples || []}\n            completed={(dataset.samples || []).map((s) =>\n              Boolean(s.annotation)\n            )}\n            onClick={(sampleIndex) => {\n              posthog.capture(\"open_sample\", {\n                interface_type: dataset.interface.type,\n              })\n              onChangeSingleSampleDataset({\n                ...dataset,\n                samples: [dataset.samples[sampleIndex]],\n                sampleIndex,\n                startTime: Date.now(),\n              })\n            }}\n          />\n        )}\n        {currentTab === \"activelearning\" && <ActiveLearningView />}\n        {currentTab === \"labelhelp\" && <LabelHelpView />}\n      </Box>\n    </OverviewContainer>\n  )\n}\n","// @flow\n\nimport React, { useState, useEffect, useMemo } from \"react\"\nimport { makeStyles } from \"@material-ui/core/styles\"\n\nimport Header from \"../Header\"\nimport AceEditor from \"react-ace\"\nimport EditableTitleText from \"./EditableTitleText.js\"\nimport SamplesView from \"../SamplesView\"\nimport InterfacePage from \"../InterfacePage\"\nimport EditSampleDialog from \"../EditSampleDialog\"\nimport useElectron from \"../../utils/use-electron\"\nimport useTimeToCompleteSample from \"../../utils/use-time-to-complete-sample.js\"\nimport TextField from \"@material-ui/core/TextField\"\nimport { useToasts } from \"../Toasts\"\nimport { setIn, without } from \"seamless-immutable\"\nimport useEventCallback from \"use-event-callback\"\nimport usePosthog from \"../../utils/use-posthog\"\nimport classnames from \"classnames\"\nimport LabelView from \"../LabelView\"\nimport useIsLabelOnlyMode from \"../../utils/use-is-label-only-mode\"\nimport { HotKeys } from \"react-hotkeys\"\n\nimport \"brace/mode/javascript\"\nimport \"brace/theme/github\"\n\nconst useStyles = makeStyles({\n  headerButton: {\n    color: \"#fff\",\n  },\n  saveIcon: {\n    marginRight: 4,\n  },\n  editIcon: {\n    marginLeft: 4,\n  },\n  container: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    width: \"100vw\",\n    height: \"100vh\",\n  },\n})\n\nexport default ({\n  file,\n  datasetName = \"Universal Data Tool\",\n  dataset,\n  content,\n  inSession,\n  url,\n  fileName = \"unnamed\",\n  onChangeDataset = () => null,\n  onChangeFile,\n  onFileDrop,\n  initialMode = \"setup\",\n  authConfig,\n  user,\n  recentItems,\n  selectedBrush,\n}) => {\n  const labelOnlyMode = useIsLabelOnlyMode()\n  var [valueDisplay, setValueDisplay] = useState(fileName)\n  const c = useStyles()\n  const { addToast } = useToasts()\n  const [mode, changeMode] = useState(labelOnlyMode ? \"label\" : initialMode)\n  const [singleSampleDataset, setSingleSampleDataset] = useState()\n  const [sampleInputEditor, changeSampleInputEditor] = useState({})\n  const [jsonText, changeJSONText] = useState()\n  const { ipcRenderer } = useElectron() || {}\n  const posthog = usePosthog()\n\n  const headerTabs = labelOnlyMode ? [\"Label\"] : [\"Setup\", \"Samples\", \"Label\"]\n\n  const [\n    sampleTimeToComplete,\n    changeSampleTimeToComplete,\n  ] = useTimeToCompleteSample()\n\n  useEffect(() => {\n    if (!ipcRenderer) return\n    const onOpenSettingsPage = () => changeMode(\"settings\")\n    const onOpenSamplesPage = () => changeMode(\"samples\")\n    const onOpenLabelPage = () => changeMode(\"label\")\n    ipcRenderer.on(\"open-settings-page\", onOpenSettingsPage)\n    ipcRenderer.on(\"open-samples-page\", onOpenSamplesPage)\n    ipcRenderer.on(\"open-label-page\", onOpenLabelPage)\n    return () => {\n      ipcRenderer.removeListener(\"open-settings-page\", onOpenSettingsPage)\n      ipcRenderer.removeListener(\"open-samples-page\", onOpenSamplesPage)\n      ipcRenderer.removeListener(\"open-label-page\", onOpenLabelPage)\n    }\n  }, [ipcRenderer])\n\n  useEffect(() => {\n    if (mode === \"json\") {\n      changeJSONText(JSON.stringify(dataset, null, \"  \"))\n    }\n    if (mode !== \"label\") {\n      setSingleSampleDataset(null)\n    }\n    posthog.capture(\"open_editor_tab\", { tab: mode })\n  }, [mode, posthog, changeJSONText, dataset])\n\n  useEffect(() => {\n    if (!jsonText || mode !== \"json\") return\n    try {\n      // TODO schema validation etc.\n      onChangeDataset(JSON.parse(jsonText))\n    } catch (e) {}\n  }, [jsonText, mode, onChangeDataset])\n\n  const onChangeTab = useEventCallback((tab) => changeMode(tab.toLowerCase()))\n\n  const shortcutHandlers = useMemo(\n    () => ({\n      switch_to_label: () => changeMode(\"label\"),\n      switch_to_setup: () => changeMode(\"setup\"),\n      switch_to_samples: () => changeMode(\"samples\"),\n    }),\n    [changeMode]\n  )\n\n  return (\n    <HotKeys handlers={shortcutHandlers}>\n      <div className={classnames(c.container, \"universaldatatool\")}>\n        <Header\n          title={\n            inSession ? (\n              <TextField\n                label=\"Share Link\"\n                value={url}\n                variant=\"outlined\"\n                size=\"small\"\n              />\n            ) : (\n              <EditableTitleText\n                label=\"File Name\"\n                onChange={(newName) => {\n                  onChangeFile(setIn(file, [\"fileName\"], newName))\n                  setValueDisplay(newName)\n                }}\n                value={valueDisplay || \"\"}\n              />\n            )\n          }\n          onChangeTab={onChangeTab}\n          currentTab={mode}\n          tabs={headerTabs}\n        />\n        <div style={{ height: \"100%\", overflowY: \"scroll\" }}>\n          {mode === \"json\" && (\n            <AceEditor\n              theme=\"github\"\n              mode=\"javascript\"\n              width=\"100%\"\n              value={jsonText || \"\"}\n              editorProps={{ $blockScrolling: Infinity }}\n              onChange={(t) => changeJSONText(t)}\n            />\n          )}\n          {mode === \"setup\" && (\n            <InterfacePage\n              onClickEditJSON={() => changeMode(\"json\")}\n              dataset={dataset}\n              onClearLabelData={() => {\n                onChangeDataset(\n                  setIn(\n                    dataset,\n                    [\"samples\"],\n                    dataset.samples.map((s) => without(s, \"annotation\"))\n                  )\n                )\n              }}\n              onChange={(iface) => {\n                if (\n                  iface.type !== dataset.interface.type &&\n                  dataset.interface.type !== \"empty\" &&\n                  dataset.samples.map((s) => s.annotation).some(Boolean)\n                ) {\n                  addToast(\n                    \"Changing label types can cause label data issues. You must clear all label data first.\",\n                    \"error\"\n                  )\n                  return\n                }\n                onChangeDataset({\n                  ...dataset,\n                  interface: iface,\n                })\n              }}\n            />\n          )}\n          {mode === \"samples\" && (\n            <SamplesView\n              file={file}\n              dataset={dataset}\n              openSampleLabelEditor={(sampleIndex) => {\n                setSingleSampleDataset({\n                  ...dataset,\n                  samples: [dataset.samples[sampleIndex]],\n                  sampleIndex,\n                  annotationStartTime: Date.now(),\n                })\n                posthog.capture(\"open_sample\", {\n                  interface_type: dataset.interface.type,\n                })\n                changeMode(\"label\")\n              }}\n              openSampleInputEditor={(sampleIndex) => {\n                changeSampleInputEditor({ open: true, sampleIndex })\n              }}\n              deleteSample={(sampleIndex) => {\n                const newSamples = [...dataset.samples]\n                newSamples.splice(sampleIndex, 1)\n                onChangeDataset({\n                  ...dataset,\n                  samples: newSamples,\n                })\n              }}\n              onChangeFile={(file) => {\n                onChangeFile(file)\n                setValueDisplay(file.fileName)\n              }}\n              onChangeDataset={onChangeDataset}\n              authConfig={authConfig}\n              user={user}\n            />\n          )}\n          {mode === \"label\" && (\n            <LabelView\n              selectedBrush={selectedBrush}\n              dataset={dataset}\n              sampleTimeToComplete={sampleTimeToComplete}\n              onChangeSampleTimeToComplete={changeSampleTimeToComplete}\n              onChangeDataset={onChangeDataset}\n              singleSampleDataset={singleSampleDataset}\n              onChangeSingleSampleDataset={setSingleSampleDataset}\n              onClickSetup={() => changeMode(\"setup\")}\n            />\n          )}\n        </div>\n        <EditSampleDialog\n          {...sampleInputEditor}\n          sampleInput={\n            sampleInputEditor.sampleIndex !== undefined\n              ? dataset.samples[sampleInputEditor.sampleIndex]\n              : null\n          }\n          onClose={() => {\n            changeSampleInputEditor({ open: false })\n          }}\n          onChange={(newInput) => {\n            onChangeDataset(\n              setIn(\n                dataset,\n                [\"samples\", sampleInputEditor.sampleIndex],\n                newInput\n              )\n            )\n          }}\n        />\n      </div>\n    </HotKeys>\n  )\n}\n","import { useReducer } from \"react\"\n\nexport default () => {\n  const [{ timeToCompleteSample }, changeSampleTimeToComplete] = useReducer(\n    (state, newTimeToComplete) => {\n      const newSamplesInWindow = state.samplesInWindow\n        .slice(-10)\n        .concat([newTimeToComplete])\n      return {\n        timeToCompleteSample:\n          newSamplesInWindow.reduce((acc, a) => acc + a, 0) /\n          newSamplesInWindow.length,\n        samplesInWindow: newSamplesInWindow,\n      }\n    },\n    { timeToCompleteSample: 0, samplesInWindow: [] }\n  )\n  return [timeToCompleteSample, changeSampleTimeToComplete]\n}\n","// @flow weak\n\nexport default (changeLog) => {\n  const humanReadableChangeLog = []\n  for (const { userName, op, path } of changeLog) {\n    if (path.startsWith(\"/interface\")) {\n      humanReadableChangeLog.push({\n        type: \"warning\",\n        message: `${userName} changed the project settings`,\n      })\n    } else if (path.startsWith(\"/taskOutput\")) {\n      const sampleMatch = path.match(/\\/samples\\/([^/]+)/)\n      humanReadableChangeLog.push({\n        type: \"info\",\n        message: `${userName} changed sample ${sampleMatch[1]}`,\n      })\n    } else {\n      humanReadableChangeLog.push({\n        message: `${userName} did a ${op} at ${path}`,\n        type: \"info\",\n      })\n    }\n  }\n  return humanReadableChangeLog\n}\n","/*\nThis doesn't handle a fair number of edge cases, for the full specification\nfor what it should implement, see https://tools.ietf.org/html/rfc6902\n\nWhen applySeamlessPatch is called, it usually is accompanied by a object hash\ncheck to make sure that the patch applied correctly, and if not, perform\na download of the latest version. Because of this, we can safely ignore the\ntricky edge cases.\n*/\n\nimport seamless from \"seamless-immutable\"\n\nconst { setIn, getIn, updateIn, without } = seamless\n\nfunction addToArray(a, newValue) {\n  return a.concat([newValue])\n}\n\nfunction withoutIn(obj, path) {\n  if (path.length === 0) return without(obj, path[0])\n  const parentPath = path.slice(0, -1)\n  const key = path[path.length - 1]\n  const parentObj = getIn(obj, parentPath)\n  if (Array.isArray(parentObj)) {\n    const index = parseInt(key)\n    return setIn(obj, parentPath, [\n      ...parentObj.slice(0, index),\n      ...parentObj.slice(index + 1),\n    ])\n  } else {\n    return setIn(obj, parentPath, without(parentObj, key))\n  }\n}\n\nexport default (object, patches) => {\n  for (const patch of patches) {\n    let { op, path } = patch\n    path = path.split(\"/\").filter(Boolean)\n    if (path.length === 0) {\n      // this operation is on the root object, special handling should apply\n      if (op === \"replace\") {\n        object = patch.value\n        continue\n      }\n      throw new Error(\"Operation on root object not supported\")\n    }\n    switch (op) {\n      case \"replace\": {\n        object = setIn(object, path, patch.value)\n        continue\n      }\n      case \"copy\": {\n        object = setIn(object, path, getIn(object, patch.from.split(\"/\")))\n        continue\n      }\n      case \"add\": {\n        if (!isNaN(parseInt(path.slice(-1)[0]))) {\n          object = setIn(object, path, patch.value)\n        } else {\n          const arrayAtPath = Array.isArray(getIn(object, path))\n          if (arrayAtPath) {\n            object = updateIn(object, path, addToArray, patch.value)\n          } else {\n            object = setIn(object, path, patch.value)\n          }\n        }\n        continue\n      }\n      case \"move\": {\n        const from = patch.from.split(\"/\")\n        object = setIn(object, path, getIn(object, from))\n        object = withoutIn(object, from)\n        continue\n      }\n      case \"remove\": {\n        object = withoutIn(object, path)\n        continue\n      }\n      default:\n        return object\n    }\n  }\n  return object\n}\n","// This is the same hashing code that the server uses\n\nconst stringify = require(\"json-stable-stringify\")\n\nconst hashString = (s) => {\n  var hash = 0,\n    i,\n    chr\n  for (i = 0; i < s.length; i++) {\n    chr = s.charCodeAt(i)\n    hash = (hash << 5) - hash + chr\n    hash |= 0\n  }\n  return hash\n}\n\nexport default (o) => hashString(stringify(o))\n","// @flow\n\nimport { useEffect } from \"react\"\nimport CollaborationHandler from \"./handler.js\"\n\nconst serverUrl =\n  window.localStorage.CUSTOM_COLLABORATION_SERVER ||\n  \"https://udt-collaboration-server.now.sh\"\n\n// We use a global singleton to manage the collaboration state machine\nconst collab = new CollaborationHandler({ serverUrl })\n\nexport const convertToCollaborativeFile = async (file) => {\n  await collab.createSession(file.content)\n  return {\n    fileName: file.fileName,\n    id: file.id,\n    sessionId: collab.sessionId,\n    url: `${window.location.origin}?s=${collab.sessionId}`,\n    content: file.content,\n    mode: \"server\",\n  }\n}\n\nexport const joinSession = async (sessionId) => {\n  await collab.joinSession(sessionId)\n  return {\n    state: collab.state,\n    version: collab.version,\n  }\n}\n\nexport default (file, changeFile) => {\n  // const { addToast } = useToasts()\n  const userName = window.localStorage.userName\n  useEffect(() => {\n    if (userName && !userName.includes(\"anonymous\")) {\n      try {\n        collab.userName = JSON.parse(window.localStorage.userName)\n      } catch (e) {}\n    }\n  }, [userName])\n\n  useEffect(() => {\n    if (!file || file.mode !== \"server\") return\n    if (file.sessionId !== collab.sessionId) return\n\n    const checkForLatestPatch = async () => {\n      const applyResult = await collab.applyLatestPatches()\n\n      if (applyResult) {\n        changeFile({\n          ...file,\n          content: collab.state,\n        })\n      }\n\n      if (!timeout) return\n      timeout = setTimeout(checkForLatestPatch, 500)\n    }\n\n    let timeout = setTimeout(checkForLatestPatch, 500)\n    return () => {\n      clearTimeout(timeout)\n      timeout = null\n    }\n  }, [file, changeFile])\n\n  // Update the Server State by Sending Patches\n  useEffect(() => {\n    if (!file || file.mode !== \"server\") return\n    async function doPatch() {}\n    doPatch()\n  }, [file])\n}\n","// @flow weak\n// NOTE: for unit tests you need to change the following line to...\n// import rfc6902 from \"rfc6902\"\nimport * as rfc6902 from \"rfc6902\"\nimport bent from \"bent\"\nimport getHumanReadableLog from \"./get-human-readable-log.js\"\nimport applySeamlessPatch from \"./apply-seamless-patch.js\"\nimport hash from \"./server-hash.js\"\n\nclass CollaborationHandler {\n  serverUrl = \"http://localhost:6003\"\n  getJSON = (url, payload, opts) => {}\n  postJSON = (url, payload, opts) => {}\n  patchJSON = (url, payload, opts) => {}\n  userName = \"anonymous\"\n\n  sessionId = null\n  state = null\n  version = null\n\n  constructor({ serverUrl, userName }) {\n    this.serverUrl = serverUrl\n    this.getJSON = bent(\"json\", \"GET\", serverUrl)\n    this.postJSON = bent(\"json\", \"POST\", serverUrl)\n    this.patchJSON = bent(\"json\", \"PATCH\", serverUrl)\n    this.userName =\n      userName || `anonymous_${Math.random().toString(36).slice(2, 6)}`\n  }\n\n  async createSession(initialContent) {\n    const response = await this.postJSON(\"/api/session\", {\n      udt: initialContent,\n    })\n\n    this.state = initialContent\n    this.sessionId = response.short_id\n    this.version = response.version\n  }\n\n  async getLatestState() {\n    try {\n      const res = await this.getJSON(\n        `/api/session/${encodeURIComponent(this.sessionId)}`\n      )\n      return {\n        state: res.udt_json,\n        version: res.version,\n      }\n    } catch (e) {\n      throw new Error(\n        `error getting session \"${this.sessionId}\": ${e.toString()}`\n      )\n    }\n  }\n\n  async updateToLatestState() {\n    const { state, version } = await this.getLatestState()\n    this.state = state\n    this.version = version\n  }\n\n  async joinSession(sessionId) {\n    this.sessionId = sessionId\n    await this.updateToLatestState()\n  }\n\n  async applyLatestPatches() {\n    const {\n      patch,\n      hashOfLatestState,\n      latestVersion,\n      changeLog,\n    } = await this.getJSON(\n      `/api/session/${encodeURIComponent(this.sessionId)}/diffs?since=${\n        this.version\n      }`\n    )\n\n    if (patch.length === 0 || latestVersion === this.version) {\n      return null\n    }\n\n    const humanReadableLog = getHumanReadableLog(changeLog)\n\n    let newState = applySeamlessPatch(this.state, patch)\n\n    if (hash(newState) !== hashOfLatestState) {\n      console.error(\"new state with patches applied didn't match latest state\")\n      await this.updateToLatestState()\n      return { patch, changeLog: humanReadableLog }\n    }\n\n    this.state = newState\n    this.version = latestVersion\n    return { patch, changeLog: humanReadableLog }\n  }\n\n  async sendPatchIfChanged(newState) {\n    const patch = rfc6902.createPatch(this.state, newState)\n    if (patch.length === 0) return null\n\n    const { hashOfLatestState, latestVersion } = await this.patchJSON(\n      `/api/session/${encodeURIComponent(this.sessionId)}`,\n      {\n        patch,\n        userName: this.userName,\n      }\n    )\n\n    if (hash(newState) !== hashOfLatestState) {\n      console.error(\n        \"after patch, hashes were not equal! getting latest version from server...\"\n      )\n      await this.updateToLatestState()\n      return this\n    }\n\n    this.state = newState\n    this.version = latestVersion\n    return this\n  }\n}\n\nexport default CollaborationHandler\n","import JAC from \"jac-format\"\nimport range from \"lodash/range\"\nimport { flatten } from \"flat\"\n\nexport default (obj) => {\n  const AddSamplesKeys = (k) => {\n    sampleKeys.add(k)\n  }\n  // Find all possible sample keys\n  let sampleKeys = new Set()\n  for (const sample of obj.samples) {\n    Object.keys(flatten(sample)).forEach((k) => AddSamplesKeys(k))\n  }\n  sampleKeys = Array.from(sampleKeys).sort(\n    (a, b) => a.split(\".\").length - b.split(\".\").length\n  )\n\n  if (sampleKeys.some((k) => k.includes(\"output.keyframes\"))) {\n    sampleKeys = sampleKeys.filter((k) => k.includes(\"output.keyframes\"))\n    sampleKeys.push(\"output.keyframes\")\n  }\n\n  const options = {\n    rows: [\n      \"interface\",\n      ...range(obj.samples.length).map((i) => `samples.${i}`),\n    ],\n    columns: [\".\", ...sampleKeys],\n  }\n\n  return JAC.toCSV(obj, options)\n}\n","// @flow\n\nimport { useEffect } from \"react\"\nimport useEventCallback from \"use-event-callback\"\nimport useElectron from \"../use-electron.js\"\nimport { useToasts } from \"../../components/Toasts\"\nimport { setIn } from \"seamless-immutable\"\nimport toUDTCSV from \"../to-udt-csv.js\"\nimport useIsDesktop from \"../use-is-desktop\"\n\nconst webReturn = { saveFile: () => null }\n\nexport default (file, changeFile) => {\n  const isDesktop = useIsDesktop()\n  if (!isDesktop) return webReturn\n  const { addToast } = useToasts()\n  const { remote } = useElectron()\n  const saveFile = useEventCallback(({ saveAs = false } = {}) => {\n    if (!file) return\n    async function saveFileAsync() {\n      let filePath = file.filePath\n      if (!file.filePath || saveAs) {\n        const {\n          cancelled,\n          filePath: newFilePath,\n        } = await remote.dialog.showSaveDialog({\n          filters: [\n            { name: \".udt.json\", extensions: [\"udt.json\"] },\n            { name: \".udt.csv\", extensions: [\"udt.csv\"] },\n          ],\n        })\n        filePath =\n          !newFilePath ||\n          newFilePath.endsWith(\".json\") ||\n          newFilePath.endsWith(\".csv\")\n            ? newFilePath\n            : `${newFilePath}.udt.json`\n        if (cancelled || !filePath) {\n          addToast(\"Could not save\")\n          return\n        }\n        changeFile({\n          ...file,\n          filePath,\n          fileName: filePath.split(\"/\").slice(-1)[0],\n        })\n      }\n      await remote\n        .require(\"fs\")\n        .promises.writeFile(\n          filePath,\n          filePath.endsWith(\".csv\")\n            ? toUDTCSV(file.content)\n            : JSON.stringify(file.content, null, \"  \")\n        )\n      addToast(\"File Saved!\")\n    }\n    saveFileAsync()\n  })\n\n  useEffect(() => {\n    if (!file || !file.filePath) return\n    if (file.fileName !== file.filePath.split(\"/\").slice(-1)[0]) {\n      changeFile(\n        setIn(\n          file,\n          [\"filePath\"],\n          file.filePath\n            .split(\"/\")\n            .slice(0, -1)\n            .concat([\n              file.fileName +\n                (file.fileName.endsWith(\".json\") ? \"\" : \".dataset.json\"),\n            ])\n            .join(\"/\")\n        )\n      )\n    }\n  }, [file, changeFile])\n\n  return { saveFile }\n}\n","// @flow weak\n\nimport { useEffect } from \"react\"\nimport usePosthog from \"../../utils/use-posthog\"\nconst posthog = usePosthog()\n\nexport default (udt) => {\n  useEffect(() => {\n    if (!udt || !udt.interface) return\n    posthog.capture(\"interface_type\", { interface_type: udt.interface.type })\n    posthog.people.set({ last_used_interface_type: udt.interface.type })\n  }, [udt])\n  useEffect(() => {\n    if (!udt || !udt.samples) return\n    posthog.capture(\"dataset_size\", {\n      dataset_size: (udt.samples || []).length,\n    })\n  }, [udt])\n  useEffect(() => {\n    if (!udt || !udt.samples) return\n    const numCompleted = (udt.samples || []).filter((s) => s.annotation).length\n    posthog.capture(\"sample_completion\", {\n      dataset_size: (udt.samples || []).length,\n      samples_completed: numCompleted,\n      percent_completed: numCompleted / (udt.samples || []).length,\n    })\n  }, [udt])\n}\n","// @flow weak\n\nimport { useEffect, useRef, useCallback } from \"react\"\nimport UpdateAWSStorage from \"./update-aws-storage\"\nimport * as datasetHelper from \"../../dataset-helper\"\nimport isEmpty from \"lodash/isEmpty\"\nimport useAuth from \"../../auth-handlers/use-auth\"\n\nconst workingInterfaces = [\n  \"video_segmentation\",\n  \"image_classification\",\n  \"image_segmentation\",\n  \"text_entity_recognition\",\n  \"text_classification\",\n  \"audio_transcription\",\n  \"composite\",\n  \"data_entry\",\n]\n\nexport default ({ file, setFile }) => {\n  const { isLoggedIn, authProvider, authConfig } = useAuth()\n\n  const lastObjectRef = useRef([])\n  const shouldUpdateAWSStorage = useCallback(() => {\n    if (!isLoggedIn || authProvider !== \"cognito\") return\n\n    var changes = datasetHelper.fileHasChanged(lastObjectRef.current, file)\n    if (\n      isEmpty(file) ||\n      (!changes.content.samples && !changes.fileName) ||\n      !workingInterfaces.includes(file.content.interface.authProvider) ||\n      file.fileName === \"unnamed\"\n    )\n      return false\n    return true\n  }, [file, isLoggedIn, authProvider])\n\n  useEffect(() => {\n    if (!isLoggedIn || authProvider !== \"cognito\") return\n    if (!isEmpty(authConfig)) {\n      if (shouldUpdateAWSStorage()) UpdateAWSStorage(file)\n      lastObjectRef.current = file\n    }\n  }, [shouldUpdateAWSStorage, authConfig, file, isLoggedIn, authProvider])\n}\n","import { Storage } from \"aws-amplify\"\nimport isEmpty from \"lodash/isEmpty\"\nimport * as datasetHelper from \"../../dataset-helper\"\nimport { setIn } from \"seamless-immutable\"\n\nexport default (file) => {\n  async function fetchAFile(element) {\n    var proxyUrl = \"https://cors-anywhere.herokuapp.com/\"\n    var response\n    var url\n    if (datasetHelper.getSampleUrl(element) !== undefined)\n      url = proxyUrl + datasetHelper.getSampleUrl(element)\n    response = await fetch(url, {\n      method: \"GET\",\n      headers: {\n        \"X-Requested-With\": \"xmlhttprequest\",\n      },\n    }).catch((error) => {\n      console.log(\"Looks like there was a problem: \\n\", error)\n    })\n    const blob = await response.blob()\n    return blob\n  }\n\n  function fileNameExist(file) {\n    if (file !== \"undefined\" && file.fileName !== \"undefined\") return true\n\n    return false\n  }\n\n  function createOrReplaceProjectFile(file) {\n    Storage.put(`${file.fileName}/`, null, {\n      level: \"private\",\n    }).catch((err) => console.log(err))\n  }\n\n  function createOrReplaceAnnotations(file, json) {\n    Storage.put(`${file.fileName}/annotations/annotations.json`, json, {\n      level: \"private\",\n    }).catch((err) => console.log(err))\n  }\n\n  function createOrReplaceImages(file) {\n    if (!isEmpty(file.content.samples)) {\n      file.content.samples.forEach(async (element) => {\n        try {\n          var blob\n          if (!isEmpty(datasetHelper.getSampleUrl(element))) {\n            blob = await fetchAFile(element)\n          } else if (!isEmpty(element.document)) {\n            blob = element.document\n          }\n\n          let imageOrVideoName\n          if (isEmpty(element.sampleName)) {\n            imageOrVideoName = datasetHelper.getSampleName(element)\n          } else {\n            imageOrVideoName = element.sampleName\n          }\n\n          var pathToFile = `${file.fileName}/data/${imageOrVideoName}`\n          Storage.put(pathToFile, blob, {\n            level: \"private\",\n          }).catch((err) => console.log(err))\n        } catch (err) {\n          console.log(err)\n        }\n      })\n    }\n  }\n\n  if (fileNameExist(file)) {\n    var dataset = file.content\n    file = setIn(\n      file,\n      [\"content\"],\n      setIn(dataset, [\"samples\"], datasetHelper.setSamplesName(dataset))\n    )\n    var json = JSON.stringify(file)\n    createOrReplaceProjectFile(file)\n    createOrReplaceAnnotations(file, json)\n    createOrReplaceImages(file)\n  }\n}\n","// @flow\n\nimport { useState, useMemo, useEffect } from \"react\"\nimport useServer, {\n  joinSession,\n  convertToCollaborativeFile,\n} from \"./use-server\"\nimport useFilesystem from \"./use-filesystem\"\nimport useLocalStorage from \"./use-local-storage\"\nimport { useToasts } from \"../../components/Toasts\"\nimport fromUDTCSV from \"../from-udt-csv.js\"\nimport useEventCallback from \"use-event-callback\"\nimport useFileTelemetry from \"./use-file-telemetry\"\nimport useAWSCognito from \"./use-aws-cognito\"\n\nexport default () => {\n  const [file, setFile] = useState()\n  const { addToast } = useToasts()\n\n  const { saveFile } = useFilesystem(file, setFile)\n  const { recentItems, changeRecentItems } = useLocalStorage(file, setFile)\n  useServer(file, setFile)\n\n  // Auth/Cloud\n  useAWSCognito({ file, setFile })\n\n  // Telemetry\n  useFileTelemetry(file && file.content)\n\n  const openFile = useEventCallback((fsFile) => {\n    const { name: fileName, path: filePath } = fsFile\n\n    function handleLoadedFile(content) {\n      try {\n        let dataset\n        if (fileName.endsWith(\"csv\")) {\n          dataset = fromUDTCSV(content)\n        } else {\n          dataset = JSON.parse(content)\n        }\n        // TODO validate OHA and prompt to open anyway if invalid\n        setFile({\n          fileName,\n          filePath,\n          mode: filePath ? \"filesystem\" : \"local-storage\",\n          content: dataset,\n          id: filePath,\n        })\n      } catch (e) {\n        console.log(e.toString())\n        addToast(\"Couldn't read file, see console for details\", \"error\")\n        // addError(`Could not read file \"${fsFile.name}\"`)\n      }\n    }\n\n    if (fsFile.content) {\n      handleLoadedFile(fsFile.content)\n    } else {\n      const reader = new FileReader()\n      reader.onload = (e) => {\n        const content = e.target.result\n        handleLoadedFile(content)\n      }\n      reader.readAsText(fsFile)\n    }\n  })\n\n  const openUrl = useEventCallback(async (url) => {\n    const sessionId = decodeURIComponent(url.match(/[?&]s=([^&]+)/)[1])\n    const labelOnly = url.includes(\"mode=labelonly\")\n    if (!sessionId) return\n    const { state } = await joinSession(sessionId)\n    if (!state) return\n    window.history.replaceState(\n      {},\n      window.document.title,\n      `/?s=${encodeURIComponent(sessionId)}${\n        labelOnly ? \"&mode=labelonly\" : \"\"\n      }`\n    )\n    setFile({\n      url,\n      sessionId,\n      mode: \"server\",\n      id: sessionId,\n      content: state,\n    })\n  })\n\n  useEffect(() => {\n    if (!file) return\n    if (file.mode === \"server\") return\n    window.history.replaceState({}, window.document.title, `/`)\n  }, [file])\n\n  useEffect(() => {\n    if (window.location.search.match(/[?&]s=([a-zA-Z0-9]+)/)) {\n      openUrl(window.location.href)\n    }\n  }, [openUrl])\n\n  const makeSession = useEventCallback(async () => {\n    const newFile = await convertToCollaborativeFile(file)\n    setFile(newFile)\n    window.history.replaceState(\n      {},\n      window.document.title,\n      `/?s=${encodeURIComponent(newFile.sessionId)}`\n    )\n  })\n\n  return useMemo(\n    () => ({\n      file,\n      setFile,\n      openFile,\n      openUrl,\n      makeSession,\n      saveFile,\n      recentItems,\n      changeRecentItems,\n    }),\n    [\n      file,\n      setFile,\n      openFile,\n      saveFile,\n      makeSession,\n      recentItems,\n      changeRecentItems,\n      openUrl,\n    ]\n  )\n}\n","// @flow\nimport { useEffect } from \"react\"\nimport { useLocalStorage } from \"react-use\"\n\nexport default (file, changeFile) => {\n  let [recentItems, changeRecentItems] = useLocalStorage(\"recentItems\", [])\n\n  if (!recentItems) recentItems = []\n  useEffect(() => {\n    if (!file || file.fileName === \"unnamed\") return\n    if (recentItems.map((item) => item.id).includes(file.id)) {\n      changeRecentItems(\n        recentItems.map((ri) => (ri.id === file.id ? file : ri))\n      )\n    } else {\n      changeRecentItems([file].concat(recentItems).slice(0, 3))\n    }\n  }, [file, changeRecentItems, recentItems])\n  return { recentItems, changeRecentItems }\n}\n","// @flow weak\n\nimport React from \"react\"\nimport { styled } from \"@material-ui/core/styles\"\nimport * as colors from \"@material-ui/core/colors\"\nimport { detect } from \"detect-browser\"\nimport Button from \"@material-ui/core/Button\"\nimport LaunchIcon from \"@material-ui/icons/Launch\"\nimport Sentry from \"../../utils/sentry.js\"\n\nconst Container = styled(\"div\")({\n  width: \"100vw\",\n  minHeight: \"100vh\",\n  backgroundColor: colors.grey[900],\n  padding: 32,\n  \"& .title\": {\n    color: colors.grey[200],\n    fontSize: 24,\n    fontWeight: \"bold\",\n  },\n  \"& .subtitle\": {\n    color: colors.grey[300],\n    fontSize: 18,\n    marginTop: 8,\n  },\n  \"& .info\": {\n    width: \"100%\",\n    boxSizing: \"border-box\",\n    padding: 32,\n    \"& textarea\": {\n      width: \"calc(100% - 64px)\",\n      boxSizing: \"border-box\",\n      minHeight: 300,\n      fontSize: 12,\n    },\n  },\n})\nconst Buttons = styled(\"div\")({\n  padding: 8,\n})\nconst StyledButton = styled(Button)({\n  color: \"#fff\",\n  borderColor: \"rgba(255,255,255,0.5)\",\n  margin: 8,\n})\n\nclass ErrorBoundary extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = { hasError: false }\n  }\n\n  static getDerivedStateFromError(error) {\n    // Update state so the next render will show the fallback UI.\n    return {\n      hasError: true,\n      errorDetails: JSON.stringify(detect()) + \"\\n\\n\" + error.stack,\n    }\n  }\n\n  componentDidCatch(error, errorInfo) {\n    // You can also log the error to an error reporting service\n    Sentry.withScope((scope) => {\n      scope.setExtras(errorInfo)\n      const eventId = Sentry.captureException(error)\n      this.setState({ eventId })\n    })\n  }\n\n  render() {\n    if (this.state.hasError) {\n      // You can render any custom fallback UI\n      return (\n        <Container>\n          <div className=\"title\">An error has occurred</div>\n          <div className=\"subtitle\">All the details are below:</div>\n          <div className=\"info\">\n            <textarea>{this.state.errorDetails}</textarea>\n          </div>\n          <Buttons>\n            <StyledButton\n              variant=\"outlined\"\n              target=\"_blank\"\n              href=\"https://github.com/Universal/universal-data-tool/issues\"\n            >\n              <LaunchIcon style={{ color: \"#fff\", marginRight: 8 }} /> View\n              Issues on Github\n            </StyledButton>\n            {/* <StyledButton\n              variant=\"outlined\"\n              onClick={this.props.revertLastChange}\n            >\n              Revert Last File Change\n            </StyledButton> */}\n            <StyledButton\n              variant=\"outlined\"\n              onClick={() => window.location.reload()}\n            >\n              Reload (unsaved progress will be lost)\n            </StyledButton>\n          </Buttons>\n        </Container>\n      )\n    }\n\n    return this.props.children\n  }\n}\n\nexport default ErrorBoundary\n","// @flow weak\n\nimport { useEffect } from \"react\"\n\nfunction preventNavigation(e) {\n  var confirmationMessage =\n    \"It looks like you have been editing something. \" +\n    \"If you leave before saving, your changes will be lost.\"\n\n  ;(e || window.event).returnValue = confirmationMessage //Gecko + IE\n  return confirmationMessage //Gecko + Webkit, Safari, Chrome etc.\n}\n\nexport default (shouldPreventNavigation = true) => {\n  useEffect(() => {\n    if (!shouldPreventNavigation) return\n    if (window.location.origin.includes(\"localhost\")) return\n    window.addEventListener(\"beforeunload\", preventNavigation)\n    return () => {\n      window.removeEventListener(\"beforeunload\", preventNavigation)\n    }\n  }, [shouldPreventNavigation])\n}\n","// @flow\nimport React, { useState, useCallback } from \"react\"\nimport { HeaderContext } from \"../Header\"\nimport StartingPage from \"../StartingPage\"\nimport DatasetEditor from \"../DatasetEditor\"\nimport ErrorToasts from \"../ErrorToasts\"\nimport useErrors from \"../../utils/use-errors.js\"\nimport useFileHandler from \"../../utils/file-handlers\"\nimport download from \"in-browser-download\"\nimport toUDTCSV from \"../../utils/to-udt-csv.js\"\nimport { setIn } from \"seamless-immutable\"\nimport AppErrorBoundary from \"../AppErrorBoundary\"\nimport useEventCallback from \"use-event-callback\"\nimport usePreventNavigation from \"../../utils/use-prevent-navigation\"\nimport { FileContext } from \"../FileContext\"\nconst randomId = () => Math.random().toString().split(\".\")[1]\n\nexport default () => {\n  const {\n    file,\n    setFile,\n    openFile,\n    openUrl,\n    makeSession,\n    recentItems,\n    changeRecentItems,\n  } = useFileHandler()\n  usePreventNavigation(Boolean(file))\n  const [errors] = useErrors()\n\n  const [selectedBrush, setSelectedBrush] = useState(\"complete\")\n  const onCreateTemplate = useEventCallback((template) => {\n    setFile({\n      fileName: \"unnamed\",\n      content: template.dataset,\n      id: randomId(),\n      mode: \"local-storage\",\n    })\n  })\n\n  const openRecentItem = useEventCallback((item) => setFile(item))\n  const onClickHome = useEventCallback(() => setFile(null))\n  const onDownload = useEventCallback((format) => {\n    if (!file) return\n    const outputName = (file.sessionId || file.fileName) + \".udt.\" + format\n    if (format === \"json\") {\n      download(JSON.stringify(file.content), outputName)\n    } else if (format === \"csv\") {\n      download(toUDTCSV(file.content), outputName)\n    }\n  })\n\n  const inSession = file && file.mode === \"server\"\n  const [sessionBoxOpen, changeSessionBoxOpen] = useState(false)\n\n  const onJoinSession = useCallback(\n    async (sessionName) => {\n      await openUrl(sessionName)\n    },\n    [openUrl]\n  )\n\n  const onLeaveSession = useEventCallback(() =>\n    setFile({\n      ...file,\n      mode: \"local-storage\",\n      fileName: file.fileName || `copy_of_${file.id}`,\n    })\n  )\n\n  const onChangeDataset = useEventCallback((newOHA) => {\n    setFile(setIn(file, [\"content\"], newOHA))\n  })\n\n  return (\n    <>\n      <FileContext.Provider value={{ file, setFile }}>\n        <HeaderContext.Provider\n          value={{\n            title: file\n              ? file.mode === \"local-storage\"\n                ? file.fileName\n                : file.url\n              : \"unnamed\",\n            recentItems,\n            changeRecentItems,\n            onClickTemplate: onCreateTemplate,\n            onClickHome,\n            onOpenFile: openFile,\n            onOpenRecentItem: openRecentItem,\n            inSession,\n            sessionBoxOpen,\n            changeSessionBoxOpen,\n            onJoinSession,\n            onLeaveSession,\n            onCreateSession: makeSession,\n            fileOpen: Boolean(file),\n            onDownload,\n            onChangeSelectedBrush: setSelectedBrush,\n            selectedBrush,\n            isWelcomePage: !file,\n          }}\n        >\n          {!file ? (\n            <StartingPage\n              onFileDrop={openFile}\n              onOpenTemplate={onCreateTemplate}\n              recentItems={recentItems}\n              onOpenRecentItem={openRecentItem}\n              onClickOpenSession={() => changeSessionBoxOpen(true)}\n            />\n          ) : (\n            <AppErrorBoundary>\n              <DatasetEditor\n                file={file}\n                key={file.id}\n                {...file}\n                selectedBrush={selectedBrush}\n                inSession={inSession}\n                dataset={file.content}\n                onChangeDataset={onChangeDataset}\n                onChangeFile={setFile}\n                authConfig\n                recentItems={recentItems}\n              />\n            </AppErrorBoundary>\n          )}\n        </HeaderContext.Provider>\n      </FileContext.Provider>\n      <ErrorToasts errors={errors} />\n    </>\n  )\n}\n","// @flow\nimport React, { useState, useEffect } from \"react\"\nimport { HeaderContext } from \"../Header\"\nimport StartingPage from \"../StartingPage\"\nimport DatasetEditor from \"../DatasetEditor\"\nimport ErrorToasts from \"../ErrorToasts\"\nimport useErrors from \"../../utils/use-errors.js\"\nimport useElectron from \"../../utils/use-electron.js\"\nimport templates from \"../StartingPage/templates\"\nimport useEventCallback from \"use-event-callback\"\nimport { setIn } from \"seamless-immutable\"\nimport toUDTCSV from \"../../utils/to-udt-csv.js\"\nimport useFileHandler from \"../../utils/file-handlers\"\n\nconst randomId = () => Math.random().toString().split(\".\")[1]\n\nexport default () => {\n  const {\n    file,\n    changeFile,\n    openFile,\n    openUrl,\n    makeSession,\n    saveFile,\n    recentItems,\n  } = useFileHandler()\n\n  const [selectedBrush, setSelectedBrush] = useState(\"complete\")\n  const [errors] = useErrors()\n\n  const { remote, ipcRenderer } = useElectron()\n\n  const onCreateTemplate = useEventCallback((template) => {\n    changeFile({\n      fileName: \"unnamed\",\n      content: template.dataset,\n      id: randomId(),\n      mode: \"filesystem\",\n    })\n  })\n\n  const openRecentItem = useEventCallback((item) => changeFile(item))\n  const onClickHome = useEventCallback(() => changeFile(null))\n\n  useEffect(() => {\n    const onOpenWelcomePage = () => changeFile(null)\n    const onNewFile = (arg0, { templateName } = {}) => {\n      onCreateTemplate(\n        templates.find((t) => t.name === templateName) || templates[0]\n      )\n    }\n    const saveFileAs = () => saveFile({ saveAs: true })\n    const exportToCSV = async () => {\n      if (!file) return\n      let { cancelled, filePath } = await remote.dialog.showSaveDialog({\n        filters: [{ name: \".udt.csv\", extensions: [\"udt.csv\"] }],\n      })\n      if (cancelled) return\n      filePath =\n        !filePath || filePath.endsWith(\".csv\")\n          ? filePath\n          : `${filePath}.udt.csv`\n\n      await remote\n        .require(\"fs\")\n        .promises.writeFile(filePath, toUDTCSV(file.content))\n    }\n    const onOpenFileFromToolbar = (e, file) => openFile(file)\n\n    ipcRenderer.on(\"open-welcome-page\", onOpenWelcomePage)\n    ipcRenderer.on(\"new-file\", onNewFile)\n    ipcRenderer.on(\"open-file\", onOpenFileFromToolbar)\n    ipcRenderer.on(\"save-file\", saveFile)\n    ipcRenderer.on(\"save-file-as\", saveFileAs)\n    ipcRenderer.on(\"export-to-csv\", exportToCSV)\n    return () => {\n      ipcRenderer.removeListener(\"open-welcome-page\", onOpenWelcomePage)\n      ipcRenderer.removeListener(\"new-file\", onNewFile)\n      ipcRenderer.removeListener(\"open-file\", onOpenFileFromToolbar)\n      ipcRenderer.removeListener(\"save-file\", saveFile)\n      ipcRenderer.removeListener(\"save-file-as\", saveFileAs)\n      ipcRenderer.removeListener(\"export-to-csv\", exportToCSV)\n    }\n  }, [\n    file,\n    changeFile,\n    ipcRenderer,\n    openFile,\n    onCreateTemplate,\n    remote,\n    saveFile,\n  ])\n\n  const inSession = file && file.mode === \"server\"\n  const [sessionBoxOpen, changeSessionBoxOpen] = useState(false)\n\n  const onJoinSession = useEventCallback(async (sessionName) => {\n    await openUrl(sessionName)\n  })\n\n  const onLeaveSession = useEventCallback(() =>\n    changeFile({\n      ...file,\n      mode: \"local-storage\",\n      fileName: file.fileName || `copy_of_${file.id}`,\n    })\n  )\n\n  const collaborateError = (((file || {}).content || {}).samples || []).some(\n    (sample) =>\n      [sample.imageUrl, sample.videoUrl, sample.pdfUrl]\n        .filter(Boolean)\n        .map((a) => a.includes(\"file://\"))\n        .some(Boolean)\n  )\n    ? \"Some URLs (links) in this file are connected to files on your computer. Use the Samples > Transform > Transform Files to Web URLs to upload these files, then collaboration will be available.\"\n    : null\n\n  return (\n    <>\n      <HeaderContext.Provider\n        value={{\n          recentItems,\n          onClickTemplate: onCreateTemplate,\n          onClickHome,\n          title: file\n            ? file.mode !== \"server\"\n              ? file.fileName\n              : file.url\n            : \"unnamed\",\n          fileOpen: Boolean(file),\n          onOpenRecentItem: openRecentItem,\n          isDesktop: true,\n          onOpenFile: openFile,\n          selectedBrush,\n          onChangeSelectedBrush: setSelectedBrush,\n\n          // collaboration session\n          inSession,\n          sessionBoxOpen,\n          changeSessionBoxOpen,\n          collaborateError,\n          onJoinSession,\n          onLeaveSession,\n          onCreateSession: makeSession,\n          isWelcomePage: !file,\n        }}\n      >\n        {!file ? (\n          <StartingPage\n            showDownloadLink={false}\n            onFileDrop={openFile}\n            onOpenTemplate={onCreateTemplate}\n            recentItems={recentItems}\n            onOpenRecentItem={openRecentItem}\n          />\n        ) : (\n          <DatasetEditor\n            key={file.id}\n            {...file}\n            inSession={inSession}\n            selectedBrush={selectedBrush}\n            dataset={file.content}\n            onChangeFileName={(newName) => {\n              changeFile(setIn(file, [\"fileName\"], newName))\n            }}\n            onChangeDataset={(newOHA) => {\n              changeFile(setIn(file, [\"content\"], newOHA))\n            }}\n          />\n        )}\n      </HeaderContext.Provider>\n      <ErrorToasts errors={errors} />\n    </>\n  )\n}\n","import React from \"react\"\nimport Theme from \"./components/Theme\"\nimport LocalStorageApp from \"./components/LocalStorageApp\"\nimport DesktopApp from \"./components/DesktopApp\"\nimport { ToastProvider } from \"./components/Toasts\"\nimport useElectron from \"./utils/use-electron.js\"\nimport { AppConfigProvider } from \"./components/AppConfig\"\nimport { AuthProvider } from \"./utils/auth-handlers/use-auth.js\"\nimport { LabelHelpProvider } from \"./components/LabelHelpView\"\nimport { HotkeyStorageProvider } from \"./components/HotkeyStorage\"\nimport \"./App.css\"\n\nexport const App = () => {\n  const electron = useElectron()\n  return (\n    <Theme>\n      <AppConfigProvider>\n        <AuthProvider>\n          <LabelHelpProvider>\n            <ToastProvider>\n              <HotkeyStorageProvider>\n                {Boolean(electron) ? <DesktopApp /> : <LocalStorageApp />}\n              </HotkeyStorageProvider>\n            </ToastProvider>\n          </LabelHelpProvider>\n        </AuthProvider>\n      </AppConfigProvider>\n    </Theme>\n  )\n}\n\nexport default App\n","import React from \"react\"\nimport ReactDOM from \"react-dom\"\nimport App from \"./App\"\n\nReactDOM.render(<App />, document.getElementById(\"root\"))\n"],"sourceRoot":""}