{"version":3,"sources":["components/Theme/index.js","components/Header/GithubIcon.js","components/StartingPage/templates.js","components/Header/index.js","components/CreateFromTemplateDialog/index.js","components/StartingPage/index.js","components/OHAEditor/default-oha-object.js","utils/get-task-description.js","components/SampleContainer/LinkButton.js","components/SampleContainer/index.js","components/TextClassification/index.js","components/TextEntityRecognition/index.js","components/ImageSegmentation/index.js","components/AudioTranscription/index.js","components/DataEntry/index.js","components/BadOHA/index.js","components/EmptySampleContainer/index.js","components/InterfaceIcon/index.js","components/Composite/index.js","components/UniversalDataViewer/index.js","components/OHAEditor/EditableTitleText.js","components/SampleGrid/index.js","components/SimpleDialog/index.js","components/PasteUrlsDialog/index.js","components/ImportPage/index.js","components/SampleDataTable/index.js","components/ConfigureImageSegmentation/index.js","components/PaperContainer/index.js","components/ConfigureInterface/index.js","components/InterfacePage/index.js","components/EditSampleDialog/index.js","utils/use-electron.js","components/OHAEditor/index.js","components/ErrorToasts/index.js","utils/use-errors.js","utils/use-local-storage.js","components/LocalStorageApp/index.js","components/Toasts/index.js","components/DesktopApp/index.js","App.js","index.js"],"names":["useStyles","makeStyles","container","fontFamily","theme","createMuiTheme","typography","overrides","MuiButton","root","textTransform","Theme","_ref","children","classes","react_default","a","createElement","MuiThemeProvider_default","ThemeProvider","className","GitHub","props","SvgIcon","d","templates","name","Icon","RemoveRedEye","oha","interface","type","availableLabels","regionTypesAllowed","taskData","imageUrl","Edit","description","surveyjs","questions","title","pdfUrl","TextFormat","overlapAllowed","labels","id","displayName","document","Audiotrack","audioUrl","Category","fields","fieldName","headerButton","color","grow","flexGrow","list","width","tab","height","& .icon","fullHeightTab","_objectSpread","mixins","toolbar","HeaderContext","createContext","recentItems","getIcon","t","Settings_default","BorderColor_default","Storage_default","Header","_ref$additionalButton","additionalButtons","_ref$title","currentTab","onChangeTab","_ref$tabs","tabs","c","_useState","useState","_useState2","Object","slicedToArray","drawerOpen","changeDrawerOpen","_useContext","useContext","onClickTemplate","onClickHome","onOpenFile","onOpenRecentItem","isDesktop","onDrop","useCallback","acceptedFiles","_useDropzone","useDropzone","getRootProps","getInputProps","Fragment","AppBar","position","Toolbar","IconButton","onClick","Menu_default","Typography","variant","noWrap","length","Tabs","onChange","e","newTab","toLowerCase","value","map","Tab","key","icon","label","href","GithubIcon","Drawer","open","onClose","List","ListItem","button","ListItemIcon","Home_default","ListItemText","assign","NoteAdd_default","ListSubheader","style","textAlign","colors","ri","fileName","InsertDriveFile_default","template","window","location","bigButton","padding","border","margin","bigIcon","CreateFromTemplateDialog","onSelect","Dialog","DialogTitle","DialogContent","Button_Button","DialogActions","contentTitle","paddingTop","paddingLeft","paddingRight","contentSubtitle","wordWrap","fontSize","concat","bigButtonContent","display","lineHeight","paddingBottom","flexDirection","alignItems","justifyContent","content","flexWrap","StartingPage","onFileDrop","onOpenTemplate","_ref$showDownloadLink","showDownloadLink","createFromTemplateDialogOpen","changeCreateFromTemplateDialogOpen","useMemo","isDragActive","filter","Boolean","Grid","item","xs","Description_default","default_oha_object","trim","getTaskDescription","taskDataItem","url","replace","linkButtonContainer","marginLeft","marginRight","linkButton","cursor","textDecoration","LinkButton","text","footer","backgroundColor","marginTop","footerContent","footerBorder","borderTop","footerCount","allSamplesButton","sampleIcon","menuButton","buttons","& > *","& img","maxWidth","maxHeight","sectionHeader","fontWeight","SampleContainer","_ref$hideDescription","hideDescription","defaultHideDescription","onExit","lastSampleExitText","_ref$requireCompleteT","requireCompleteToPressNext","minContentHeight","currentSampleIndex","totalSamples","onChangeSample","_ref$taskOutput","taskOutput","changeHideDescription","_useState3","_useState4","sampleDrawerOpen","changeSampleDrawerOpen","sm","md","react_markdown_default","escapeHtml","source","minHeight","KeyboardArrowLeft_default","disabled","KeyboardArrowRight_default","anchor","minWidth","range","i","undefined","CheckCircle_default","RadioButtonUnchecked_default","TextClassification","changeCurrentSampleIndex","initialLabels","components_SampleContainer","containerProps","sampleIndex","NLPAnnotator","multipleLabels","multiple","onFinish","result","onSaveTaskOutputItem","simpleSequenceToEntitySequence","simpleSeq","entSeq","charsPassed","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","Symbol","iterator","next","done","seq","push","start","end","err","return","TextEntityRecognition","initialSequence","doc","toConsumableArray","sort","b","nextEntity","entitySequenceToSimpleSeq","entities","getRandomColor","min","max","h","Math","floor","random","rid","toString","split","convertToRIARegionFmt","region","regionType","cls","classification","x","centerX","y","centerY","w","points","p","Error","JSON","stringify","convertFromRIARegionFmt","riaRegion","_ref2","regionTypeToTool","bounding-box","polygon","full-segmentation","point","ImageSegmentation","_ref4","iface","_ref4$taskData","_ref4$taskOutput","_ref4$containerProps","datasetName","selectedIndex","_iface$regionTypesAll","labelProps","multipleRegionLabels","regionClsList","regionTagList","react_image_annotate","selectedImage","src","taskDescription","enabledTools","rt","images","taskDatum","index","_ref3","td","output","regions","Array","isArray","convertToRIAImageFmt","regionMat","img","riaRegions","multipleRegions","AudioTranscription","audio","phraseBank","initialTranscriptionText","DataEntry","console","log","Survey_default","form","defaultAnswers","completeText","answers","explain","BadOHA","component","EmptySampleContainer","InterfaceIcon","objectWithoutProperties","RemoveRedEye_default","Audiotrack_default","Edit_default","TextFormat_default","Help_default","Title","styled","borderBottom","marginBottom","StyledButton","Button","Composite","selectedField","changeSelectedField","components_UniversalDataViewer","indexZero","Composite_objectSpread","defineProperty","field","fullWidth","Box","Checkbox","checked","UniversalDataViewer","hideHeader","components_DataEntry","components_TextClassification","components_TextEntityRecognition","components_Composite","textField","EditableTitleText","editing","_useState2$","newValue","changeEditing","useEffect","listener","addEventListener","removeEventListener","timeout","setTimeout","SAVE_WAIT","clearTimeout","TextField","autoFocus","InputProps","inputProps","target","Container","Sample","borderRadius","&.completed","SampleGrid","count","_ref$completed","completed","StyledDialogTitle","grey","boxShadow","StyledDialogContent","StyledDialogActions","SimpleDialog","_ref$open","markdownContent","redOn","red","_ref$noActionBar","noActionBar","_ref$actions","actions","fullScreen","changeFullScreen","FullscreenExit_default","Fullscreen_default","Close_default","action","blue","TextArea","PasteUrlsDialog","onAddSamples","changeContent","l","s","slice","error","v","placeholder","ButtonBase","SelectDialogContext","dialog","Consumer","changeDialog","ImportPage","onChangeOHA","selectedDialog","closeDialog","Provider","ImportPage_Button","AssignmentReturnedIcon","samples","ImportPage_objectSpread","ExpandedRowContainer","borderTopLeftRadius","borderTopRightRadius","ExpandedRowTitle","ExpandedRowCode","whiteSpace","ExpandedRow","data","_output","input","spacing","SampleDataTable","openSampleInputEditor","openSampleLabelEditor","localStorage","lastSampleTab","changeTabState","changeTab","columns","selector","sortable","knownKeys","Set","has","add","cell","row","raised","primary","SampleDataTable_objectSpread","SampleDataTable_Container","Publish_default","Apps_default","TableChart_default","newOHA","shouldViewChange","index_cjs_default","expandableRowsComponent","SampleDataTable_ExpandedRow","expandableRows","dense","choices","cellType","ConfigureImageSegmentation","noActions","onQuestionChange","questionId","ConfigureImageSegmentation_objectSpread","PaperContainer","NoOptions","TypeButton","&.selected","Heading","SelectType","currentlySelected","ConfigureInterface","_ref2$iface","onClickEditJSON","components_PaperContainer","ConfigureInterface_SelectType","ConfigureInterface_objectSpread","InterfacePage","components_ConfigureInterface","EditSampleDialog","sampleInput","changeText","changeError","newText","lib_default","mode","editorProps","$blockScrolling","Infinity","parse","use_electron","require","saveIcon","editIcon","OHAEditor","_ref$fileName","onChangeFileName","_ref$onChangeContent","onChangeContent","_ref$onChangeOHA","_ref$initialMode","initialMode","changeMode","singleSampleOHA","changeSingleSampleOHA","_useState5","_useState6","sampleInputEditor","changeSampleInputEditor","_useState7","defaultOHAObject","_useState8","jsonText","changeJSONText","useElectron","ipcRenderer","remote","onOpenSettingsPage","onOpenSamplesPage","onOpenLabelPage","on","removeListener","OHAEditor_objectSpread","relativeIndex","newInput","bottom","left","right","pointerEvents","errorBox","ErrorToasts","errors","Collapse","in","life","Fade","message","use_errors","changeErrors","interval","setInterval","use_errors_objectSpread","clearInterval","use_local_storage","defaultValue","getItem","state","changeState","setItem","empty","LocalStorageApp","pageName","changePageName","currentFile","changeCurrentFile","changeOHA","_useErrors","useErrors","_useErrors2","addError","_useLocalStorage","useLocalStorage","_useLocalStorage2","changeRecentItems","onCreateTemplate","openRecentItem","handleOpenFile","file","reader","FileReader","onload","readAsText","newName","LocalStorageApp_objectSpread","newContent","newFile","includes","msgBox","green","ToastContext","ToastProvider","toasts","changeToasts","msg","Toasts_objectSpread","addToast","Toasts","DesktopApp","_useElectron","onOpenWelcomePage","onNewFile","templateName","find","DesktopApp_objectSpread","onSaveFile","asyncToGenerator","regenerator_default","mark","_callee","filePath","cancelled","newFilePath","wrap","_context","prev","showSaveDialog","sent","abrupt","promises","writeFile","stop","_x","_x2","apply","this","arguments","path","App","electron","Toasts_ToastProvider","ReactDOM","render","src_App","getElementById"],"mappings":"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","file":"static/js/main.615f8860.chunk.js","sourcesContent":["import React from \"react\"\nimport { makeStyles } from \"@material-ui/core/styles\"\nimport createMuiTheme from \"@material-ui/core/styles/createMuiTheme\"\nimport MuiThemeProvider from \"@material-ui/core/styles/MuiThemeProvider\"\nimport ThemeProvider from \"@material-ui/styles/ThemeProvider\"\nimport \"./theme.css\"\n\nconst useStyles = makeStyles({\n  container: {\n    fontFamily: '\"Inter\", sans-serif'\n  }\n})\n\nconst theme = createMuiTheme({\n  typography: {\n    fontFamily: '\"Inter\", \"Roboto\", sans-serif'\n  },\n  overrides: {\n    MuiButton: {\n      root: {\n        textTransform: \"none\"\n      }\n    }\n  }\n})\n\nexport default ({ children }: any) => {\n  const classes = useStyles()\n  return (\n    <MuiThemeProvider theme={theme}>\n      <ThemeProvider theme={theme}>\n        <div className={classes.container}>{children}</div>\n      </ThemeProvider>\n    </MuiThemeProvider>\n  )\n}\n","// @flow\n\nimport React from \"react\"\nimport SvgIcon from \"@material-ui/core/SvgIcon\"\n\nfunction GitHub(props: Object) {\n  return (\n    <SvgIcon {...props}>\n      <path d=\"M12.007 0C6.12 0 1.1 4.27.157 10.08c-.944 5.813 2.468 11.45 8.054 13.312.19.064.397.033.555-.084.16-.117.25-.304.244-.5v-2.042c-3.33.735-4.037-1.56-4.037-1.56-.22-.726-.694-1.35-1.334-1.756-1.096-.75.074-.735.074-.735.773.103 1.454.557 1.846 1.23.694 1.21 2.23 1.638 3.45.96.056-.61.327-1.178.766-1.605-2.67-.3-5.462-1.335-5.462-6.002-.02-1.193.42-2.35 1.23-3.226-.327-1.015-.27-2.116.166-3.09 0 0 1.006-.33 3.3 1.23 1.966-.538 4.04-.538 6.003 0 2.295-1.5 3.3-1.23 3.3-1.23.445 1.006.49 2.144.12 3.18.81.877 1.25 2.033 1.23 3.226 0 4.607-2.805 5.627-5.476 5.927.578.583.88 1.386.825 2.206v3.29c-.005.2.092.393.26.507.164.115.377.14.565.063 5.568-1.88 8.956-7.514 8.007-13.313C22.892 4.267 17.884.007 12.008 0z\" />\n    </SvgIcon>\n  )\n}\n\nexport default GitHub\n","// @flow\n\nimport RemoveRedEye from \"@material-ui/icons/RemoveRedEye\"\nimport TextFormat from \"@material-ui/icons/TextFormat\"\nimport Edit from \"@material-ui/icons/Edit\"\nimport Audiotrack from \"@material-ui/icons/Audiotrack\"\nimport Category from \"@material-ui/icons/Category\"\n\nexport default [\n  {\n    name: \"Computer Vision\",\n    Icon: RemoveRedEye,\n    oha: {\n      interface: {\n        type: \"image_segmentation\",\n        availableLabels: [\"valid\", \"invalid\"],\n        regionTypesAllowed: [\n          \"bounding-box\",\n          \"polygon\",\n          // \"full-segmentation\",\n          \"point\"\n          // \"pixel-mask\"\n        ]\n      },\n      taskData: [\n        {\n          imageUrl:\n            \"https://s3.amazonaws.com/asset.workaround.online/example-jobs/sticky-notes/image1.jpg\"\n        },\n        {\n          imageUrl:\n            \"https://s3.amazonaws.com/asset.workaround.online/example-jobs/sticky-notes/image2.jpg\"\n        }\n      ]\n    }\n  },\n  {\n    name: \"Data Entry\",\n    Icon: Edit,\n    oha: {\n      interface: {\n        type: \"data_entry\",\n        description: \"# Markdown description here\",\n        surveyjs: {\n          questions: [\n            {\n              type: \"text\",\n              name: \"document_title\",\n              title: \"Title of Document\"\n            }\n          ]\n        }\n      },\n      taskData: [\n        {\n          pdfUrl: \"https://arxiv.org/pdf/1906.01969.pdf\"\n        },\n        {\n          pdfUrl: \"https://arxiv.org/pdf/1908.07069.pdf\"\n        }\n      ]\n    }\n  },\n  {\n    name: \"Natural Language\",\n    Icon: TextFormat,\n    oha: {\n      interface: {\n        type: \"text_entity_recognition\",\n        overlapAllowed: false,\n        labels: [\n          {\n            id: \"food\",\n            displayName: \"Food\",\n            description: \"Edible item.\"\n          },\n          {\n            id: \"hat\",\n            displayName: \"Hat\",\n            description: \"Something worn on the head.\"\n          }\n        ]\n      },\n      taskData: [\n        {\n          document:\n            \"This strainer makes a great hat, I'll wear it while I serve spaghetti!\"\n        }\n      ]\n    }\n  },\n  {\n    name: \"Audio Transcription\",\n    Icon: Audiotrack,\n    oha: {\n      interface: {\n        type: \"audio_transcription\",\n        description: \"# Markdown description here\"\n      },\n      taskData: [\n        {\n          audioUrl: \"https://html5tutorial.info/media/vincent.mp3\"\n        }\n      ]\n    }\n  },\n  {\n    name: \"Composite\",\n    Icon: Category,\n    oha: {\n      description: \"# Markdown description here\",\n      interface: {\n        type: \"composite\",\n        fields: [\n          {\n            fieldName: \"textInfo\",\n            interface: {\n              type: \"data_entry\",\n              surveyjs: {\n                questions: [\n                  {\n                    type: \"text\",\n                    name: \"group_letter\",\n                    title: \"Letter of Group\"\n                  }\n                ]\n              }\n            }\n          },\n          {\n            fieldName: \"segmentation\",\n            interface: {\n              type: \"image_segmentation\",\n              availableLabels: [\"group text\"],\n              regionTypesAllowed: [\"bounding-box\"]\n            }\n          }\n        ]\n      },\n      taskData: [\n        {\n          imageUrl:\n            \"https://s3.amazonaws.com/asset.workaround.online/example-jobs/sticky-notes/image1.jpg\"\n        },\n        {\n          imageUrl:\n            \"https://s3.amazonaws.com/asset.workaround.online/example-jobs/sticky-notes/image2.jpg\"\n        }\n      ]\n    }\n  }\n]\n","// @flow\n\nimport React, { useState, createContext, useContext, useCallback } from \"react\"\nimport AppBar from \"@material-ui/core/AppBar\"\nimport Toolbar from \"@material-ui/core/Toolbar\"\nimport IconButton from \"@material-ui/core/IconButton\"\nimport MenuIcon from \"@material-ui/icons/Menu\"\nimport CodeIcon from \"@material-ui/icons/Code\"\nimport SettingsIcon from \"@material-ui/icons/Settings\"\nimport StorageIcon from \"@material-ui/icons/Storage\"\nimport BorderColorIcon from \"@material-ui/icons/BorderColor\"\nimport HomeIcon from \"@material-ui/icons/Home\"\nimport Typography from \"@material-ui/core/Typography\"\nimport Drawer from \"@material-ui/core/Drawer\"\nimport Button from \"@material-ui/core/Button\"\nimport FileIcon from \"@material-ui/icons/InsertDriveFile\"\nimport NoteAddIcon from \"@material-ui/icons/NoteAdd\"\nimport List from \"@material-ui/core/List\"\nimport ListItem from \"@material-ui/core/ListItem\"\nimport ListItemText from \"@material-ui/core/ListItemText\"\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\"\nimport ListSubheader from \"@material-ui/core/ListSubheader\"\nimport * as colors from \"@material-ui/core/colors\"\nimport GithubIcon from \"./GithubIcon\"\nimport templates from \"../StartingPage/templates\"\nimport { useDropzone } from \"react-dropzone\"\nimport { makeStyles } from \"@material-ui/core/styles\"\nimport Tabs from \"@material-ui/core/Tabs\"\nimport Tab from \"@material-ui/core/Tab\"\n\nconst useStyles = makeStyles(theme => ({\n  headerButton: {\n    color: \"#fff\"\n  },\n  grow: { flexGrow: 1 },\n  list: {\n    width: 300\n  },\n  tab: {\n    color: \"#fff\",\n    height: \"100%\",\n    \"& .icon\": {}\n  },\n  fullHeightTab: {\n    ...theme.mixins.toolbar\n  }\n}))\n\nexport const HeaderContext = createContext({ recentItems: [] })\n\nconst getIcon = (t: string) => {\n  switch (t) {\n    case \"Settings\":\n      return <SettingsIcon className=\"icon\" />\n    case \"Label\":\n      return <BorderColorIcon className=\"icon\" />\n    case \"Samples\":\n      return <StorageIcon className=\"icon\" />\n  }\n}\n\nexport default ({\n  additionalButtons = [],\n  title = \"Universal Data Tool - Welcome!\",\n  currentTab,\n  onChangeTab,\n  tabs = []\n}) => {\n  const c = useStyles()\n  const [drawerOpen, changeDrawerOpen] = useState(false)\n  let {\n    recentItems,\n    onClickTemplate,\n    onClickHome,\n    onOpenFile,\n    onOpenRecentItem,\n    isDesktop\n  } = useContext(HeaderContext)\n  if (!recentItems) recentItems = []\n\n  const onDrop = useCallback(acceptedFiles => {\n    onOpenFile(acceptedFiles[0])\n  }, [])\n\n  const { getRootProps, getInputProps } = useDropzone({ onDrop })\n\n  return (\n    <>\n      <AppBar position=\"static\">\n        <Toolbar>\n          {!isDesktop && (\n            <IconButton\n              onClick={() => changeDrawerOpen(true)}\n              className={c.headerButton}\n            >\n              <MenuIcon />\n            </IconButton>\n          )}\n          <Typography className={c.title} variant=\"h6\" noWrap>\n            {title}\n          </Typography>\n          <div className={c.grow} />\n          {additionalButtons}\n          {tabs.length > 0 && (\n            <Tabs\n              onChange={(e, newTab) => onChangeTab(newTab.toLowerCase())}\n              value={currentTab}\n            >\n              {tabs.map(t => (\n                <Tab\n                  key={t}\n                  classes={{ root: c.fullHeightTab }}\n                  className={c.tab}\n                  icon={getIcon(t)}\n                  label={t}\n                  value={t.toLowerCase()}\n                />\n              ))}\n            </Tabs>\n          )}\n          <IconButton\n            href=\"https://github.com/openhumanannotation/universal-data-tool\"\n            className={c.headerButton}\n          >\n            <GithubIcon />\n          </IconButton>\n        </Toolbar>\n      </AppBar>\n      <Drawer open={drawerOpen} onClose={() => changeDrawerOpen(false)}>\n        <List className={c.list}>\n          <ListItem onClick={onClickHome} button>\n            <ListItemIcon>\n              <HomeIcon />\n            </ListItemIcon>\n            <ListItemText>Home</ListItemText>\n          </ListItem>\n          <ListItem {...getRootProps()} button>\n            <ListItemIcon>\n              <NoteAddIcon />\n            </ListItemIcon>\n            <ListItemText>Open File</ListItemText>\n            <input {...getInputProps()} />\n          </ListItem>\n          <ListSubheader>Recent Files</ListSubheader>\n          {recentItems.length === 0 ? (\n            <ListItem>\n              <ListItemText\n                style={{ textAlign: \"center\", color: colors.grey[500] }}\n              >\n                No Recent Items\n              </ListItemText>\n            </ListItem>\n          ) : (\n            recentItems.map(ri => (\n              <ListItem\n                key={ri.fileName}\n                button\n                onClick={() => {\n                  onOpenRecentItem(ri)\n                }}\n              >\n                <ListItemIcon>\n                  <FileIcon />\n                </ListItemIcon>\n                <ListItemText>{ri.fileName}</ListItemText>\n              </ListItem>\n            ))\n          )}\n          <ListSubheader>Create From Template</ListSubheader>\n          {templates.map(template => (\n            <ListItem\n              key={template.name}\n              button\n              onClick={() => onClickTemplate(template)}\n            >\n              <ListItemIcon>\n                <template.Icon />\n              </ListItemIcon>\n              <ListItemText>{template.name}</ListItemText>\n            </ListItem>\n          ))}\n          <ListSubheader>Explore More</ListSubheader>\n          {/* <ListItem button>\n            <ListItemIcon>\n              <CodeIcon />\n            </ListItemIcon>\n            <ListItemText>Integrate</ListItemText>\n          </ListItem> */}\n          <ListItem\n            button\n            onClick={() => {\n              window.location.href =\n                \"https://github.com/OpenHumanAnnotation/universal-data-tool/releases\"\n            }}\n          >\n            <ListItemIcon>\n              <GithubIcon />\n            </ListItemIcon>\n            <ListItemText>Github</ListItemText>\n          </ListItem>\n        </List>\n      </Drawer>\n    </>\n  )\n}\n","// @flow\n\nimport React from \"react\"\nimport Button from \"@material-ui/core/Button\"\nimport Dialog from \"@material-ui/core/Dialog\"\nimport DialogTitle from \"@material-ui/core/DialogTitle\"\nimport DialogContent from \"@material-ui/core/DialogContent\"\nimport DialogActions from \"@material-ui/core/DialogActions\"\nimport { makeStyles } from \"@material-ui/core/styles\"\nimport templates from \"../StartingPage/templates\"\nimport { grey } from \"@material-ui/core/colors\"\n\nconst useStyles = makeStyles({\n  bigButton: {\n    padding: 10,\n    width: 150,\n    height: 120,\n    border: \"1px solid #ccc\",\n    margin: 10\n  },\n  bigIcon: {\n    width: 48,\n    height: 48\n  }\n})\n\nexport default ({ open, onClose, onSelect }) => {\n  const c = useStyles()\n  return (\n    <Dialog open={open} onClose={onClose}>\n      <DialogTitle>Create from Template</DialogTitle>\n      <DialogContent>\n        {templates.map(template => (\n          <Button onClick={() => onSelect(template)} className={c.bigButton}>\n            <div>\n              <div>{template.name}</div>\n              <div>\n                <template.Icon className={c.bigIcon} />\n              </div>\n            </div>\n          </Button>\n        ))}\n      </DialogContent>\n      <DialogActions>\n        <Button onClick={() => onClose()}>Close</Button>\n      </DialogActions>\n    </Dialog>\n  )\n}\n","// @flow\n\nimport React, { useState, useMemo } from \"react\"\nimport { makeStyles } from \"@material-ui/core/styles\"\nimport Grid from \"@material-ui/core/Grid\"\nimport Header from \"../Header\"\nimport Button from \"@material-ui/core/Button\"\nimport Typography from \"@material-ui/core/Typography\"\nimport templates from \"./templates\"\nimport * as colors from \"@material-ui/core/colors\"\nimport VideoIcon from \"@material-ui/icons/OndemandVideo\"\nimport FileIcon from \"@material-ui/icons/InsertDriveFile\"\nimport TemplateIcon from \"@material-ui/icons/Description\"\nimport { useDropzone } from \"react-dropzone\"\nimport CreateFromTemplateDialog from \"../CreateFromTemplateDialog\"\n\nconst useStyles = makeStyles({\n  title: {},\n  contentTitle: {\n    paddingTop: 50,\n    paddingLeft: 20,\n    paddingRight: 20,\n    textAlign: \"center\"\n  },\n  contentSubtitle: {\n    textAlign: \"center\",\n    wordWrap: \"normal\",\n    paddingLeft: 40,\n    paddingRight: 40,\n    padding: 30\n  },\n  bigButton: {\n    width: 240,\n    fontSize: 24,\n    margin: 20,\n    border: `1px dashed ${colors.grey[500]}`\n  },\n  bigButtonContent: {\n    display: \"flex\",\n    lineHeight: 1.5,\n    height: 160,\n    paddingTop: 20,\n    paddingBottom: 20,\n    flexDirection: \"column\",\n    alignItems: \"center\",\n    justifyContent: \"center\"\n  },\n  bigIcon: {\n    margin: 20,\n    width: 64,\n    height: 64\n  },\n  grow: { flexGrow: 1 },\n  content: {\n    display: \"flex\",\n    justifyContent: \"center\",\n    flexWrap: \"wrap\"\n  },\n  headerButton: { color: \"#fff\" }\n})\n\nexport default ({ onFileDrop, onOpenTemplate, showDownloadLink = true }) => {\n  const c = useStyles()\n  const [\n    createFromTemplateDialogOpen,\n    changeCreateFromTemplateDialogOpen\n  ] = useState(false)\n  const onDrop = useMemo(() => {\n    return acceptedFiles => {\n      onFileDrop(acceptedFiles[0])\n    }\n  }, [onFileDrop])\n  let { getRootProps, getInputProps, isDragActive } = useDropzone({ onDrop })\n\n  return (\n    <div>\n      <CreateFromTemplateDialog\n        open={createFromTemplateDialogOpen}\n        onSelect={template => onOpenTemplate(template)}\n        onClose={() => changeCreateFromTemplateDialogOpen(false)}\n      />\n      <Header\n        additionalButtons={[\n          showDownloadLink && (\n            <Button\n              href=\"https://github.com/OpenHumanAnnotation/universal-data-tool/releases\"\n              className={c.headerButton}\n            >\n              Download Universal Data Tool\n            </Button>\n          )\n        ].filter(Boolean)}\n      />\n      <Grid container>\n        <Grid item xs={12}>\n          <Typography className={c.contentTitle} variant=\"h3\" noWrap>\n            Universal Data Tool\n          </Typography>\n        </Grid>\n        <Grid item xs={12}>\n          <Typography className={c.contentSubtitle} variant=\"h5\">\n            Annotate data for Computer Vision, Natural Language Processing, Data\n            Entry and More.\n          </Typography>\n        </Grid>\n        <Grid item xs={12}>\n          <div className={c.content}>\n            <Button {...getRootProps()} className={c.bigButton}>\n              <div className={c.bigButtonContent}>\n                <div>{!isDragActive ? \"Open File\" : \"Drop File Here\"}</div>\n                <FileIcon className={c.bigIcon} />\n                <input {...getInputProps()} />\n              </div>\n            </Button>\n            <Button\n              onClick={() => {\n                changeCreateFromTemplateDialogOpen(true)\n              }}\n              className={c.bigButton}\n            >\n              <div className={c.bigButtonContent}>\n                <div>Create from Template</div>\n                <TemplateIcon className={c.bigIcon} />\n              </div>\n            </Button>\n            {/* <Button className={c.bigButton}>\n              <div className={c.bigButtonContent}>\n                <div>Watch Tutorials</div>\n                <VideoIcon className={c.bigIcon} />\n              </div>\n            </Button> */}\n          </div>\n        </Grid>\n      </Grid>\n    </div>\n  )\n}\n","export default `\n{\n  \"interface\": {\n    \"type\": \"data_entry\",\n    \"description\": \"# Markdown description here\",\n    \"surveyjs\": {\n      \"questions\": [\n        {\n          \"type\": \"text\",\n          \"name\": \"question1\",\n          \"title\": \"Some question title here\"\n        }\n      ]\n    }\n  },\n  \"taskData\": []\n}\n`.trim()\n","export default function getTaskDescription(taskDataItem) {\n  const { description, imageUrl, url, pdfUrl } = taskDataItem\n  if (description) return description\n  if (imageUrl) return `![${imageUrl}](${imageUrl})`\n  if (pdfUrl)\n    return (\n      `[PDF Link](${pdfUrl})` +\n      `<object data=\"${pdfUrl.replace(\n        \"http://\",\n        \"https://\"\n      )}\" type=\"application/pdf\" width=\"100%\" height=\"600px\"></object>`\n    )\n  if (url) return `Use this [Link](${url})`\n  return null\n}\n","// @flow\nimport React from \"react\"\nimport { makeStyles } from \"@material-ui/core/styles\"\n\nconst useStyles = makeStyles({\n  linkButtonContainer: {\n    marginLeft: 8,\n    marginRight: 8\n  },\n  linkButton: {\n    textTransform: \"none\",\n    cursor: \"pointer\",\n    textDecoration: \"underline\"\n  }\n})\n\nexport default ({ onClick, text }: { onClick: Function, text: string }) => {\n  const c = useStyles()\n  return (\n    <span className={c.linkButtonContainer}>\n      (\n      <span onClick={onClick} className={c.linkButton}>\n        {text}\n      </span>\n      )\n    </span>\n  )\n}\n","// @flow\n\nimport React, { useState } from \"react\"\nimport { makeStyles } from \"@material-ui/core\"\nimport Grid from \"@material-ui/core/Grid\"\nimport Button from \"@material-ui/core/Button\"\nimport ReactMarkdown from \"react-markdown\"\nimport AppBar from \"@material-ui/core/AppBar\"\nimport Toolbar from \"@material-ui/core/Toolbar\"\nimport IconButton from \"@material-ui/core/IconButton\"\nimport MenuIcon from \"@material-ui/icons/Menu\"\nimport ScatterPlotIcon from \"@material-ui/icons/ScatterPlot\"\nimport RightIcon from \"@material-ui/icons/KeyboardArrowRight\"\nimport LeftIcon from \"@material-ui/icons/KeyboardArrowLeft\"\nimport InnerCircleIcon from \"@material-ui/icons/RadioButtonChecked\"\nimport CircleIcon from \"@material-ui/icons/RadioButtonUnchecked\"\nimport CheckCircle from \"@material-ui/icons/CheckCircle\"\nimport Typography from \"@material-ui/core/Typography\"\nimport GithubIcon from \"../Header/GithubIcon.js\"\nimport * as colors from \"@material-ui/core/colors\"\nimport Drawer from \"@material-ui/core/Drawer\"\nimport Divider from \"@material-ui/core/Divider\"\nimport List from \"@material-ui/core/List\"\nimport ListItem from \"@material-ui/core/ListItem\"\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\"\nimport ListItemText from \"@material-ui/core/ListItemText\"\nimport ListSubheader from \"@material-ui/core/ListSubheader\"\nimport LinkButton from \"./LinkButton\"\nimport range from \"lodash/range\"\n\nconst useStyles = makeStyles(theme => ({\n  footer: {\n    backgroundColor: \"#fff\",\n    marginTop: 40\n  },\n  footerContent: {\n    alignItems: \"center\",\n    padding: 20,\n    display: \"flex\",\n    justifyContent: \"space-between\"\n  },\n  footerBorder: {\n    borderTop: \"1px solid #ccc\",\n    marginLeft: 20,\n    marginRight: 20\n  },\n  footerCount: {\n    display: \"inline-flex\"\n  },\n  allSamplesButton: {\n    color: \"#fff\",\n    border: \"1px solid rgba(255,255,255,0.5)\",\n    marginRight: 10,\n    paddingLeft: 8\n  },\n  sampleIcon: {\n    marginRight: 8\n  },\n  menuButton: {\n    marginRight: 8,\n    color: \"#fff\"\n  },\n  grow: {\n    flexGrow: 1\n  },\n  buttons: {\n    \"& > *\": {\n      margin: 4\n    }\n  },\n  description: {\n    padding: 10,\n    \"& img\": {\n      maxWidth: \"calc(100% - 16px)\",\n      marginLeft: 8,\n      marginRight: 8,\n      maxHeight: 600\n    }\n  },\n  sectionHeader: {\n    fontWeight: 700,\n    fontSize: 12,\n    padding: 10,\n    paddingTop: 16,\n    textTransform: \"uppercase\",\n    color: colors.grey[600]\n  },\n  content: {\n    padding: 10\n    // minHeight: \"calc(100vh - 200px)\"\n  }\n}))\n\nexport const SampleContainer = ({\n  hideDescription: defaultHideDescription = false,\n  lastSampleExitText,\n  onExit,\n  requireCompleteToPressNext = false,\n  taskData,\n  minContentHeight,\n  currentSampleIndex,\n  totalSamples,\n  onChangeSample,\n  taskOutput = [],\n  description,\n  children\n}) => {\n  const c = useStyles()\n  const [hideDescription, changeHideDescription] = useState(\n    defaultHideDescription\n  )\n  const [sampleDrawerOpen, changeSampleDrawerOpen] = useState(false)\n  return (\n    <>\n      <Grid container>\n        {!hideDescription && (\n          <Grid item xs={12} sm={12} md={6}>\n            <div className={c.sectionHeader}>\n              Description\n              <LinkButton\n                onClick={() => changeHideDescription(true)}\n                text=\"hide\"\n              />\n            </div>\n            <div className={c.description}>\n              <ReactMarkdown escapeHtml={false} source={description} />\n            </div>\n          </Grid>\n        )}\n        <Grid item xs={12} sm={12} md={hideDescription ? 12 : 6}>\n          <div className={c.sectionHeader}>\n            Sample {currentSampleIndex + 1}/{totalSamples}\n            {hideDescription && (\n              <LinkButton\n                onClick={() => changeHideDescription(false)}\n                text=\"show description\"\n              />\n            )}\n            {totalSamples > 1 && (\n              <LinkButton\n                onClick={() => changeSampleDrawerOpen(true)}\n                text=\"view all\"\n              />\n            )}\n            {onExit && (\n              <LinkButton onClick={() => onExit()} text=\"exit without saving\" />\n            )}\n          </div>\n          <div style={{ minHeight: minContentHeight }} className={c.content}>\n            {children}\n          </div>\n        </Grid>\n        {totalSamples > 1 && (\n          <Grid item xs={12}>\n            <div className={c.footer}>\n              <div className={c.footerBorder} />\n              <div className={c.footerContent}>\n                <Button\n                  onClick={() =>\n                    onChangeSample(\n                      (currentSampleIndex - 1 + totalSamples) % totalSamples\n                    )\n                  }\n                >\n                  <LeftIcon /> Prev Sample\n                </Button>\n                <Button\n                  onClick={() => changeSampleDrawerOpen(true)}\n                  className={c.footerCount}\n                >\n                  {currentSampleIndex + 1} / {totalSamples}\n                </Button>\n                <Button\n                  disabled={\n                    requireCompleteToPressNext &&\n                    !taskOutput[currentSampleIndex]\n                  }\n                  onClick={() =>\n                    onChangeSample((currentSampleIndex + 1) % totalSamples)\n                  }\n                >\n                  {requireCompleteToPressNext && !taskOutput[currentSampleIndex]\n                    ? \"Save to Continue\"\n                    : \"Next Sample\"}\n                  <RightIcon />\n                </Button>\n              </div>\n            </div>\n          </Grid>\n        )}\n      </Grid>\n      <Drawer\n        open={sampleDrawerOpen}\n        anchor=\"left\"\n        onClose={() => changeSampleDrawerOpen(false)}\n      >\n        <List style={{ minWidth: 300 }}>\n          <ListSubheader>Samples</ListSubheader>\n          {range(0, totalSamples).map(i => (\n            <ListItem\n              style={{\n                backgroundColor:\n                  i === currentSampleIndex ? colors.grey[200] : undefined\n              }}\n              button\n              onClick={() => onChangeSample(i)}\n            >\n              <ListItemIcon\n                style={{\n                  color: i === currentSampleIndex ? colors.blue[500] : undefined\n                }}\n              >\n                {taskOutput[i] ? <CheckCircle /> : <CircleIcon />}\n              </ListItemIcon>\n              <ListItemText>Sample {i + 1}</ListItemText>\n            </ListItem>\n          ))}\n        </List>\n      </Drawer>\n    </>\n  )\n}\n\nexport default SampleContainer\n","import React, { useState } from \"react\"\nimport getTaskDescription from \"../../utils/get-task-description.js\"\nimport SampleContainer from \"../SampleContainer\"\nimport NLPAnnotator from \"react-nlp-annotate/components/NLPAnnotator\"\n\nexport const TextClassification = props => {\n  const [currentSampleIndex, changeCurrentSampleIndex] = useState(0)\n  const initialLabels =\n    props.taskOutput && props.taskOutput[currentSampleIndex]\n      ? [props.taskOutput[currentSampleIndex].label] ||\n        props.taskOutput[currentSampleIndex].labels\n      : undefined\n  return (\n    <SampleContainer\n      {...props.containerProps}\n      currentSampleIndex={currentSampleIndex}\n      totalSamples={props.taskData.length}\n      taskOutput={props.taskOutput}\n      description={\n        getTaskDescription(props.taskData[currentSampleIndex]) ||\n        props.interface.description\n      }\n      onChangeSample={sampleIndex => changeCurrentSampleIndex(sampleIndex)}\n    >\n      <NLPAnnotator\n        key={currentSampleIndex}\n        type=\"label-document\"\n        labels={props.interface.labels}\n        multipleLabels={props.interface.multiple}\n        document={props.taskData[currentSampleIndex].document}\n        initialLabels={initialLabels}\n        onFinish={result => {\n          props.onSaveTaskOutputItem(currentSampleIndex, result)\n        }}\n      />\n    </SampleContainer>\n  )\n}\n\nexport default TextClassification\n","import React, { useState } from \"react\"\nimport getTaskDescription from \"../../utils/get-task-description.js\"\nimport SampleContainer from \"../SampleContainer\"\nimport NLPAnnotator from \"react-nlp-annotate/components/NLPAnnotator\"\n\nconst simpleSequenceToEntitySequence = simpleSeq => {\n  const entSeq = []\n  let charsPassed = 0\n  for (const seq of simpleSeq) {\n    if (seq.label) {\n      entSeq.push({\n        text: seq.text,\n        label: seq.label,\n        start: charsPassed,\n        end: charsPassed + seq.text.length\n      })\n    }\n    charsPassed += seq.text.length\n  }\n  return entSeq\n}\n\nconst entitySequenceToSimpleSeq = (doc, entSeq) => {\n  if (!entSeq) return undefined\n  const simpleSeq = []\n  entSeq = [...entSeq]\n  entSeq.sort((a, b) => a.start - b.start)\n  let nextEntity = 0\n  for (let i = 0; i < doc.length; i++) {\n    if ((entSeq[nextEntity] || {}).start === i) {\n      simpleSeq.push({\n        text: entSeq[nextEntity].text,\n        label: entSeq[nextEntity].label\n      })\n      i = entSeq[nextEntity].end\n      nextEntity += 1\n    } else {\n      if (simpleSeq.length === 0 || simpleSeq[simpleSeq.length - 1].label) {\n        simpleSeq.push({ text: doc[i] })\n      } else {\n        simpleSeq[simpleSeq.length - 1].text += doc[i]\n      }\n    }\n  }\n  return simpleSeq\n}\n\nexport const TextEntityRecognition = props => {\n  const [currentSampleIndex, changeCurrentSampleIndex] = useState(0)\n  const initialSequence =\n    props.taskOutput && props.taskOutput[currentSampleIndex]\n      ? entitySequenceToSimpleSeq(\n          props.taskData[currentSampleIndex].document,\n          props.taskOutput[currentSampleIndex].entities\n        )\n      : undefined\n\n  return (\n    <SampleContainer\n      {...props.containerProps}\n      currentSampleIndex={currentSampleIndex}\n      totalSamples={props.taskData.length}\n      taskOutput={props.taskOutput}\n      description={\n        getTaskDescription(props.taskData[currentSampleIndex]) ||\n        props.interface.description\n      }\n      onChangeSample={sampleIndex => changeCurrentSampleIndex(sampleIndex)}\n    >\n      <NLPAnnotator\n        key={currentSampleIndex}\n        type=\"label-sequence\"\n        document={props.taskData[currentSampleIndex].document}\n        labels={props.interface.labels}\n        initialSequence={initialSequence}\n        onFinish={result => {\n          props.onSaveTaskOutputItem(currentSampleIndex, {\n            entities: simpleSequenceToEntitySequence(result)\n          })\n        }}\n      />\n    </SampleContainer>\n  )\n}\n\nexport default TextEntityRecognition\n","// @flow\n\nimport React, { useState } from \"react\"\nimport { makeStyles } from \"@material-ui/core/styles\"\nimport Annotator from \"react-image-annotate\"\nimport isEqual from \"lodash/isEqual\"\n\nconst useStyles = makeStyles({})\n\nfunction getRandomInt(min, max) {\n  return Math.floor(Math.random() * (max - min + 1)) + min\n}\n\nfunction getRandomColor() {\n  var h = getRandomInt(0, 360)\n  var s = 100\n  var l = 50\n  return \"hsl(\"\n    .concat(h, \",\")\n    .concat(s, \"%,\")\n    .concat(l, \"%)\")\n}\n\nconst rid = () =>\n  Math.random()\n    .toString()\n    .split(\".\")[1]\n\nconst convertToRIARegionFmt = region => {\n  switch (region.regionType) {\n    case \"bounding-box\": {\n      return {\n        id: rid(),\n        cls: region.classification,\n        color: region.color || getRandomColor(),\n        type: \"box\",\n        x: region.centerX - region.width / 2,\n        y: region.centerY - region.height / 2,\n        w: region.width,\n        h: region.height\n      }\n    }\n    case \"point\": {\n      return {\n        id: rid(),\n        type: \"point\",\n        cls: region.classification,\n        color: region.color || getRandomColor(),\n        x: region.x,\n        y: region.y\n      }\n    }\n    case \"polygon\": {\n      return {\n        id: rid(),\n        type: \"polygon\",\n        cls: region.classification,\n        color: region.color || getRandomColor(),\n        open: false,\n        points: region.points.map(p => [p.x, p.y])\n      }\n    }\n    case \"line\":\n    case \"pixel-mask\": {\n      throw new Error(`Unsupported region \"${JSON.stringify(region)}\"`)\n    }\n  }\n}\n\nconst convertFromRIARegionFmt = riaRegion => {\n  switch (riaRegion.type) {\n    case \"point\": {\n      return {\n        regionType: \"point\",\n        x: riaRegion.x,\n        y: riaRegion.y,\n        classification: riaRegion.cls,\n        color: riaRegion.color\n      }\n    }\n    case \"box\": {\n      return {\n        regionType: \"bounding-box\",\n        centerX: riaRegion.x + riaRegion.w / 2,\n        centerY: riaRegion.y + riaRegion.h / 2,\n        width: riaRegion.w,\n        height: riaRegion.h,\n        classification: riaRegion.cls,\n        color: riaRegion.color\n      }\n    }\n    case \"polygon\": {\n      return {\n        regionType: \"polygon\",\n        classification: riaRegion.cls,\n        color: riaRegion.color,\n        points: riaRegion.points.map(([x, y]) => ({ x, y }))\n      }\n    }\n  }\n  throw new Error(`Unsupported riaRegion \"${JSON.stringify(riaRegion)}\"`)\n}\n\nconst convertToRIAImageFmt = ({ title, taskDatum: td, index: i, output }) => {\n  if ((td || {}).imageUrl) {\n    return {\n      src: td.imageUrl,\n      name: title || `Sample ${i}`,\n      regions: !output\n        ? undefined\n        : Array.isArray(output)\n        ? output.map(convertToRIARegionFmt)\n        : [convertToRIARegionFmt(output)]\n    }\n  }\n  throw new Error(`Task Datum not supported \"${JSON.stringify(td)}\"`)\n}\n\nconst regionTypeToTool = {\n  \"bounding-box\": \"create-box\",\n  polygon: \"create-polygon\",\n  \"full-segmentation\": \"create-polygon\",\n  point: \"create-point\"\n}\n\nexport default ({\n  interface: iface,\n  taskData = [],\n  taskOutput = [],\n  containerProps: { onExit, datasetName } = {},\n  onSaveTaskOutputItem\n}) => {\n  const c = useStyles()\n  const [selectedIndex, changeSelectedIndex] = useState(0)\n\n  const { regionTypesAllowed = [\"bounding-box\"] } = iface\n\n  const isClassification = Boolean(iface.multipleRegionLabels)\n\n  const labelProps = isClassification\n    ? {\n        regionClsList: iface.availableLabels\n      }\n    : {\n        regionTagList: iface.availableLabels\n      }\n\n  return (\n    <Annotator\n      selectedImage={taskData[selectedIndex].src}\n      taskDescription={iface.description}\n      {...labelProps}\n      enabledTools={[\"select\"].concat(\n        regionTypesAllowed.map(rt => regionTypeToTool[rt]).filter(Boolean)\n      )}\n      images={taskData.map((taskDatum, index) =>\n        convertToRIAImageFmt({\n          title: datasetName,\n          taskDatum,\n          output: taskOutput[index],\n          index\n        })\n      )}\n      onExit={output => {\n        const regionMat = (output.images || [])\n          .map(img => img.regions)\n          .map(riaRegions => (riaRegions || []).map(convertFromRIARegionFmt))\n        for (let i = 0; i < regionMat.length; i++) {\n          if (iface.multipleRegions) {\n            onSaveTaskOutputItem(i, regionMat[i])\n          } else {\n            onSaveTaskOutputItem(i, regionMat[i][0])\n          }\n        }\n        if (onExit) onExit()\n      }}\n    />\n  )\n}\n","// @flow weak\n\nimport React, { useState } from \"react\"\nimport getTaskDescription from \"../../utils/get-task-description.js\"\nimport SampleContainer from \"../SampleContainer\"\nimport NLPAnnotator from \"react-nlp-annotate/components/NLPAnnotator\"\n\nexport default props => {\n  const [currentSampleIndex, changeCurrentSampleIndex] = useState(0)\n\n  return (\n    <SampleContainer\n      {...props.containerProps}\n      currentSampleIndex={currentSampleIndex}\n      totalSamples={props.taskData.length}\n      taskOutput={props.taskOutput}\n      description={\n        getTaskDescription(props.taskData[currentSampleIndex]) ||\n        props.interface.description\n      }\n      onChangeSample={sampleIndex => changeCurrentSampleIndex(sampleIndex)}\n    >\n      <NLPAnnotator\n        key={currentSampleIndex}\n        type=\"transcribe\"\n        audio={props.taskData[currentSampleIndex].audioUrl}\n        phraseBank={props.phraseBank}\n        initialTranscriptionText={\n          (props.taskOutput || [])[currentSampleIndex] || \"\"\n        }\n        onFinish={result => {\n          props.onSaveTaskOutputItem(currentSampleIndex, result)\n        }}\n      />\n    </SampleContainer>\n  )\n}\n","import React, { useState } from \"react\"\nimport Survey from \"material-survey/components/Survey\"\nimport getTaskDescription from \"../../utils/get-task-description.js\"\nimport SampleContainer from \"../SampleContainer\"\n\nexport const DataEntry = props => {\n  const [currentSampleIndex, changeCurrentSampleIndex] = useState(0)\n  console.log({ props })\n  return (\n    <SampleContainer\n      {...props.containerProps}\n      currentSampleIndex={currentSampleIndex}\n      totalSamples={props.taskData.length}\n      taskOutput={props.taskOutput}\n      description={\n        getTaskDescription(props.taskData[currentSampleIndex]) ||\n        props.interface.description\n      }\n      onChangeSample={sampleIndex => changeCurrentSampleIndex(sampleIndex)}\n    >\n      <Survey\n        key={currentSampleIndex}\n        variant=\"flat\"\n        form={\n          props.taskData[currentSampleIndex].surveyjs ||\n          props.interface.surveyjs\n        }\n        defaultAnswers={\n          props.taskOutput && props.taskOutput[currentSampleIndex]\n            ? props.taskOutput[currentSampleIndex]\n            : undefined\n        }\n        completeText=\"Save\"\n        onFinish={answers => {\n          props.onSaveTaskOutputItem(currentSampleIndex, answers)\n        }}\n      />\n    </SampleContainer>\n  )\n}\n\nexport default DataEntry\n","// @flow\n\nimport React from \"react\"\nimport Typography from \"@material-ui/core/Typography\"\nimport { makeStyles } from \"@material-ui/core/styles\"\n\nconst useStyles = makeStyles({\n  root: {\n    padding: 50,\n    textAlign: \"center\"\n  },\n  title: {\n    margin: 50\n  },\n  explain: {}\n})\n\nexport default ({ title, description, children }) => {\n  const c = useStyles()\n  return (\n    <div className={c.root}>\n      <Typography variant=\"h3\" component=\"div\" className={c.title}>\n        {title}\n      </Typography>\n      <Typography variant=\"h5\" component=\"div\" className={c.explain}>\n        {description || children}\n      </Typography>\n    </div>\n  )\n}\n","// @flow\n\nimport React from \"react\"\nimport BadOHA from \"../BadOHA\"\n\nexport default () => {\n  return (\n    <BadOHA title=\"No Samples to Show\">\n      Make sure that <code>taskData</code> is defined and not empty.\n      <br />\n      <br />\n      Need help setting up? <a href=\"#\">Check out this tutorial.</a>\n    </BadOHA>\n  )\n}\n","import React from \"react\"\n\nimport RemoveRedEye from \"@material-ui/icons/RemoveRedEye\"\nimport TextFormat from \"@material-ui/icons/TextFormat\"\nimport Edit from \"@material-ui/icons/Edit\"\nimport OndemandVideo from \"@material-ui/icons/OndemandVideo\"\nimport Audiotrack from \"@material-ui/icons/Audiotrack\"\nimport Help from \"@material-ui/icons/Help\"\n\nexport default ({ type, ...props }) => {\n  switch (type) {\n    case \"image_label\":\n    case \"image_segmentation\":\n      return <RemoveRedEye {...props} />\n    case \"audio_transcription\":\n      return <Audiotrack {...props} />\n    case \"data_entry\":\n      return <Edit {...props} />\n    case \"text_entity_recognition\":\n      return <TextFormat {...props} />\n    default:\n      return <Help {...props} />\n  }\n}\n","import React, { useState } from \"react\"\nimport getTaskDescription from \"../../utils/get-task-description.js\"\nimport SampleContainer from \"../SampleContainer\"\nimport UniversalDataViewer from \"../UniversalDataViewer\"\nimport Button from \"@material-ui/core/Button\"\nimport * as colors from \"@material-ui/core/colors\"\nimport { styled } from \"@material-ui/core/styles\"\nimport InterfaceIcon from \"../InterfaceIcon\"\nimport KeyboardArrowRightIcon from \"@material-ui/icons/KeyboardArrowRight\"\nimport Checkbox from \"@material-ui/core/Checkbox\"\nimport Box from \"@material-ui/core/Box\"\n\nconst Title = styled(\"div\")({\n  fontSize: 18,\n  fontWeight: \"bold\",\n  color: colors.grey[700],\n  borderBottom: `1px solid ${colors.grey[300]}`,\n  paddingBottom: 8,\n  marginBottom: 8,\n  paddingLeft: 8\n})\nconst StyledButton = styled(Button)({\n  display: \"flex\",\n  textAlign: \"left\",\n  justifyContent: \"flex-start\",\n  marginTop: 8\n})\n\nexport const Composite = props => {\n  const [currentSampleIndex, changeCurrentSampleIndex] = useState(0)\n  const {\n    interface: { fields }\n  } = props\n  const [selectedField, changeSelectedField] = useState()\n\n  if (selectedField) {\n    return (\n      <UniversalDataViewer\n        onExit={() => changeSelectedField(null)}\n        oha={{\n          interface: selectedField.interface,\n          taskOutput: [\n            props.taskOutput\n              ? (props.taskOutput[currentSampleIndex] || {})[\n                  selectedField.fieldName\n                ]\n              : null\n          ],\n          taskData: [props.taskData[currentSampleIndex]]\n        }}\n        onSaveTaskOutputItem={(indexZero, output) => {\n          props.onSaveTaskOutputItem(currentSampleIndex, {\n            ...(props.taskOutput ? props.taskOutput[currentSampleIndex] : {}),\n            [selectedField.fieldName]: output\n          })\n          changeSelectedField(null)\n        }}\n      />\n    )\n  }\n\n  return (\n    <SampleContainer\n      {...props.containerProps}\n      currentSampleIndex={currentSampleIndex}\n      totalSamples={props.taskData.length}\n      taskOutput={props.taskOutput}\n      description={\n        getTaskDescription(props.taskData[currentSampleIndex]) ||\n        props.interface.description\n      }\n      onChangeSample={sampleIndex => changeCurrentSampleIndex(sampleIndex)}\n    >\n      <Title>Fields</Title>\n      {fields.map((field, index) => (\n        <StyledButton\n          key={field.fieldName}\n          onClick={() => {\n            changeSelectedField({ ...field, index })\n          }}\n          fullWidth\n          variant=\"outlined\"\n        >\n          <InterfaceIcon\n            style={{ color: colors.grey[500], marginRight: 16 }}\n            type={field.interface.type}\n          />\n          {field.fieldName}\n          <Box flexGrow={1} />\n          <Checkbox\n            checked={Boolean(\n              (props.taskOutput\n                ? props.taskOutput[currentSampleIndex] || {}\n                : {})[field.fieldName]\n            )}\n          />\n          <KeyboardArrowRightIcon />\n        </StyledButton>\n      ))}\n    </SampleContainer>\n  )\n}\n\nexport default Composite\n","// @flow\n\nimport React, { useMemo } from \"react\"\nimport TextClassification from \"../TextClassification\"\nimport TextEntityRecognition from \"../TextEntityRecognition\"\nimport ImageSegmentation from \"../ImageSegmentation\"\nimport AudioTranscription from \"../AudioTranscription\"\nimport DataEntry from \"../DataEntry\"\nimport EmptySampleContainer from \"../EmptySampleContainer\"\nimport Composite from \"../Composite\"\nimport BadOHA from \"../BadOHA\"\n\nexport const UniversalDataViewer = ({\n  oha,\n  onExit,\n  hideHeader,\n  hideDescription,\n  datasetName,\n  requireCompleteToPressNext,\n  onSaveTaskOutputItem\n}) => {\n  // TODO type check w/ superstruct against oha\n  const containerProps = useMemo(\n    () => ({\n      hideHeader,\n      hideDescription,\n      datasetName,\n      requireCompleteToPressNext,\n      onExit\n    }),\n    [\n      hideHeader,\n      hideDescription,\n      requireCompleteToPressNext,\n      datasetName,\n      onExit\n    ]\n  )\n\n  if (!oha) {\n    return (\n      <BadOHA\n        title=\"Null OHA\"\n        description=\"Your OHA file isn't defined for some reason.\"\n      />\n    )\n  }\n\n  if (!oha.taskData || oha.taskData.length === 0) {\n    return <EmptySampleContainer />\n  }\n\n  switch (oha.interface.type) {\n    case \"data_entry\":\n      return (\n        <DataEntry\n          containerProps={containerProps}\n          {...oha}\n          onSaveTaskOutputItem={onSaveTaskOutputItem}\n        />\n      )\n    case \"text_classification\":\n      return (\n        <TextClassification\n          containerProps={containerProps}\n          {...oha}\n          onSaveTaskOutputItem={onSaveTaskOutputItem}\n        />\n      )\n    case \"text_entity_recognition\":\n      return (\n        <TextEntityRecognition\n          containerProps={containerProps}\n          {...oha}\n          onSaveTaskOutputItem={onSaveTaskOutputItem}\n        />\n      )\n    case \"image_segmentation\":\n      return (\n        <ImageSegmentation\n          containerProps={containerProps}\n          {...oha}\n          onExit={onExit}\n          onSaveTaskOutputItem={onSaveTaskOutputItem}\n        />\n      )\n    case \"composite\":\n      return (\n        <Composite\n          containerProps={containerProps}\n          {...oha}\n          oha={oha}\n          onSaveTaskOutputItem={onSaveTaskOutputItem}\n        />\n      )\n    case \"audio_transcription\":\n      return (\n        <AudioTranscription\n          containerProps={containerProps}\n          {...oha}\n          onSaveTaskOutputItem={onSaveTaskOutputItem}\n        />\n      )\n    default:\n      return `\"${oha.interface.type}\" not supported`\n  }\n}\n\nexport default UniversalDataViewer\n","// @flow\nimport React, { useState, useEffect } from \"react\"\nimport TextField from \"@material-ui/core/TextField\"\nimport { makeStyles } from \"@material-ui/core/styles\"\n\nconst useStyles = makeStyles({\n  textField: {\n    color: \"#fff\"\n  }\n})\n\nconst SAVE_WAIT = 2000\n\nexport default ({ value, onChange }) => {\n  const c = useStyles()\n  const [{ editing, newValue }, changeEditing] = useState({\n    editing: false\n  })\n\n  useEffect(() => {\n    let listener = e => {\n      if (e.key === \"Enter\") {\n        onChange(newValue)\n        changeEditing({ editing: false })\n      }\n    }\n    window.addEventListener(\"keydown\", listener)\n    return () => {\n      window.removeEventListener(\"keydown\", listener)\n    }\n  }, [editing, newValue])\n\n  useEffect(() => {\n    if (editing) {\n      let timeout = setTimeout(\n        () => {\n          onChange(newValue)\n          changeEditing({ editing: false })\n        },\n        value === newValue ? SAVE_WAIT * 5 : SAVE_WAIT\n      )\n\n      return () => {\n        if (timeout) clearTimeout(timeout)\n      }\n    } else {\n      return () => {}\n    }\n  }, [editing, newValue])\n\n  return editing ? (\n    <TextField\n      autoFocus\n      className={c.textField}\n      InputProps={{\n        inputProps: { style: { color: \"#fff\" } }\n      }}\n      onChange={e => {\n        changeEditing({\n          editing: true,\n          newValue: e.target.value\n        })\n      }}\n      value={newValue}\n    />\n  ) : (\n    <span\n      onClick={() => {\n        if (onChange) {\n          changeEditing({ editing: true, newValue: value })\n        }\n      }}\n    >\n      {value}\n    </span>\n  )\n}\n","// @flow weak\n\nimport React from \"react\"\nimport { styled } from \"@material-ui/core/styles\"\nimport range from \"lodash/range\"\nimport * as colors from \"@material-ui/core/colors\"\n\nconst Container = styled(\"div\")({\n  flexWrap: \"wrap\"\n})\nconst Sample = styled(\"div\")({\n  margin: 4,\n  padding: 4,\n  backgroundColor: colors.grey[300],\n  display: \"inline-flex\",\n  fontSize: 11,\n  textAlign: \"center\",\n  justifyContent: \"center\",\n  minWidth: \"3em\",\n  borderRadius: 3,\n  cursor: \"pointer\",\n  \"&.completed\": {\n    backgroundColor: colors.blue[500],\n    color: \"#fff\"\n  }\n})\n\nexport default ({ count, completed = [], onClick }) => {\n  return (\n    <Container>\n      {range(count).map(i => (\n        <Sample\n          onClick={() => onClick(i)}\n          className={completed[i] ? \"completed\" : \"\"}\n          key={i}\n        >\n          {i}\n        </Sample>\n      ))}\n    </Container>\n  )\n}\n","// @flow\n\nimport React, { useState } from \"react\"\nimport Box from \"@material-ui/core/Box\"\nimport Dialog from \"@material-ui/core/Dialog\"\nimport DialogActions from \"@material-ui/core/DialogActions\"\nimport DialogContent from \"@material-ui/core/DialogContent\"\nimport DialogTitle from \"@material-ui/core/DialogTitle\"\nimport CloseIcon from \"@material-ui/icons/Close\"\nimport FullScreenIcon from \"@material-ui/icons/Fullscreen\"\nimport FullScreenExitIcon from \"@material-ui/icons/FullscreenExit\"\nimport IconButton from \"@material-ui/core/IconButton\"\nimport Button from \"@material-ui/core/Button\"\nimport { grey, blue, red } from \"@material-ui/core/colors\"\nimport ReactMarkdown from \"react-markdown\"\nimport { styled } from \"@material-ui/core/styles\"\n\nconst StyledDialogTitle = styled(DialogTitle)({\n  backgroundColor: grey[100],\n  borderBottom: `1px solid ${grey[300]}`,\n  paddingBottom: 12,\n  boxShadow: \"0px 2px 3px rgba(0,0,0,0.05)\"\n})\nconst StyledDialogContent = styled(DialogContent)({\n  paddingTop: 16\n})\nconst StyledDialogActions = styled(DialogActions)({\n  backgroundColor: grey[100],\n  borderTop: `1px solid ${grey[300]}`\n})\n\nexport default ({\n  open = false,\n  title,\n  children,\n  markdownContent,\n  onClose,\n  red: redOn,\n  noActionBar = false,\n  actions = []\n}) => {\n  const [fullScreen, changeFullScreen] = useState(false)\n  return (\n    <Dialog open={open} onClose={onClose} fullScreen={fullScreen}>\n      <StyledDialogTitle>\n        <Box display=\"flex\" alignItems=\"center\">\n          <span style={{ color: redOn ? red[700] : undefined }}>{title}</span>\n          <div style={{ flexGrow: 1 }} />\n          <IconButton onClick={() => changeFullScreen(!fullScreen)}>\n            {fullScreen ? <FullScreenExitIcon /> : <FullScreenIcon />}\n          </IconButton>\n          <IconButton onClick={onClose}>\n            <CloseIcon />\n          </IconButton>\n        </Box>\n      </StyledDialogTitle>\n      <StyledDialogContent>\n        <Box maxWidth=\"90vw\" minWidth={400} lineHeight={1.5}>\n          {markdownContent ? (\n            <ReactMarkdown source={markdownContent} />\n          ) : (\n            children\n          )}\n        </Box>\n      </StyledDialogContent>\n      {!noActionBar && (\n        <StyledDialogActions>\n          <Button onClick={() => onClose()}>\n            <span style={{ color: grey[700], fontWeight: 500 }}>Close</span>\n          </Button>\n          {actions.map((action, i) => (\n            <Button key={i} onClick={action.onClick}>\n              <span\n                style={{ color: redOn ? red[700] : blue[700], fontWeight: 500 }}\n              >\n                {action.text}\n              </span>\n            </Button>\n          ))}\n        </StyledDialogActions>\n      )}\n    </Dialog>\n  )\n}\n","// @flow weak\nimport React, { useState } from \"react\"\nimport { styled } from \"@material-ui/core/styles\"\nimport SimpleDialog from \"../SimpleDialog\"\n\nconst TextArea = styled(\"textarea\")({\n  width: \"100%\",\n  minHeight: 300\n})\n\nexport default ({ open, onClose, onAddSamples }) => {\n  const [content, changeContent] = useState(\"\")\n  return (\n    <SimpleDialog\n      title=\"Paste Urls\"\n      open={open}\n      onClose={onClose}\n      actions={[\n        {\n          text: \"Add Samples\",\n          onClick: () => {\n            onAddSamples(\n              content\n                .split(\"\\n\")\n                .map(l => l.trim())\n                .filter(Boolean)\n                .map(s => {\n                  const extension = s.split(\".\").slice(-1)[0]\n                  switch (extension.toLowerCase()) {\n                    case \"png\":\n                    case \"jpg\":\n                    case \"gif\":\n                    case \"jpeg\":\n                    case \"bmp\": {\n                      return { imageUrl: s }\n                    }\n                    case \"pdf\": {\n                      return { pdfUrl: s }\n                    }\n                    default: {\n                      // TODO throw error or toast\n                      console.error(\"extension not recognized\")\n                      return null\n                    }\n                  }\n                })\n            )\n          }\n        }\n      ]}\n    >\n      <TextArea\n        onChange={(e, v) => changeContent(e.target.value)}\n        placeholder={\"Paste URLs here\\nOne URL per line\"}\n      />\n    </SimpleDialog>\n  )\n}\n","// @flow weak\n\nimport React, { useState, useContext, createContext } from \"react\"\nimport MuiButton from \"@material-ui/core/Button\"\nimport { styled } from \"@material-ui/core/styles\"\nimport AssignmentReturnedIcon from \"@material-ui/icons/AssignmentReturned\"\nimport * as colors from \"@material-ui/core/colors\"\nimport PasteUrlsDialog from \"../PasteUrlsDialog\"\n\nconst ButtonBase = styled(MuiButton)({\n  width: 240,\n  height: 140,\n  display: \"inline-flex\",\n  flexDirection: \"column\",\n  \"& .icon\": {\n    width: 48,\n    height: 48,\n    color: colors.grey[600]\n  }\n})\n\nconst SelectDialogContext = createContext()\n\nconst Button = ({ Icon, children, dialog }) => {\n  return (\n    <SelectDialogContext.Consumer>\n      {({ changeDialog }) => (\n        <ButtonBase onClick={() => changeDialog(dialog)} variant=\"outlined\">\n          <div>\n            <Icon className=\"icon\" />\n            <div>{children}</div>\n          </div>\n        </ButtonBase>\n      )}\n    </SelectDialogContext.Consumer>\n  )\n}\n\nexport default ({ oha, onChangeOHA }) => {\n  const [selectedDialog, changeDialog] = useState()\n  const closeDialog = () => changeDialog(null)\n  return (\n    <SelectDialogContext.Provider value={{ changeDialog }}>\n      <div>\n        <Button\n          dialog=\"paste-image-urls\"\n          Icon={AssignmentReturnedIcon}\n          variant=\"outlined\"\n        >\n          Paste URLs\n        </Button>\n        <PasteUrlsDialog\n          open={selectedDialog === \"paste-image-urls\"}\n          onClose={closeDialog}\n          onAddSamples={samples => {\n            onChangeOHA(\n              {\n                ...oha,\n                taskData: (oha.taskData || []).concat(samples)\n              },\n              true\n            )\n            closeDialog()\n          }}\n        />\n      </div>\n    </SelectDialogContext.Provider>\n  )\n}\n","// @flow weak\n\nimport React, { useMemo, useState } from \"react\"\nimport DataTable from \"react-data-table-component\"\nimport Button from \"@material-ui/core/Button\"\nimport IconButton from \"@material-ui/core/IconButton\"\nimport EditIcon from \"@material-ui/icons/Edit\"\nimport BorderColorIcon from \"@material-ui/icons/BorderColor\"\nimport { styled } from \"@material-ui/core/styles\"\nimport Grid from \"@material-ui/core/Grid\"\nimport SampleGrid from \"../SampleGrid\"\nimport Tabs from \"@material-ui/core/Tabs\"\nimport Tab from \"@material-ui/core/Tab\"\nimport AppsIcon from \"@material-ui/icons/Apps\"\nimport TableChartIcon from \"@material-ui/icons/TableChart\"\nimport Box from \"@material-ui/core/Box\"\nimport ImportIcon from \"@material-ui/icons/Publish\"\nimport ImportPage from \"../ImportPage\"\n\nconst Container = styled(\"div\")({\n  padding: 16\n})\n\nconst ExpandedRowContainer = styled(\"div\")({\n  padding: 8,\n  border: \"#888 solid 1px\",\n  borderTop: \"none\",\n  borderRadius: 4,\n  borderTopLeftRadius: 0,\n  borderTopRightRadius: 0,\n  boxShadow: \"inset 0 3px 3px rgba(0,0,0,0.2)\"\n})\nconst ExpandedRowTitle = styled(\"div\")({\n  fontSize: 11,\n  fontWeight: \"bold\"\n})\nconst ExpandedRowCode = styled(\"pre\")({ whiteSpace: \"pre-wrap\", fontSize: 11 })\n\nconst ExpandedRow = ({ data }) => {\n  const { _output, ...input } = data\n\n  return (\n    <ExpandedRowContainer>\n      <Grid spacing={2} container>\n        <Grid item xs={6}>\n          <ExpandedRowTitle>taskData[{data.index}]:</ExpandedRowTitle>\n          <ExpandedRowCode>{JSON.stringify(input, null, \"  \")}</ExpandedRowCode>\n        </Grid>\n        <Grid item xs={6}>\n          <ExpandedRowTitle>taskOutput[{data.index}]:</ExpandedRowTitle>\n          <ExpandedRowCode>\n            {JSON.stringify(_output, null, \"  \")}\n          </ExpandedRowCode>\n        </Grid>\n      </Grid>\n    </ExpandedRowContainer>\n  )\n}\n\nexport default ({\n  oha,\n  openSampleInputEditor,\n  openSampleLabelEditor,\n  onChangeOHA\n}) => {\n  const [currentTab, changeTabState] = useState(\n    window.localStorage.lastSampleTab || \"grid\"\n  )\n  const changeTab = tab => {\n    changeTabState(tab)\n    window.localStorage.lastSampleTab = tab\n  }\n  const columns = useMemo(() => {\n    if (!oha.taskData) return []\n    const columns = [\n      {\n        name: \"Index\",\n        selector: \"index\",\n        sortable: true\n      }\n    ]\n    const knownKeys = new Set()\n    for (const td of oha.taskData) {\n      for (const key in td) {\n        if (!knownKeys.has(key)) {\n          columns.push({\n            name: key,\n            selector: key\n          })\n          knownKeys.add(key)\n        }\n      }\n    }\n    columns.push({\n      name: \"Edit\",\n      button: true,\n      cell: row => (\n        <IconButton\n          raised\n          primary\n          onClick={() => openSampleInputEditor(row.index)}\n        >\n          <EditIcon style={{ width: 20, height: 20 }} />\n        </IconButton>\n      )\n    })\n    columns.push({\n      name: \"Label\",\n      button: true,\n      cell: row => (\n        <IconButton\n          raised\n          primary\n          onClick={() => openSampleLabelEditor(row.index)}\n        >\n          <BorderColorIcon style={{ width: 20, height: 20 }} />\n        </IconButton>\n      )\n    })\n    return columns\n  }, [oha.taskData, oha.taskOutput])\n\n  const data = useMemo(() => {\n    if (!oha.taskData) return []\n    return oha.taskData.map((td, i) => ({\n      ...td,\n      _output: oha.taskOutput && oha.taskOutput[i] ? oha.taskOutput[i] : {},\n      index: i\n    }))\n  }, [oha.taskData, oha.taskOutput])\n  return (\n    <Container>\n      <Tabs value={currentTab} onChange={(e, newTab) => changeTab(newTab)}>\n        <Tab icon={<ImportIcon />} label=\"Import\" value=\"import\" />\n        <Tab icon={<AppsIcon />} label=\"Grid\" value=\"grid\" />\n        <Tab icon={<TableChartIcon />} label=\"Table\" value=\"table\" />\n      </Tabs>\n      <Box paddingTop={2} />\n      {currentTab === \"import\" && (\n        <ImportPage\n          onChangeOHA={(newOHA, shouldViewChange) => {\n            onChangeOHA(newOHA)\n            if (shouldViewChange) {\n              changeTab(\"grid\")\n            }\n          }}\n          oha={oha}\n        />\n      )}\n      {currentTab === \"grid\" && (\n        <SampleGrid\n          count={(oha.taskData || []).length}\n          completed={(oha.taskOutput || []).map(Boolean)}\n          onClick={sampleIndex => {\n            openSampleLabelEditor(sampleIndex)\n          }}\n        />\n      )}\n      {currentTab === \"table\" && (\n        <DataTable\n          title=\"Samples\"\n          expandableRowsComponent={<ExpandedRow />}\n          expandableRows\n          dense\n          columns={columns}\n          data={data}\n        />\n      )}\n    </Container>\n  )\n}\n","// @flow\nimport React, { useMemo } from \"react\"\nimport Survey from \"material-survey/components/Survey\"\nimport { styled } from \"@material-ui/core/styles\"\n\nconst form = {\n  questions: [\n    {\n      name: \"regionTypesAllowed\",\n      title: \"Region Types Allowed\",\n      description: \"What types of regions can be drawn on the image.\",\n      type: \"multiple-dropdown\",\n      choices: [\"bounding-box\", \"polygon\", \"point\"]\n    },\n    {\n      name: \"multipleRegions\",\n      title: \"Can multiple regions be created?\",\n      type: \"boolean\"\n    },\n    {\n      name: \"multipleRegionLabels\",\n      title: \"Multiple Region Labels Allowed?\",\n      type: \"boolean\"\n    },\n    {\n      name: \"availableLabels\",\n      title: \"Available Labels\",\n      description:\n        \"If you're labeling regions on an image, these are the allowed classifications or tags.\",\n      type: \"matrixdynamic\",\n      columns: [\n        { cellType: \"text\", name: \"id\", title: \"id\" },\n        {\n          cellType: \"text\",\n          name: \"description\",\n          title: \"Description (optional)\"\n        }\n      ]\n    }\n  ]\n}\n\nexport default ({ iface, onChange }) => {\n  const defaultAnswers = useMemo(\n    () => ({\n      multipleRegions: Boolean(iface.multipleRegions),\n      multipleRegionLabels: Boolean(iface.multipleRegionLabels),\n      regionTypesAllowed: iface.regionTypesAllowed,\n      availableLabels:\n        (iface.availableLabels || []).map(a =>\n          typeof a === \"string\" ? { id: a, description: a } : a\n        ) || []\n    }),\n    []\n  )\n  return (\n    <Survey\n      noActions\n      variant=\"flat\"\n      defaultAnswers={defaultAnswers}\n      onQuestionChange={(questionId, newValue, answers) => {\n        onChange({ ...iface, [questionId]: newValue })\n      }}\n      form={form}\n    />\n  )\n}\n","// @flow\n\nimport { styled } from \"@material-ui/core/styles\"\n\nexport const PaperContainer = styled(\"div\")({\n  margin: 16,\n  padding: 16,\n  border: \"1px solid #ccc\",\n  borderRadius: 4,\n  boxShadow: \"0px 2px 2px rgba(0,0,0,0.1)\"\n})\n\nexport default PaperContainer\n","// @flow weak\n\nimport React from \"react\"\nimport { styled } from \"@material-ui/core/styles\"\nimport templates from \"../StartingPage/templates\"\nimport Button from \"@material-ui/core/Button\"\nimport Box from \"@material-ui/core/Box\"\nimport * as colors from \"@material-ui/core/colors\"\nimport ConfigureImageSegmentation from \"../ConfigureImageSegmentation\"\nimport PaperContainer from \"../PaperContainer\"\n\nconst NoOptions = styled(\"div\")({\n  fontSize: 18,\n  textAlign: \"center\",\n  fontWeight: \"bold\",\n  color: colors.grey[500],\n  paddingTop: 30,\n  paddingBottom: 50\n})\n\nconst TypeButton = styled(Button)({\n  margin: 8,\n  \"& .icon\": {\n    marginRight: 8,\n    color: \"#888\"\n  },\n  alignItems: \"center\",\n  justifyContent: \"center\",\n  \"&.selected\": {\n    backgroundColor: colors.blue[500],\n    color: \"#fff\",\n    \"& .icon\": {\n      color: \"#fff\"\n    }\n  }\n})\n\nexport const Heading = styled(\"div\")({\n  fontWeight: \"bold\",\n  textTransform: \"uppercase\",\n  fontSize: 12,\n  paddingLeft: 8,\n  marginBottom: 8,\n  marginTop: 16,\n  color: colors.grey[700]\n})\n\nconst SelectType = ({ currentlySelected, onChange }) => {\n  return templates.map(t => (\n    <TypeButton\n      key={t.oha.interface.type}\n      className={currentlySelected === t.oha.interface.type ? \"selected\" : \"\"}\n      variant=\"outlined\"\n      onClick={() => onChange(t.oha.interface.type)}\n    >\n      <t.Icon className=\"icon\" />\n      {t.name}\n    </TypeButton>\n  ))\n}\n\nexport const ConfigureInterface = ({\n  iface = {},\n  onChange,\n  onClickEditJSON\n}) => {\n  return (\n    <PaperContainer>\n      <Heading>Type</Heading>\n      <SelectType\n        currentlySelected={iface.type}\n        onChange={type => {\n          onChange({ ...iface, type })\n        }}\n      />\n      <Heading>Options</Heading>\n      <Box paddingTop={2} />\n      {!iface.type && <NoOptions>Select a Type</NoOptions>}\n      {iface.type === \"image_segmentation\" && (\n        <ConfigureImageSegmentation iface={iface} onChange={onChange} />\n      )}\n      {iface.type === \"composite\" && (\n        <NoOptions>GUI Configuration Not Available</NoOptions>\n      )}\n      {iface.type === \"data_entry\" && (\n        <NoOptions>GUI Configuration Not Available</NoOptions>\n      )}\n      {iface.type === \"audio_transcription\" && (\n        <NoOptions>GUI Configuration Not Available</NoOptions>\n      )}\n      {iface.type === \"text_classification\" && (\n        <NoOptions>GUI Configuration Not Available</NoOptions>\n      )}\n    </PaperContainer>\n  )\n}\n\nexport default ConfigureInterface\n","// @flow weak\n\nimport React from \"react\"\nimport ConfigureInterface, { Heading } from \"../ConfigureInterface\"\nimport PaperContainer from \"../PaperContainer\"\nimport Box from \"@material-ui/core/Box\"\nimport Paper from \"@material-ui/core/Paper\"\nimport Button from \"@material-ui/core/Button\"\n\nexport default ({ oha, onChange, onClickEditJSON }) => {\n  const { interface: iface } = oha\n  return (\n    <div>\n      <ConfigureInterface\n        iface={iface}\n        onChange={onChange}\n        onClickEditJSON={onClickEditJSON}\n      />\n      <PaperContainer>\n        <Heading>Advanced</Heading>\n        <Box padding={2}>\n          <Button onClick={onClickEditJSON} variant=\"outlined\">\n            Edit JSON\n          </Button>\n        </Box>\n      </PaperContainer>\n    </div>\n  )\n}\n","// @flow\n\nimport React, { useState, useEffect } from \"react\"\nimport Box from \"@material-ui/core/Box\"\nimport AceEditor from \"react-ace\"\nimport SimpleDialog from \"../SimpleDialog\"\n\nexport default ({ open, sampleIndex, sampleInput, onChange, onClose }) => {\n  const [text, changeText] = useState()\n  const [error, changeError] = useState()\n  useEffect(() => {\n    const newText = JSON.stringify(sampleInput, null, \"  \")\n    if (newText !== text) {\n      changeText(newText)\n      changeError(null)\n    }\n  }, [sampleIndex])\n\n  return (\n    <SimpleDialog\n      open={open}\n      onClose={onClose}\n      title={`taskData[${sampleIndex}]`}\n    >\n      <AceEditor\n        theme=\"github\"\n        mode=\"javascript\"\n        width=\"100%\"\n        value={text}\n        editorProps={{ $blockScrolling: Infinity }}\n        onChange={t => {\n          changeText(t)\n          changeError(null)\n          try {\n            onChange(JSON.parse(t))\n          } catch (e) {\n            changeError(e.toString())\n          }\n        }}\n      />\n      <Box color=\"red\">{error}</Box>\n    </SimpleDialog>\n  )\n}\n","// @flow\n\nexport default () => {\n  if (window.require) {\n    return window.require(\"electron\")\n  }\n  return null\n}\n","// @flow\n\nimport React, { useState, useEffect } from \"react\"\nimport { makeStyles } from \"@material-ui/core/styles\"\n\nimport Grid from \"@material-ui/core/Grid\"\nimport Button from \"@material-ui/core/Button\"\nimport IconButton from \"@material-ui/core/IconButton\"\nimport Typography from \"@material-ui/core/Typography\"\nimport GithubIcon from \"../Header/GithubIcon.js\"\nimport Header from \"../Header\"\nimport brace from \"brace\"\nimport AceEditor from \"react-ace\"\nimport NextIcon from \"@material-ui/icons/KeyboardArrowRight\"\nimport EditIcon from \"@material-ui/icons/Edit\"\nimport SaveIcon from \"@material-ui/icons/Save\"\nimport defaultOHAObject from \"./default-oha-object\"\nimport UniversalDataViewer from \"../UniversalDataViewer\"\nimport EditableTitleText from \"./EditableTitleText.js\"\nimport SampleDataTable from \"../SampleDataTable\"\nimport InterfacePage from \"../InterfacePage\"\nimport EditSampleDialog from \"../EditSampleDialog\"\nimport SampleGrid from \"../SampleGrid\"\nimport PaperContainer from \"../PaperContainer\"\nimport useElectron from \"../../utils/use-electron\"\n\nimport \"brace/mode/javascript\"\nimport \"brace/theme/github\"\n\nconst useStyles = makeStyles({\n  headerButton: {\n    color: \"#fff\"\n  },\n  saveIcon: {\n    marginRight: 4\n  },\n  editIcon: {\n    marginLeft: 4\n  }\n})\n\nexport default ({\n  datasetName = \"Universal Data Tool\",\n  oha,\n  content,\n  fileName = \"unnamed\",\n  onChangeFileName,\n  onChangeContent = () => null,\n  onChangeOHA = () => null,\n  onFileDrop,\n  initialMode = \"settings\" //= \"samples\"\n}) => {\n  const c = useStyles()\n  const [mode, changeMode] = useState(initialMode)\n  const [singleSampleOHA, changeSingleSampleOHA] = useState()\n  const [sampleInputEditor, changeSampleInputEditor] = useState({})\n  const [jsonText, changeJSONText] = useState(\n    JSON.stringify(content || oha || defaultOHAObject, null, \"  \")\n  )\n  const { remote, ipcRenderer } = useElectron() || {}\n\n  useEffect(() => {\n    if (!ipcRenderer) return\n    const onOpenSettingsPage = () => changeMode(\"settings\")\n    const onOpenSamplesPage = () => changeMode(\"samples\")\n    const onOpenLabelPage = () => changeMode(\"label\")\n    ipcRenderer.on(\"open-settings-page\", onOpenSettingsPage)\n    ipcRenderer.on(\"open-samples-page\", onOpenSamplesPage)\n    ipcRenderer.on(\"open-label-page\", onOpenLabelPage)\n    return () => {\n      ipcRenderer.removeListener(\"open-settings-page\", onOpenSettingsPage)\n      ipcRenderer.removeListener(\"open-samples-page\", onOpenSamplesPage)\n      ipcRenderer.removeListener(\"open-label-page\", onOpenLabelPage)\n    }\n  }, [])\n\n  useEffect(() => {\n    onChangeContent(jsonText)\n    try {\n      // schema validation etc.\n      onChangeOHA(JSON.parse(jsonText))\n    } catch (e) {}\n  }, [jsonText])\n\n  return (\n    <div>\n      <Header\n        title={\n          <EditableTitleText onChange={onChangeFileName} value={fileName} />\n        }\n        onChangeTab={tab => changeMode(tab.toLowerCase())}\n        currentTab={mode}\n        tabs={[\"Settings\", \"Samples\", \"Label\"]}\n      />\n      <div>\n        {mode === \"json\" && (\n          <AceEditor\n            theme=\"github\"\n            mode=\"javascript\"\n            width=\"100%\"\n            value={jsonText || \"\"}\n            editorProps={{ $blockScrolling: Infinity }}\n            onChange={t => changeJSONText(t)}\n          />\n        )}\n        {mode === \"settings\" && (\n          <InterfacePage\n            onClickEditJSON={() => changeMode(\"json\")}\n            oha={oha}\n            onChange={iface => {\n              changeJSONText(\n                JSON.stringify(\n                  {\n                    ...oha,\n                    interface: iface\n                  },\n                  null,\n                  \"  \"\n                )\n              )\n            }}\n          />\n        )}\n        {mode === \"samples\" && (\n          <SampleDataTable\n            oha={oha}\n            openSampleLabelEditor={sampleIndex => {\n              changeSingleSampleOHA({\n                ...oha,\n                taskData: [oha.taskData[sampleIndex]],\n                taskOutput: [(oha.taskOutput || [])[sampleIndex]],\n                sampleIndex\n              })\n              changeMode(\"label\")\n            }}\n            openSampleInputEditor={sampleIndex => {\n              changeSampleInputEditor({ open: true, sampleIndex })\n            }}\n            onChangeOHA={newOHA => {\n              changeJSONText(JSON.stringify(newOHA, null, \"  \"))\n            }}\n          />\n        )}\n        {mode === \"label\" && singleSampleOHA ? (\n          <UniversalDataViewer\n            datasetName={`Sample ${singleSampleOHA.sampleIndex}`}\n            onSaveTaskOutputItem={(relativeIndex, output) => {\n              const newOHA = { ...oha }\n              if (!newOHA.taskOutput)\n                newOHA.taskOutput = newOHA.taskData.map(td => null)\n              newOHA.taskOutput[singleSampleOHA.sampleIndex] = output\n              changeJSONText(JSON.stringify(newOHA, null, \"  \"))\n              changeSingleSampleOHA(null)\n            }}\n            oha={singleSampleOHA}\n          />\n        ) : (\n          mode === \"label\" && (\n            <PaperContainer>\n              <SampleGrid\n                count={(oha.taskData || []).length}\n                completed={(oha.taskOutput || []).map(Boolean)}\n                onClick={sampleIndex => {\n                  changeSingleSampleOHA({\n                    ...oha,\n                    taskData: [oha.taskData[sampleIndex]],\n                    taskOutput: [(oha.taskOutput || [])[sampleIndex]],\n                    sampleIndex\n                  })\n                }}\n              />\n            </PaperContainer>\n          )\n        )}\n      </div>\n      <EditSampleDialog\n        {...sampleInputEditor}\n        sampleInput={\n          sampleInputEditor.sampleIndex !== undefined\n            ? oha.taskData[sampleInputEditor.sampleIndex]\n            : null\n        }\n        onClose={() => {\n          changeSampleInputEditor({ open: false })\n        }}\n        onChange={newInput => {\n          const newOHA = { ...oha, taskData: [...oha.taskData] }\n          newOHA.taskData[sampleInputEditor.sampleIndex] = newInput\n          changeJSONText(JSON.stringify(newOHA, null, \"  \"))\n        }}\n      />\n    </div>\n  )\n}\n","// @flow\nimport React from \"react\"\nimport { makeStyles } from \"@material-ui/core/styles\"\nimport { red } from \"@material-ui/core/colors\"\nimport Collapse from \"@material-ui/core/Collapse\"\nimport Fade from \"@material-ui/core/Fade\"\n\nconst useStyles = makeStyles({\n  root: {\n    position: \"fixed\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    bottom: 0,\n    left: 0,\n    right: 0,\n    alignItems: \"center\",\n    pointerEvents: \"none\"\n  },\n  errorBox: {\n    display: \"flex\",\n    backgroundColor: red[700],\n    color: \"#fff\",\n    padding: 4,\n    marginBottom: 4\n  }\n})\n\nexport default ({ errors }) => {\n  const c = useStyles()\n  return (\n    <div className={c.root}>\n      {errors.map(err => (\n        <Collapse key={err.id} in={err.life < 5000}>\n          <Fade in={err.life > 500}>\n            <div className={c.errorBox}>{err.message}</div>\n          </Fade>\n        </Collapse>\n      ))}\n    </div>\n  )\n}\n","// @flow\n\nimport { useState, useEffect } from \"react\"\n\nconst REFRESH_INTERVAL = 100\n\nexport default () => {\n  const [errors, changeErrors] = useState([])\n  useEffect(() => {\n    if (errors.length === 0) return () => {}\n    let interval = setInterval(() => {\n      changeErrors(\n        errors\n          .map(err => ({\n            ...err,\n            life: err.life - REFRESH_INTERVAL\n          }))\n          .filter(err => err.life > 0)\n      )\n    }, REFRESH_INTERVAL)\n    return () => clearInterval(interval)\n  }, [errors])\n\n  function addError(message: string) {\n    changeErrors(\n      errors.concat([\n        {\n          id: Math.random()\n            .toString()\n            .split(\".\")[1],\n          message,\n          life: 5000\n        }\n      ])\n    )\n  }\n\n  return [errors, addError]\n}\n","// @flow\n\nimport { useState } from \"react\"\n\nexport default (key: string, defaultValue: Object) => {\n  const [state, changeState] = useState(() => {\n    try {\n      return JSON.parse(window.localStorage.getItem(key))\n    } catch (e) {\n      return defaultValue\n    }\n  })\n\n  const changeValue = newValue => {\n    window.localStorage.setItem(key, JSON.stringify(newValue))\n    changeState(newValue)\n  }\n\n  return [state, changeValue]\n}\n","// @flow\nimport React, { useState, useMemo } from \"react\"\nimport { HeaderContext } from \"../Header\"\nimport StartingPage from \"../StartingPage\"\nimport OHAEditor from \"../OHAEditor\"\nimport { makeStyles } from \"@material-ui/core/styles\"\nimport ErrorToasts from \"../ErrorToasts\"\nimport useErrors from \"../../utils/use-errors.js\"\nimport useLocalStorage from \"../../utils/use-local-storage.js\"\n\nconst useStyles = makeStyles({\n  empty: {\n    textAlign: \"center\",\n    padding: 100,\n    color: \"#666\",\n    fontSize: 28\n  }\n})\n\nexport default () => {\n  const c = useStyles()\n  const [pageName, changePageName] = useState(\"welcome\")\n  const [currentFile, changeCurrentFile] = useState()\n  const [oha, changeOHA] = useState()\n  const [errors, addError] = useErrors()\n  let [recentItems, changeRecentItems] = useLocalStorage(\"recentItems\", [])\n  if (!recentItems) recentItems = []\n\n  const onCreateTemplate = useMemo(\n    () => template => {\n      changeCurrentFile({\n        fileName: \"unnamed\",\n        content: JSON.stringify(template.oha, null, \"  \"),\n        id: Math.random()\n          .toString()\n          .split(\".\")[1]\n      })\n      changeOHA(template.oha)\n      changePageName(\"edit\")\n    },\n    []\n  )\n\n  const openRecentItem = useMemo(() => item => {\n    changeCurrentFile(item)\n    try {\n      changeOHA(JSON.parse(item.content))\n    } catch (e) {\n      addError(\"Couldn't parse content into JSON\")\n    }\n    changePageName(\"edit\")\n  })\n\n  const onClickHome = useMemo(\n    () => () => {\n      changePageName(\"welcome\")\n    },\n    []\n  )\n\n  const handleOpenFile = useMemo(\n    () => file => {\n      const fileName = file.name\n      const reader = new FileReader()\n      reader.onload = e => {\n        const content = e.target.result\n        try {\n          const oha = JSON.parse(content)\n          // TODO validate OHA and prompt to open anyway if invalid\n          changeCurrentFile({\n            fileName,\n            content,\n            id: Math.random()\n              .toString()\n              .split(\".\")[1]\n          })\n          changeOHA(oha)\n          changePageName(\"edit\")\n        } catch (e) {\n          console.log(e.toString())\n          addError(`Could not read file \"${file.name}\"`)\n        }\n      }\n      reader.readAsText(file)\n    },\n    []\n  )\n\n  return (\n    <>\n      <HeaderContext.Provider\n        value={{\n          recentItems,\n          onClickTemplate: onCreateTemplate,\n          onClickHome,\n          onOpenFile: handleOpenFile,\n          onOpenRecentItem: openRecentItem\n        }}\n      >\n        {pageName === \"welcome\" ? (\n          <StartingPage\n            onFileDrop={handleOpenFile}\n            onOpenTemplate={onCreateTemplate}\n          />\n        ) : pageName === \"edit\" && currentFile ? (\n          <OHAEditor\n            key={currentFile.id}\n            {...currentFile}\n            oha={oha}\n            onChangeFileName={newName => {\n              changeCurrentFile({ ...currentFile, fileName: newName })\n            }}\n            onChangeContent={newContent => {\n              const newFile = { ...currentFile, content: newContent }\n              changeCurrentFile(newFile)\n              if (recentItems.map(item => item.id).includes(newFile.id)) {\n                changeRecentItems(\n                  recentItems.map(ri => (ri.id === newFile.id ? newFile : ri))\n                )\n              } else {\n                changeRecentItems([newFile].concat(recentItems).slice(0, 3))\n              }\n            }}\n            onChangeOHA={changeOHA}\n          />\n        ) : (\n          <div className={c.empty}>Unknown Page \"{pageName}\"</div>\n        )}\n      </HeaderContext.Provider>\n      <ErrorToasts errors={errors} />\n    </>\n  )\n}\n","// @flow\nimport React, { createContext, useContext, useState, useEffect } from \"react\"\nimport { makeStyles } from \"@material-ui/core/styles\"\nimport { green } from \"@material-ui/core/colors\"\nimport Collapse from \"@material-ui/core/Collapse\"\nimport Fade from \"@material-ui/core/Fade\"\n\nconst useStyles = makeStyles({\n  root: {\n    position: \"fixed\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    bottom: 0,\n    left: 0,\n    right: 0,\n    alignItems: \"center\",\n    pointerEvents: \"none\"\n  },\n  msgBox: {\n    display: \"flex\",\n    backgroundColor: green[700],\n    color: \"#fff\",\n    padding: 4,\n    marginBottom: 4\n  }\n})\n\nconst REFRESH_INTERVAL = 100\n\nconst ToastContext = createContext()\n\nexport const useToasts = () => {\n  const { addToast } = useContext(ToastContext)\n\n  return { addToast }\n}\n\nexport const ToastProvider = ({ children }) => {\n  const [toasts, changeToasts] = useState([])\n\n  useEffect(() => {\n    if (toasts.length === 0) return () => {}\n    let interval = setInterval(() => {\n      changeToasts(\n        toasts\n          .map(msg => ({\n            ...msg,\n            life: msg.life - REFRESH_INTERVAL\n          }))\n          .filter(msg => msg.life > 0)\n      )\n    }, REFRESH_INTERVAL)\n    return () => clearInterval(interval)\n  }, [toasts])\n\n  function addToast(message: string) {\n    changeToasts(\n      toasts.concat([\n        {\n          id: Math.random()\n            .toString()\n            .split(\".\")[1],\n          message,\n          life: 2000\n        }\n      ])\n    )\n  }\n  return (\n    <ToastContext.Provider value={{ toasts, addToast }}>\n      {children}\n    </ToastContext.Provider>\n  )\n}\n\nexport default () => {\n  const c = useStyles()\n  const { toasts } = useContext(ToastContext)\n  return (\n    <div className={c.root}>\n      {toasts.map(msg => (\n        <Collapse key={msg.id} in={msg.life < 5000}>\n          <Fade in={msg.life > 500}>\n            <div className={c.msgBox}>{msg.message}</div>\n          </Fade>\n        </Collapse>\n      ))}\n    </div>\n  )\n}\n","// @flow\nimport React, { useState, useMemo, useEffect } from \"react\"\nimport { HeaderContext } from \"../Header\"\nimport StartingPage from \"../StartingPage\"\nimport OHAEditor from \"../OHAEditor\"\nimport { makeStyles } from \"@material-ui/core/styles\"\nimport ErrorToasts from \"../ErrorToasts\"\nimport Toasts, { useToasts } from \"../Toasts\"\nimport useErrors from \"../../utils/use-errors.js\"\nimport useLocalStorage from \"../../utils/use-local-storage.js\"\nimport useElectron from \"../../utils/use-electron.js\"\nimport templates from \"../StartingPage/templates\"\n\nconst useStyles = makeStyles({\n  empty: {\n    textAlign: \"center\",\n    padding: 100,\n    color: \"#666\",\n    fontSize: 28\n  }\n})\n\nexport default () => {\n  const c = useStyles()\n  const [pageName, changePageName] = useState(\"welcome\")\n  const [currentFile, changeCurrentFile] = useState()\n  const [oha, changeOHA] = useState()\n  const [errors, addError] = useErrors()\n  let [recentItems, changeRecentItems] = useLocalStorage(\"recentItems\", [])\n  const { addToast } = useToasts()\n  if (!recentItems) recentItems = []\n  const { remote, ipcRenderer } = useElectron()\n\n  const onCreateTemplate = useMemo(\n    () => template => {\n      changeCurrentFile({\n        fileName: \"unnamed\",\n        content: template.oha,\n        id: Math.random()\n          .toString()\n          .split(\".\")[1]\n      })\n      changeOHA(template.oha)\n      changePageName(\"edit\")\n    },\n    []\n  )\n\n  useEffect(() => {\n    const onOpenWelcomePage = () => changePageName(\"welcome\")\n    const onOpenSettingsPage = () => changePageName(\"edit\")\n    const onOpenSamplesPage = () => changePageName(\"edit\")\n    const onOpenLabelPage = () => changePageName(\"edit\")\n    const onNewFile = (e, data) => {\n      if (data.templateName) {\n        onCreateTemplate(\n          templates.find(template => template.name === data.templateName)\n        )\n      } else {\n        changeCurrentFile({\n          fileName: \"unnamed\",\n          content: {},\n          id: Math.random()\n            .toString()\n            .split(\".\")[1]\n        })\n        changeOHA({})\n        changePageName(\"edit\")\n      }\n    }\n    const onOpenFile = (e, data) => {\n      try {\n        const oha = JSON.parse(data.content)\n        changeCurrentFile({\n          ...data,\n          content: oha\n        })\n        changeOHA(oha)\n        changePageName(\"edit\")\n      } catch (e) {\n        addError(e.toString())\n      }\n    }\n    const onSaveFile = async (e, data) => {\n      let filePath = currentFile.filePath\n      if (!currentFile.filePath) {\n        const {\n          cancelled,\n          filePath: newFilePath\n        } = await remote.dialog.showSaveDialog()\n        filePath = newFilePath\n        if (cancelled || !filePath) {\n          addError(\"Could not save\")\n          return\n        }\n        changeCurrentFile({ ...currentFile, filePath })\n      }\n      await remote\n        .require(\"fs\")\n        .promises.writeFile(filePath, JSON.stringify(oha, null, \"  \"))\n      addToast(\"File Saved!\")\n    }\n    ipcRenderer.on(\"open-welcome-page\", onOpenWelcomePage)\n    ipcRenderer.on(\"open-settings-page\", onOpenSettingsPage)\n    ipcRenderer.on(\"open-samples-page\", onOpenSamplesPage)\n    ipcRenderer.on(\"open-label-page\", onOpenLabelPage)\n    ipcRenderer.on(\"new-file\", onNewFile)\n    ipcRenderer.on(\"open-file\", onOpenFile)\n    ipcRenderer.on(\"save-file\", onSaveFile)\n    return () => {\n      ipcRenderer.removeListener(\"open-welcome-page\", onOpenWelcomePage)\n      ipcRenderer.removeListener(\"open-settings-page\", onOpenWelcomePage)\n      ipcRenderer.removeListener(\"open-samples-page\", onOpenWelcomePage)\n      ipcRenderer.removeListener(\"open-label-page\", onOpenWelcomePage)\n      ipcRenderer.removeListener(\"new-file\", onNewFile)\n      ipcRenderer.removeListener(\"open-file\", onOpenFile)\n      ipcRenderer.removeListener(\"save-file\", onSaveFile)\n    }\n  }, [currentFile])\n\n  const openRecentItem = useMemo(() => item => {\n    changeCurrentFile(item)\n    try {\n      changeOHA(JSON.parse(item.content))\n    } catch (e) {\n      addError(\"Couldn't parse content into JSON\")\n    }\n    changePageName(\"edit\")\n  })\n\n  const onClickHome = useMemo(() => () => changePageName(\"welcome\"), [])\n\n  const handleOpenFile = useMemo(\n    () => file => {\n      const { name: fileName, path: filePath } = file\n      const reader = new FileReader()\n      reader.onload = e => {\n        const content = e.target.result\n        try {\n          const oha = JSON.parse(content)\n          // TODO validate OHA and prompt to open anyway if invalid\n          changeCurrentFile({\n            fileName,\n            filePath,\n            content: oha,\n            id: filePath\n          })\n          changeOHA(oha)\n          changePageName(\"edit\")\n        } catch (e) {\n          console.log(e.toString())\n          addError(`Could not read file \"${file.name}\"`)\n        }\n      }\n      reader.readAsText(file)\n    },\n    []\n  )\n\n  return (\n    <>\n      <HeaderContext.Provider\n        value={{\n          recentItems,\n          onClickTemplate: onCreateTemplate,\n          onClickHome,\n          onOpenRecentItem: openRecentItem,\n          isDesktop: true\n        }}\n      >\n        {pageName === \"welcome\" ? (\n          <StartingPage\n            showDownloadLink={false}\n            onFileDrop={handleOpenFile}\n            onOpenTemplate={onCreateTemplate}\n          />\n        ) : pageName === \"edit\" && currentFile ? (\n          <OHAEditor\n            key={currentFile.id}\n            {...currentFile}\n            oha={oha}\n            onChangeFileName={newName => {\n              changeCurrentFile({ ...currentFile, fileName: newName })\n            }}\n            onChangeContent={newContent => {\n              const newFile = { ...currentFile, content: newContent }\n              changeCurrentFile(newFile)\n              if (recentItems.map(item => item.id).includes(newFile.id)) {\n                changeRecentItems(\n                  recentItems.map(ri => (ri.id === newFile.id ? newFile : ri))\n                )\n              } else {\n                changeRecentItems([newFile].concat(recentItems).slice(0, 3))\n              }\n            }}\n            onChangeOHA={changeOHA}\n          />\n        ) : (\n          <div className={c.empty}>Unknown Page \"{pageName}\"</div>\n        )}\n      </HeaderContext.Provider>\n      <ErrorToasts errors={errors} />\n      <Toasts />\n    </>\n  )\n}\n","import React from \"react\"\nimport Theme from \"./components/Theme\"\nimport LocalStorageApp from \"./components/LocalStorageApp\"\nimport DesktopApp from \"./components/DesktopApp\"\nimport { ToastProvider } from \"./components/Toasts\"\nimport useElectron from \"./utils/use-electron.js\"\n\nexport const App = () => {\n  const electron = useElectron()\n  return (\n    <Theme>\n      <ToastProvider>\n        {Boolean(electron) ? <DesktopApp /> : <LocalStorageApp />}\n      </ToastProvider>\n    </Theme>\n  )\n}\n\nexport default App\n","import React from \"react\"\nimport ReactDOM from \"react-dom\"\nimport App from \"./App\"\n\nReactDOM.render(<App />, document.getElementById(\"root\"))\n"],"sourceRoot":""}