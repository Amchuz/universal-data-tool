{"version":3,"sources":["components/Theme/index.js","components/Header/GithubIcon.js","components/StartingPage/templates.js","components/Header/index.js","components/CreateFromTemplateDialog/index.js","components/StartingPage/index.js","components/OHAEditor/default-oha-object.js","utils/get-task-description.js","components/SampleContainer/LinkButton.js","components/SampleContainer/index.js","components/TextClassification/index.js","components/TextEntityRecognition/index.js","components/ImageSegmentation/index.js","components/AudioTranscription/index.js","components/DataEntry/index.js","components/BadOHA/index.js","components/EmptySampleContainer/index.js","components/InterfaceIcon/index.js","components/Composite/index.js","components/UniversalDataViewer/index.js","components/OHAEditor/EditableTitleText.js","components/SampleGrid/index.js","components/SimpleDialog/index.js","components/PasteUrlsDialog/index.js","utils/use-is-desktop.js","utils/use-electron.js","components/ImportPage/index.js","components/SampleDataTable/index.js","components/ConfigureImageSegmentation/index.js","components/PaperContainer/index.js","components/ConfigureInterface/index.js","components/InterfacePage/index.js","components/EditSampleDialog/index.js","components/OHAEditor/index.js","components/ErrorToasts/index.js","utils/use-errors.js","utils/use-local-storage.js","components/LocalStorageApp/index.js","components/Toasts/index.js","components/DesktopApp/index.js","App.js","index.js"],"names":["useStyles","makeStyles","container","fontFamily","theme","createMuiTheme","typography","overrides","MuiButton","root","textTransform","Theme","_ref","children","classes","react_default","a","createElement","MuiThemeProvider_default","ThemeProvider","className","GitHub","props","SvgIcon","d","templates","name","Icon","CropFree","oha","interface","taskData","RemoveRedEye","type","availableLabels","regionTypesAllowed","imageUrl","Edit","description","surveyjs","questions","title","pdfUrl","TextFormat","overlapAllowed","labels","id","displayName","document","Audiotrack","audioUrl","Category","fields","fieldName","headerButton","color","grow","flexGrow","list","width","tab","height","& .icon","fullHeightTab","_objectSpread","mixins","toolbar","HeaderContext","createContext","recentItems","getIcon","t","Settings_default","BorderColor_default","Storage_default","Header","_ref$additionalButton","additionalButtons","_ref$title","currentTab","onChangeTab","_ref$tabs","tabs","c","_useState","useState","_useState2","Object","slicedToArray","drawerOpen","changeDrawerOpen","_useContext","useContext","onClickTemplate","onClickHome","onOpenFile","onOpenRecentItem","isDesktop","onDrop","useCallback","acceptedFiles","_useDropzone","useDropzone","getRootProps","getInputProps","Fragment","AppBar","position","Toolbar","IconButton","onClick","Menu_default","Typography","variant","noWrap","length","Tabs","onChange","e","newTab","toLowerCase","value","map","Tab","key","icon","label","href","GithubIcon","Drawer","open","onClose","List","ListItem","button","ListItemIcon","Home_default","ListItemText","assign","NoteAdd_default","ListSubheader","style","textAlign","colors","ri","fileName","InsertDriveFile_default","template","window","location","bigButton","padding","border","margin","bigIcon","CreateFromTemplateDialog","onSelect","Dialog","DialogTitle","DialogContent","Button_Button","DialogActions","contentTitle","paddingTop","paddingLeft","paddingRight","contentSubtitle","wordWrap","fontSize","concat","bigButtonContent","display","lineHeight","paddingBottom","flexDirection","alignItems","justifyContent","content","flexWrap","StartingPage","onFileDrop","onOpenTemplate","_ref$showDownloadLink","showDownloadLink","createFromTemplateDialogOpen","changeCreateFromTemplateDialogOpen","useMemo","isDragActive","filter","Boolean","Grid","item","xs","Description_default","default_oha_object","trim","getTaskDescription","taskDataItem","url","replace","linkButtonContainer","marginLeft","marginRight","linkButton","cursor","textDecoration","LinkButton","text","footer","backgroundColor","marginTop","footerContent","footerBorder","borderTop","footerCount","allSamplesButton","sampleIcon","menuButton","buttons","& > *","& img","maxWidth","maxHeight","sectionHeader","fontWeight","SampleContainer","_ref$hideDescription","hideDescription","defaultHideDescription","onExit","lastSampleExitText","_ref$requireCompleteT","requireCompleteToPressNext","minContentHeight","currentSampleIndex","totalSamples","onChangeSample","_ref$taskOutput","taskOutput","changeHideDescription","_useState3","_useState4","sampleDrawerOpen","changeSampleDrawerOpen","sm","md","react_markdown_default","escapeHtml","source","minHeight","KeyboardArrowLeft_default","disabled","KeyboardArrowRight_default","anchor","minWidth","range","i","undefined","CheckCircle_default","RadioButtonUnchecked_default","TextClassification","changeCurrentSampleIndex","initialLabels","components_SampleContainer","containerProps","sampleIndex","NLPAnnotator","multipleLabels","multiple","onFinish","result","onSaveTaskOutputItem","simpleSequenceToEntitySequence","simpleSeq","entSeq","charsPassed","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","Symbol","iterator","next","done","seq","push","start","end","err","return","TextEntityRecognition","initialSequence","doc","toConsumableArray","sort","b","nextEntity","entitySequenceToSimpleSeq","entities","getRandomColor","min","max","h","Math","floor","random","rid","toString","split","convertToRIARegionFmt","region","regionType","cls","classification","tags","x","centerX","y","centerY","w","points","p","Error","JSON","stringify","convertFromRIARegionFmt","riaRegion","console","log","_ref2","regionTypeToTool","bounding-box","polygon","full-segmentation","point","ImageSegmentation","_ref4","iface","_ref4$taskData","_ref4$taskOutput","_ref4$containerProps","datasetName","selectedIndex","_iface$regionTypesAll","labelProps","multipleRegionLabels","regionClsList","regionTagList","multipleRegions","react_image_annotate","selectedImage","src","taskDescription","enabledTools","rt","images","taskDatum","index","_ref3","td","output","regions","Array","isArray","convertToRIAImageFmt","regionMat","img","riaRegions","AudioTranscription","audio","phraseBank","initialTranscriptionText","DataEntry","Survey_default","form","defaultAnswers","completeText","answers","explain","BadOHA","component","EmptySampleContainer","InterfaceIcon","objectWithoutProperties","RemoveRedEye_default","Audiotrack_default","Edit_default","TextFormat_default","Help_default","Title","styled","borderBottom","marginBottom","StyledButton","Button","Composite","selectedField","changeSelectedField","components_UniversalDataViewer","indexZero","Composite_objectSpread","defineProperty","field","fullWidth","Box","Checkbox","checked","UniversalDataViewer","hideHeader","components_DataEntry","components_TextClassification","components_TextEntityRecognition","components_Composite","textField","EditableTitleText","editing","_useState2$","newValue","changeEditing","useEffect","listener","addEventListener","removeEventListener","timeout","setTimeout","SAVE_WAIT","clearTimeout","TextField","autoFocus","InputProps","inputProps","target","Container","Sample","borderRadius","&.completed","SampleGrid","count","_ref$completed","completed","StyledDialogTitle","grey","boxShadow","StyledDialogContent","StyledDialogActions","SimpleDialog","_ref$open","markdownContent","redOn","red","_ref$noActionBar","noActionBar","_ref$actions","actions","fullScreen","changeFullScreen","FullscreenExit_default","Fullscreen_default","Close_default","action","blue","TextArea","PasteUrlsDialog","onAddSamples","changeContent","l","s","slice","error","v","placeholder","use_is_desktop","require","use_electron","ButtonBase","&.disabled","DesktopOnlyText","SelectDialogContext","desktopOnly","dialog","Consumer","onChangeDialog","classnames","convertToTaskDataObject","fp","ext","includes","ImportPage","onChangeOHA","selectedDialog","changeDialog","electron","useElectron","asyncToGenerator","regenerator_default","mark","_callee","_ref5","canceled","dirPaths","dirPath","fs","path","importedFilePaths","wrap","_context","prev","t0","abrupt","remote","showOpenDialog","properties","sent","filePaths","promises","readdir","t1","fn","t2","join","ImportPage_objectSpread","stop","_x","apply","this","arguments","closeDialog","Provider","ImportPage_Button","AssignmentReturnedIcon","CreateNewFolderIcon","samples","ExpandedRowContainer","borderTopLeftRadius","borderTopRightRadius","ExpandedRowTitle","ExpandedRowCode","whiteSpace","ExpandedRow","data","_output","input","spacing","SampleDataTable","openSampleInputEditor","openSampleLabelEditor","deleteSample","useIsDesktop","localStorage","lastSampleTab","changeTabState","changeTab","columns","selector","sortable","knownKeys","Set","has","add","cell","row","raised","primary","Delete_default","SampleDataTable_objectSpread","SampleDataTable_Container","Publish_default","Apps_default","TableChart_default","newOHA","shouldViewChange","index_cjs_default","expandableRowsComponent","SampleDataTable_ExpandedRow","expandableRows","dense","choices","cellType","ConfigureImageSegmentation","noActions","onQuestionChange","questionId","ConfigureImageSegmentation_objectSpread","PaperContainer","NoOptions","TypeButton","&.selected","Heading","SelectType","currentlySelected","ConfigureInterface","_ref2$iface","onClickEditJSON","components_PaperContainer","ConfigureInterface_SelectType","ConfigureInterface_objectSpread","InterfacePage","onClickDownloadJSON","components_ConfigureInterface","InterfacePage_Button","EditSampleDialog","sampleInput","changeText","changeError","newText","lib_default","mode","editorProps","$blockScrolling","Infinity","parse","saveIcon","editIcon","OHAEditor","_ref$fileName","onChangeFileName","_ref$onChangeContent","onChangeContent","_ref$onChangeOHA","_ref$initialMode","initialMode","changeMode","singleSampleOHA","changeSingleSampleOHA","_useState5","_useState6","sampleInputEditor","changeSampleInputEditor","_useState7","defaultOHAObject","_useState8","jsonText","changeJSONText","ipcRenderer","onOpenSettingsPage","onOpenSamplesPage","onOpenLabelPage","on","removeListener","download","OHAEditor_objectSpread","newTaskData","newTaskOutput","splice","relativeIndex","newInput","bottom","left","right","pointerEvents","errorBox","ErrorToasts","errors","Collapse","in","life","Fade","message","use_errors","changeErrors","interval","setInterval","use_errors_objectSpread","clearInterval","use_local_storage","defaultValue","getItem","state","changeState","setItem","empty","LocalStorageApp","pageName","changePageName","currentFile","changeCurrentFile","changeOHA","_useErrors","useErrors","_useErrors2","addError","_useLocalStorage","useLocalStorage","_useLocalStorage2","changeRecentItems","onCreateTemplate","openRecentItem","handleOpenFile","file","reader","FileReader","onload","readAsText","newName","LocalStorageApp_objectSpread","newContent","newFile","msgBox","green","ToastContext","ToastProvider","toasts","changeToasts","msg","Toasts_objectSpread","addToast","Toasts","DesktopApp","_useElectron","onOpenWelcomePage","onNewFile","templateName","find","DesktopApp_objectSpread","onSaveFile","filePath","cancelled","newFilePath","showSaveDialog","writeFile","_x2","App","Toasts_ToastProvider","ReactDOM","render","src_App","getElementById"],"mappings":"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","file":"static/js/main.36536bad.chunk.js","sourcesContent":["import React from \"react\"\nimport { makeStyles } from \"@material-ui/core/styles\"\nimport createMuiTheme from \"@material-ui/core/styles/createMuiTheme\"\nimport MuiThemeProvider from \"@material-ui/core/styles/MuiThemeProvider\"\nimport ThemeProvider from \"@material-ui/styles/ThemeProvider\"\nimport \"./theme.css\"\n\nconst useStyles = makeStyles({\n  container: {\n    fontFamily: '\"Inter\", sans-serif'\n  }\n})\n\nconst theme = createMuiTheme({\n  typography: {\n    fontFamily: '\"Inter\", \"Roboto\", sans-serif'\n  },\n  overrides: {\n    MuiButton: {\n      root: {\n        textTransform: \"none\"\n      }\n    }\n  }\n})\n\nexport default ({ children }: any) => {\n  const classes = useStyles()\n  return (\n    <MuiThemeProvider theme={theme}>\n      <ThemeProvider theme={theme}>\n        <div className={classes.container}>{children}</div>\n      </ThemeProvider>\n    </MuiThemeProvider>\n  )\n}\n","// @flow\n\nimport React from \"react\"\nimport SvgIcon from \"@material-ui/core/SvgIcon\"\n\nfunction GitHub(props: Object) {\n  return (\n    <SvgIcon {...props}>\n      <path d=\"M12.007 0C6.12 0 1.1 4.27.157 10.08c-.944 5.813 2.468 11.45 8.054 13.312.19.064.397.033.555-.084.16-.117.25-.304.244-.5v-2.042c-3.33.735-4.037-1.56-4.037-1.56-.22-.726-.694-1.35-1.334-1.756-1.096-.75.074-.735.074-.735.773.103 1.454.557 1.846 1.23.694 1.21 2.23 1.638 3.45.96.056-.61.327-1.178.766-1.605-2.67-.3-5.462-1.335-5.462-6.002-.02-1.193.42-2.35 1.23-3.226-.327-1.015-.27-2.116.166-3.09 0 0 1.006-.33 3.3 1.23 1.966-.538 4.04-.538 6.003 0 2.295-1.5 3.3-1.23 3.3-1.23.445 1.006.49 2.144.12 3.18.81.877 1.25 2.033 1.23 3.226 0 4.607-2.805 5.627-5.476 5.927.578.583.88 1.386.825 2.206v3.29c-.005.2.092.393.26.507.164.115.377.14.565.063 5.568-1.88 8.956-7.514 8.007-13.313C22.892 4.267 17.884.007 12.008 0z\" />\n    </SvgIcon>\n  )\n}\n\nexport default GitHub\n","// @flow\n\nimport RemoveRedEye from \"@material-ui/icons/RemoveRedEye\"\nimport CropFree from \"@material-ui/icons/CropFree\"\nimport TextFormat from \"@material-ui/icons/TextFormat\"\nimport Edit from \"@material-ui/icons/Edit\"\nimport Audiotrack from \"@material-ui/icons/Audiotrack\"\nimport Category from \"@material-ui/icons/Category\"\n\nexport default [\n  {\n    name: \"Empty\",\n    Icon: CropFree,\n    oha: {\n      interface: {},\n      taskData: []\n    }\n  },\n  {\n    name: \"Computer Vision\",\n    Icon: RemoveRedEye,\n    oha: {\n      interface: {\n        type: \"image_segmentation\",\n        availableLabels: [\"valid\", \"invalid\"],\n        regionTypesAllowed: [\n          \"bounding-box\",\n          \"polygon\",\n          // \"full-segmentation\",\n          \"point\"\n          // \"pixel-mask\"\n        ]\n      },\n      taskData: [\n        {\n          imageUrl:\n            \"https://s3.amazonaws.com/asset.workaround.online/example-jobs/sticky-notes/image1.jpg\"\n        },\n        {\n          imageUrl:\n            \"https://s3.amazonaws.com/asset.workaround.online/example-jobs/sticky-notes/image2.jpg\"\n        }\n      ]\n    }\n  },\n  {\n    name: \"Data Entry\",\n    Icon: Edit,\n    oha: {\n      interface: {\n        type: \"data_entry\",\n        description: \"# Markdown description here\",\n        surveyjs: {\n          questions: [\n            {\n              type: \"text\",\n              name: \"document_title\",\n              title: \"Title of Document\"\n            }\n          ]\n        }\n      },\n      taskData: [\n        {\n          pdfUrl: \"https://arxiv.org/pdf/1906.01969.pdf\"\n        },\n        {\n          pdfUrl: \"https://arxiv.org/pdf/1908.07069.pdf\"\n        }\n      ]\n    }\n  },\n  {\n    name: \"Natural Language\",\n    Icon: TextFormat,\n    oha: {\n      interface: {\n        type: \"text_entity_recognition\",\n        overlapAllowed: false,\n        labels: [\n          {\n            id: \"food\",\n            displayName: \"Food\",\n            description: \"Edible item.\"\n          },\n          {\n            id: \"hat\",\n            displayName: \"Hat\",\n            description: \"Something worn on the head.\"\n          }\n        ]\n      },\n      taskData: [\n        {\n          document:\n            \"This strainer makes a great hat, I'll wear it while I serve spaghetti!\"\n        }\n      ]\n    }\n  },\n  {\n    name: \"Audio Transcription\",\n    Icon: Audiotrack,\n    oha: {\n      interface: {\n        type: \"audio_transcription\",\n        description: \"# Markdown description here\"\n      },\n      taskData: [\n        {\n          audioUrl: \"https://html5tutorial.info/media/vincent.mp3\"\n        }\n      ]\n    }\n  },\n  {\n    name: \"Composite\",\n    Icon: Category,\n    oha: {\n      description: \"# Markdown description here\",\n      interface: {\n        type: \"composite\",\n        fields: [\n          {\n            fieldName: \"textInfo\",\n            interface: {\n              type: \"data_entry\",\n              surveyjs: {\n                questions: [\n                  {\n                    type: \"text\",\n                    name: \"group_letter\",\n                    title: \"Letter of Group\"\n                  }\n                ]\n              }\n            }\n          },\n          {\n            fieldName: \"segmentation\",\n            interface: {\n              type: \"image_segmentation\",\n              availableLabels: [\"group text\"],\n              regionTypesAllowed: [\"bounding-box\"]\n            }\n          }\n        ]\n      },\n      taskData: [\n        {\n          imageUrl:\n            \"https://s3.amazonaws.com/asset.workaround.online/example-jobs/sticky-notes/image1.jpg\"\n        },\n        {\n          imageUrl:\n            \"https://s3.amazonaws.com/asset.workaround.online/example-jobs/sticky-notes/image2.jpg\"\n        }\n      ]\n    }\n  }\n]\n","// @flow\n\nimport React, { useState, createContext, useContext, useCallback } from \"react\"\nimport AppBar from \"@material-ui/core/AppBar\"\nimport Toolbar from \"@material-ui/core/Toolbar\"\nimport IconButton from \"@material-ui/core/IconButton\"\nimport MenuIcon from \"@material-ui/icons/Menu\"\nimport CodeIcon from \"@material-ui/icons/Code\"\nimport SettingsIcon from \"@material-ui/icons/Settings\"\nimport StorageIcon from \"@material-ui/icons/Storage\"\nimport BorderColorIcon from \"@material-ui/icons/BorderColor\"\nimport HomeIcon from \"@material-ui/icons/Home\"\nimport Typography from \"@material-ui/core/Typography\"\nimport Drawer from \"@material-ui/core/Drawer\"\nimport Button from \"@material-ui/core/Button\"\nimport FileIcon from \"@material-ui/icons/InsertDriveFile\"\nimport NoteAddIcon from \"@material-ui/icons/NoteAdd\"\nimport List from \"@material-ui/core/List\"\nimport ListItem from \"@material-ui/core/ListItem\"\nimport ListItemText from \"@material-ui/core/ListItemText\"\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\"\nimport ListSubheader from \"@material-ui/core/ListSubheader\"\nimport * as colors from \"@material-ui/core/colors\"\nimport GithubIcon from \"./GithubIcon\"\nimport templates from \"../StartingPage/templates\"\nimport { useDropzone } from \"react-dropzone\"\nimport { makeStyles } from \"@material-ui/core/styles\"\nimport Tabs from \"@material-ui/core/Tabs\"\nimport Tab from \"@material-ui/core/Tab\"\n\nconst useStyles = makeStyles(theme => ({\n  headerButton: {\n    color: \"#fff\"\n  },\n  grow: { flexGrow: 1 },\n  list: {\n    width: 300\n  },\n  tab: {\n    color: \"#fff\",\n    height: \"100%\",\n    \"& .icon\": {}\n  },\n  fullHeightTab: {\n    ...theme.mixins.toolbar\n  }\n}))\n\nexport const HeaderContext = createContext({ recentItems: [] })\n\nconst getIcon = (t: string) => {\n  switch (t) {\n    case \"Settings\":\n      return <SettingsIcon className=\"icon\" />\n    case \"Label\":\n      return <BorderColorIcon className=\"icon\" />\n    case \"Samples\":\n      return <StorageIcon className=\"icon\" />\n  }\n}\n\nexport default ({\n  additionalButtons = [],\n  title = \"Universal Data Tool - Welcome!\",\n  currentTab,\n  onChangeTab,\n  tabs = []\n}) => {\n  const c = useStyles()\n  const [drawerOpen, changeDrawerOpen] = useState(false)\n  let {\n    recentItems,\n    onClickTemplate,\n    onClickHome,\n    onOpenFile,\n    onOpenRecentItem,\n    isDesktop\n  } = useContext(HeaderContext)\n  if (!recentItems) recentItems = []\n\n  const onDrop = useCallback(acceptedFiles => {\n    onOpenFile(acceptedFiles[0])\n  }, [])\n\n  const { getRootProps, getInputProps } = useDropzone({ onDrop })\n\n  return (\n    <>\n      <AppBar position=\"static\">\n        <Toolbar>\n          {!isDesktop && (\n            <IconButton\n              onClick={() => changeDrawerOpen(true)}\n              className={c.headerButton}\n            >\n              <MenuIcon />\n            </IconButton>\n          )}\n          <Typography className={c.title} variant=\"h6\" noWrap>\n            {title}\n          </Typography>\n          <div className={c.grow} />\n          {additionalButtons}\n          {tabs.length > 0 && (\n            <Tabs\n              onChange={(e, newTab) => onChangeTab(newTab.toLowerCase())}\n              value={currentTab}\n            >\n              {tabs.map(t => (\n                <Tab\n                  key={t}\n                  classes={{ root: c.fullHeightTab }}\n                  className={c.tab}\n                  icon={getIcon(t)}\n                  label={t}\n                  value={t.toLowerCase()}\n                />\n              ))}\n            </Tabs>\n          )}\n          <IconButton\n            href=\"https://github.com/openhumanannotation/universal-data-tool\"\n            className={c.headerButton}\n          >\n            <GithubIcon />\n          </IconButton>\n        </Toolbar>\n      </AppBar>\n      <Drawer open={drawerOpen} onClose={() => changeDrawerOpen(false)}>\n        <List className={c.list}>\n          <ListItem onClick={onClickHome} button>\n            <ListItemIcon>\n              <HomeIcon />\n            </ListItemIcon>\n            <ListItemText>Home</ListItemText>\n          </ListItem>\n          <ListItem {...getRootProps()} button>\n            <ListItemIcon>\n              <NoteAddIcon />\n            </ListItemIcon>\n            <ListItemText>Open File</ListItemText>\n            <input {...getInputProps()} />\n          </ListItem>\n          <ListSubheader>Recent Files</ListSubheader>\n          {recentItems.length === 0 ? (\n            <ListItem>\n              <ListItemText\n                style={{ textAlign: \"center\", color: colors.grey[500] }}\n              >\n                No Recent Items\n              </ListItemText>\n            </ListItem>\n          ) : (\n            recentItems.map(ri => (\n              <ListItem\n                key={ri.fileName}\n                button\n                onClick={() => {\n                  onOpenRecentItem(ri)\n                }}\n              >\n                <ListItemIcon>\n                  <FileIcon />\n                </ListItemIcon>\n                <ListItemText>{ri.fileName}</ListItemText>\n              </ListItem>\n            ))\n          )}\n          <ListSubheader>Create From Template</ListSubheader>\n          {templates.map(template => (\n            <ListItem\n              key={template.name}\n              button\n              onClick={() => onClickTemplate(template)}\n            >\n              <ListItemIcon>\n                <template.Icon />\n              </ListItemIcon>\n              <ListItemText>{template.name}</ListItemText>\n            </ListItem>\n          ))}\n          <ListSubheader>Explore More</ListSubheader>\n          {/* <ListItem button>\n            <ListItemIcon>\n              <CodeIcon />\n            </ListItemIcon>\n            <ListItemText>Integrate</ListItemText>\n          </ListItem> */}\n          <ListItem\n            button\n            onClick={() => {\n              window.location.href =\n                \"https://github.com/OpenHumanAnnotation/universal-data-tool/releases\"\n            }}\n          >\n            <ListItemIcon>\n              <GithubIcon />\n            </ListItemIcon>\n            <ListItemText>Github</ListItemText>\n          </ListItem>\n        </List>\n      </Drawer>\n    </>\n  )\n}\n","// @flow\n\nimport React from \"react\"\nimport Button from \"@material-ui/core/Button\"\nimport Dialog from \"@material-ui/core/Dialog\"\nimport DialogTitle from \"@material-ui/core/DialogTitle\"\nimport DialogContent from \"@material-ui/core/DialogContent\"\nimport DialogActions from \"@material-ui/core/DialogActions\"\nimport { makeStyles } from \"@material-ui/core/styles\"\nimport templates from \"../StartingPage/templates\"\nimport { grey } from \"@material-ui/core/colors\"\n\nconst useStyles = makeStyles({\n  bigButton: {\n    padding: 10,\n    width: 150,\n    height: 120,\n    border: \"1px solid #ccc\",\n    margin: 10\n  },\n  bigIcon: {\n    width: 48,\n    height: 48\n  }\n})\n\nexport default ({ open, onClose, onSelect }) => {\n  const c = useStyles()\n  return (\n    <Dialog open={open} onClose={onClose}>\n      <DialogTitle>Create from Template</DialogTitle>\n      <DialogContent>\n        {templates.map(template => (\n          <Button onClick={() => onSelect(template)} className={c.bigButton}>\n            <div>\n              <div>{template.name}</div>\n              <div>\n                <template.Icon className={c.bigIcon} />\n              </div>\n            </div>\n          </Button>\n        ))}\n      </DialogContent>\n      <DialogActions>\n        <Button onClick={() => onClose()}>Close</Button>\n      </DialogActions>\n    </Dialog>\n  )\n}\n","// @flow\n\nimport React, { useState, useMemo } from \"react\"\nimport { makeStyles } from \"@material-ui/core/styles\"\nimport Grid from \"@material-ui/core/Grid\"\nimport Header from \"../Header\"\nimport Button from \"@material-ui/core/Button\"\nimport Typography from \"@material-ui/core/Typography\"\nimport templates from \"./templates\"\nimport * as colors from \"@material-ui/core/colors\"\nimport VideoIcon from \"@material-ui/icons/OndemandVideo\"\nimport FileIcon from \"@material-ui/icons/InsertDriveFile\"\nimport TemplateIcon from \"@material-ui/icons/Description\"\nimport { useDropzone } from \"react-dropzone\"\nimport CreateFromTemplateDialog from \"../CreateFromTemplateDialog\"\n\nconst useStyles = makeStyles({\n  title: {},\n  contentTitle: {\n    paddingTop: 50,\n    paddingLeft: 20,\n    paddingRight: 20,\n    textAlign: \"center\"\n  },\n  contentSubtitle: {\n    textAlign: \"center\",\n    wordWrap: \"normal\",\n    paddingLeft: 40,\n    paddingRight: 40,\n    padding: 30\n  },\n  bigButton: {\n    width: 240,\n    fontSize: 24,\n    margin: 20,\n    border: `1px dashed ${colors.grey[500]}`\n  },\n  bigButtonContent: {\n    display: \"flex\",\n    lineHeight: 1.5,\n    height: 160,\n    paddingTop: 20,\n    paddingBottom: 20,\n    flexDirection: \"column\",\n    alignItems: \"center\",\n    justifyContent: \"center\"\n  },\n  bigIcon: {\n    margin: 20,\n    width: 64,\n    height: 64\n  },\n  grow: { flexGrow: 1 },\n  content: {\n    display: \"flex\",\n    justifyContent: \"center\",\n    flexWrap: \"wrap\"\n  },\n  headerButton: { color: \"#fff\" }\n})\n\nexport default ({ onFileDrop, onOpenTemplate, showDownloadLink = true }) => {\n  const c = useStyles()\n  const [\n    createFromTemplateDialogOpen,\n    changeCreateFromTemplateDialogOpen\n  ] = useState(false)\n  const onDrop = useMemo(() => {\n    return acceptedFiles => {\n      onFileDrop(acceptedFiles[0])\n    }\n  }, [onFileDrop])\n  let { getRootProps, getInputProps, isDragActive } = useDropzone({ onDrop })\n\n  return (\n    <div>\n      <CreateFromTemplateDialog\n        open={createFromTemplateDialogOpen}\n        onSelect={template => onOpenTemplate(template)}\n        onClose={() => changeCreateFromTemplateDialogOpen(false)}\n      />\n      <Header\n        additionalButtons={[\n          showDownloadLink && (\n            <Button\n              href=\"https://github.com/OpenHumanAnnotation/universal-data-tool/releases\"\n              className={c.headerButton}\n            >\n              Download Universal Data Tool\n            </Button>\n          )\n        ].filter(Boolean)}\n      />\n      <Grid container>\n        <Grid item xs={12}>\n          <Typography className={c.contentTitle} variant=\"h3\" noWrap>\n            Universal Data Tool\n          </Typography>\n        </Grid>\n        <Grid item xs={12}>\n          <Typography className={c.contentSubtitle} variant=\"h5\">\n            Annotate data for Computer Vision, Natural Language Processing, Data\n            Entry and More.\n          </Typography>\n        </Grid>\n        <Grid item xs={12}>\n          <div className={c.content}>\n            <Button {...getRootProps()} className={c.bigButton}>\n              <div className={c.bigButtonContent}>\n                <div>{!isDragActive ? \"Open File\" : \"Drop File Here\"}</div>\n                <FileIcon className={c.bigIcon} />\n                <input {...getInputProps()} />\n              </div>\n            </Button>\n            <Button\n              onClick={() => {\n                changeCreateFromTemplateDialogOpen(true)\n              }}\n              className={c.bigButton}\n            >\n              <div className={c.bigButtonContent}>\n                <div>Create from Template</div>\n                <TemplateIcon className={c.bigIcon} />\n              </div>\n            </Button>\n            {/* <Button className={c.bigButton}>\n              <div className={c.bigButtonContent}>\n                <div>Watch Tutorials</div>\n                <VideoIcon className={c.bigIcon} />\n              </div>\n            </Button> */}\n          </div>\n        </Grid>\n      </Grid>\n    </div>\n  )\n}\n","export default `\n{\n  \"interface\": {\n    \"type\": \"data_entry\",\n    \"description\": \"# Markdown description here\",\n    \"surveyjs\": {\n      \"questions\": [\n        {\n          \"type\": \"text\",\n          \"name\": \"question1\",\n          \"title\": \"Some question title here\"\n        }\n      ]\n    }\n  },\n  \"taskData\": []\n}\n`.trim()\n","export default function getTaskDescription(taskDataItem) {\n  const { description, imageUrl, url, pdfUrl } = taskDataItem\n  if (description) return description\n  if (imageUrl) return `![${imageUrl}](${imageUrl})`\n  if (pdfUrl)\n    return (\n      `[PDF Link](${pdfUrl})` +\n      `<object data=\"${pdfUrl.replace(\n        \"http://\",\n        \"https://\"\n      )}\" type=\"application/pdf\" width=\"100%\" height=\"600px\"></object>`\n    )\n  if (url) return `Use this [Link](${url})`\n  return null\n}\n","// @flow\nimport React from \"react\"\nimport { makeStyles } from \"@material-ui/core/styles\"\n\nconst useStyles = makeStyles({\n  linkButtonContainer: {\n    marginLeft: 8,\n    marginRight: 8\n  },\n  linkButton: {\n    textTransform: \"none\",\n    cursor: \"pointer\",\n    textDecoration: \"underline\"\n  }\n})\n\nexport default ({ onClick, text }: { onClick: Function, text: string }) => {\n  const c = useStyles()\n  return (\n    <span className={c.linkButtonContainer}>\n      (\n      <span onClick={onClick} className={c.linkButton}>\n        {text}\n      </span>\n      )\n    </span>\n  )\n}\n","// @flow\n\nimport React, { useState } from \"react\"\nimport { makeStyles } from \"@material-ui/core\"\nimport Grid from \"@material-ui/core/Grid\"\nimport Button from \"@material-ui/core/Button\"\nimport ReactMarkdown from \"react-markdown\"\nimport AppBar from \"@material-ui/core/AppBar\"\nimport Toolbar from \"@material-ui/core/Toolbar\"\nimport IconButton from \"@material-ui/core/IconButton\"\nimport MenuIcon from \"@material-ui/icons/Menu\"\nimport ScatterPlotIcon from \"@material-ui/icons/ScatterPlot\"\nimport RightIcon from \"@material-ui/icons/KeyboardArrowRight\"\nimport LeftIcon from \"@material-ui/icons/KeyboardArrowLeft\"\nimport InnerCircleIcon from \"@material-ui/icons/RadioButtonChecked\"\nimport CircleIcon from \"@material-ui/icons/RadioButtonUnchecked\"\nimport CheckCircle from \"@material-ui/icons/CheckCircle\"\nimport Typography from \"@material-ui/core/Typography\"\nimport GithubIcon from \"../Header/GithubIcon.js\"\nimport * as colors from \"@material-ui/core/colors\"\nimport Drawer from \"@material-ui/core/Drawer\"\nimport Divider from \"@material-ui/core/Divider\"\nimport List from \"@material-ui/core/List\"\nimport ListItem from \"@material-ui/core/ListItem\"\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\"\nimport ListItemText from \"@material-ui/core/ListItemText\"\nimport ListSubheader from \"@material-ui/core/ListSubheader\"\nimport LinkButton from \"./LinkButton\"\nimport range from \"lodash/range\"\n\nconst useStyles = makeStyles(theme => ({\n  footer: {\n    backgroundColor: \"#fff\",\n    marginTop: 40\n  },\n  footerContent: {\n    alignItems: \"center\",\n    padding: 20,\n    display: \"flex\",\n    justifyContent: \"space-between\"\n  },\n  footerBorder: {\n    borderTop: \"1px solid #ccc\",\n    marginLeft: 20,\n    marginRight: 20\n  },\n  footerCount: {\n    display: \"inline-flex\"\n  },\n  allSamplesButton: {\n    color: \"#fff\",\n    border: \"1px solid rgba(255,255,255,0.5)\",\n    marginRight: 10,\n    paddingLeft: 8\n  },\n  sampleIcon: {\n    marginRight: 8\n  },\n  menuButton: {\n    marginRight: 8,\n    color: \"#fff\"\n  },\n  grow: {\n    flexGrow: 1\n  },\n  buttons: {\n    \"& > *\": {\n      margin: 4\n    }\n  },\n  description: {\n    padding: 10,\n    \"& img\": {\n      maxWidth: \"calc(100% - 16px)\",\n      marginLeft: 8,\n      marginRight: 8,\n      maxHeight: 600\n    }\n  },\n  sectionHeader: {\n    fontWeight: 700,\n    fontSize: 12,\n    padding: 10,\n    paddingTop: 16,\n    textTransform: \"uppercase\",\n    color: colors.grey[600]\n  },\n  content: {\n    padding: 10\n    // minHeight: \"calc(100vh - 200px)\"\n  }\n}))\n\nexport const SampleContainer = ({\n  hideDescription: defaultHideDescription = false,\n  lastSampleExitText,\n  onExit,\n  requireCompleteToPressNext = false,\n  taskData,\n  minContentHeight,\n  currentSampleIndex,\n  totalSamples,\n  onChangeSample,\n  taskOutput = [],\n  description,\n  children\n}) => {\n  const c = useStyles()\n  const [hideDescription, changeHideDescription] = useState(\n    defaultHideDescription\n  )\n  const [sampleDrawerOpen, changeSampleDrawerOpen] = useState(false)\n  return (\n    <>\n      <Grid container>\n        {!hideDescription && (\n          <Grid item xs={12} sm={12} md={6}>\n            <div className={c.sectionHeader}>\n              Description\n              <LinkButton\n                onClick={() => changeHideDescription(true)}\n                text=\"hide\"\n              />\n            </div>\n            <div className={c.description}>\n              <ReactMarkdown escapeHtml={false} source={description} />\n            </div>\n          </Grid>\n        )}\n        <Grid item xs={12} sm={12} md={hideDescription ? 12 : 6}>\n          <div className={c.sectionHeader}>\n            Sample {currentSampleIndex + 1}/{totalSamples}\n            {hideDescription && (\n              <LinkButton\n                onClick={() => changeHideDescription(false)}\n                text=\"show description\"\n              />\n            )}\n            {totalSamples > 1 && (\n              <LinkButton\n                onClick={() => changeSampleDrawerOpen(true)}\n                text=\"view all\"\n              />\n            )}\n            {onExit && (\n              <LinkButton onClick={() => onExit()} text=\"exit without saving\" />\n            )}\n          </div>\n          <div style={{ minHeight: minContentHeight }} className={c.content}>\n            {children}\n          </div>\n        </Grid>\n        {totalSamples > 1 && (\n          <Grid item xs={12}>\n            <div className={c.footer}>\n              <div className={c.footerBorder} />\n              <div className={c.footerContent}>\n                <Button\n                  onClick={() =>\n                    onChangeSample(\n                      (currentSampleIndex - 1 + totalSamples) % totalSamples\n                    )\n                  }\n                >\n                  <LeftIcon /> Prev Sample\n                </Button>\n                <Button\n                  onClick={() => changeSampleDrawerOpen(true)}\n                  className={c.footerCount}\n                >\n                  {currentSampleIndex + 1} / {totalSamples}\n                </Button>\n                <Button\n                  disabled={\n                    requireCompleteToPressNext &&\n                    !taskOutput[currentSampleIndex]\n                  }\n                  onClick={() =>\n                    onChangeSample((currentSampleIndex + 1) % totalSamples)\n                  }\n                >\n                  {requireCompleteToPressNext && !taskOutput[currentSampleIndex]\n                    ? \"Save to Continue\"\n                    : \"Next Sample\"}\n                  <RightIcon />\n                </Button>\n              </div>\n            </div>\n          </Grid>\n        )}\n      </Grid>\n      <Drawer\n        open={sampleDrawerOpen}\n        anchor=\"left\"\n        onClose={() => changeSampleDrawerOpen(false)}\n      >\n        <List style={{ minWidth: 300 }}>\n          <ListSubheader>Samples</ListSubheader>\n          {range(0, totalSamples).map(i => (\n            <ListItem\n              style={{\n                backgroundColor:\n                  i === currentSampleIndex ? colors.grey[200] : undefined\n              }}\n              button\n              onClick={() => onChangeSample(i)}\n            >\n              <ListItemIcon\n                style={{\n                  color: i === currentSampleIndex ? colors.blue[500] : undefined\n                }}\n              >\n                {taskOutput[i] ? <CheckCircle /> : <CircleIcon />}\n              </ListItemIcon>\n              <ListItemText>Sample {i + 1}</ListItemText>\n            </ListItem>\n          ))}\n        </List>\n      </Drawer>\n    </>\n  )\n}\n\nexport default SampleContainer\n","import React, { useState } from \"react\"\nimport getTaskDescription from \"../../utils/get-task-description.js\"\nimport SampleContainer from \"../SampleContainer\"\nimport NLPAnnotator from \"react-nlp-annotate/components/NLPAnnotator\"\n\nexport const TextClassification = props => {\n  const [currentSampleIndex, changeCurrentSampleIndex] = useState(0)\n  const initialLabels =\n    props.taskOutput && props.taskOutput[currentSampleIndex]\n      ? [props.taskOutput[currentSampleIndex].label] ||\n        props.taskOutput[currentSampleIndex].labels\n      : undefined\n  return (\n    <SampleContainer\n      {...props.containerProps}\n      currentSampleIndex={currentSampleIndex}\n      totalSamples={props.taskData.length}\n      taskOutput={props.taskOutput}\n      description={\n        getTaskDescription(props.taskData[currentSampleIndex]) ||\n        props.interface.description\n      }\n      onChangeSample={sampleIndex => changeCurrentSampleIndex(sampleIndex)}\n    >\n      <NLPAnnotator\n        key={currentSampleIndex}\n        type=\"label-document\"\n        labels={props.interface.labels}\n        multipleLabels={props.interface.multiple}\n        document={props.taskData[currentSampleIndex].document}\n        initialLabels={initialLabels}\n        onFinish={result => {\n          props.onSaveTaskOutputItem(currentSampleIndex, result)\n        }}\n      />\n    </SampleContainer>\n  )\n}\n\nexport default TextClassification\n","import React, { useState } from \"react\"\nimport getTaskDescription from \"../../utils/get-task-description.js\"\nimport SampleContainer from \"../SampleContainer\"\nimport NLPAnnotator from \"react-nlp-annotate/components/NLPAnnotator\"\n\nconst simpleSequenceToEntitySequence = simpleSeq => {\n  const entSeq = []\n  let charsPassed = 0\n  for (const seq of simpleSeq) {\n    if (seq.label) {\n      entSeq.push({\n        text: seq.text,\n        label: seq.label,\n        start: charsPassed,\n        end: charsPassed + seq.text.length\n      })\n    }\n    charsPassed += seq.text.length\n  }\n  return entSeq\n}\n\nconst entitySequenceToSimpleSeq = (doc, entSeq) => {\n  if (!entSeq) return undefined\n  const simpleSeq = []\n  entSeq = [...entSeq]\n  entSeq.sort((a, b) => a.start - b.start)\n  let nextEntity = 0\n  for (let i = 0; i < doc.length; i++) {\n    if ((entSeq[nextEntity] || {}).start === i) {\n      simpleSeq.push({\n        text: entSeq[nextEntity].text,\n        label: entSeq[nextEntity].label\n      })\n      i = entSeq[nextEntity].end\n      nextEntity += 1\n    } else {\n      if (simpleSeq.length === 0 || simpleSeq[simpleSeq.length - 1].label) {\n        simpleSeq.push({ text: doc[i] })\n      } else {\n        simpleSeq[simpleSeq.length - 1].text += doc[i]\n      }\n    }\n  }\n  return simpleSeq\n}\n\nexport const TextEntityRecognition = props => {\n  const [currentSampleIndex, changeCurrentSampleIndex] = useState(0)\n  const initialSequence =\n    props.taskOutput && props.taskOutput[currentSampleIndex]\n      ? entitySequenceToSimpleSeq(\n          props.taskData[currentSampleIndex].document,\n          props.taskOutput[currentSampleIndex].entities\n        )\n      : undefined\n\n  return (\n    <SampleContainer\n      {...props.containerProps}\n      currentSampleIndex={currentSampleIndex}\n      totalSamples={props.taskData.length}\n      taskOutput={props.taskOutput}\n      description={\n        getTaskDescription(props.taskData[currentSampleIndex]) ||\n        props.interface.description\n      }\n      onChangeSample={sampleIndex => changeCurrentSampleIndex(sampleIndex)}\n    >\n      <NLPAnnotator\n        key={currentSampleIndex}\n        type=\"label-sequence\"\n        document={props.taskData[currentSampleIndex].document}\n        labels={props.interface.labels}\n        initialSequence={initialSequence}\n        onFinish={result => {\n          props.onSaveTaskOutputItem(currentSampleIndex, {\n            entities: simpleSequenceToEntitySequence(result)\n          })\n        }}\n      />\n    </SampleContainer>\n  )\n}\n\nexport default TextEntityRecognition\n","// @flow\n\nimport React, { useState } from \"react\"\nimport { makeStyles } from \"@material-ui/core/styles\"\nimport Annotator from \"react-image-annotate\"\nimport isEqual from \"lodash/isEqual\"\n\nconst useStyles = makeStyles({})\n\nfunction getRandomInt(min, max) {\n  return Math.floor(Math.random() * (max - min + 1)) + min\n}\n\nfunction getRandomColor() {\n  var h = getRandomInt(0, 360)\n  var s = 100\n  var l = 50\n  return \"hsl(\"\n    .concat(h, \",\")\n    .concat(s, \"%,\")\n    .concat(l, \"%)\")\n}\n\nconst rid = () =>\n  Math.random()\n    .toString()\n    .split(\".\")[1]\n\nconst convertToRIARegionFmt = region => {\n  switch (region.regionType) {\n    case \"bounding-box\": {\n      return {\n        id: rid(),\n        cls: region.classification,\n        tags: region.labels,\n        color: region.color || getRandomColor(),\n        type: \"box\",\n        x: region.centerX - region.width / 2,\n        y: region.centerY - region.height / 2,\n        w: region.width,\n        h: region.height\n      }\n    }\n    case \"point\": {\n      return {\n        id: rid(),\n        type: \"point\",\n        tags: region.labels,\n        cls: region.classification,\n        color: region.color || getRandomColor(),\n        x: region.x,\n        y: region.y\n      }\n    }\n    case \"polygon\": {\n      return {\n        id: rid(),\n        type: \"polygon\",\n        tags: region.labels,\n        cls: region.classification,\n        color: region.color || getRandomColor(),\n        open: false,\n        points: region.points.map(p => [p.x, p.y])\n      }\n    }\n    case \"line\":\n    case \"pixel-mask\": {\n      throw new Error(`Unsupported region \"${JSON.stringify(region)}\"`)\n    }\n  }\n}\n\nconst convertFromRIARegionFmt = riaRegion => {\n  console.log({ riaRegion })\n  switch (riaRegion.type) {\n    case \"point\": {\n      return {\n        regionType: \"point\",\n        x: riaRegion.x,\n        y: riaRegion.y,\n        classification: riaRegion.cls,\n        labels: riaRegion.tags,\n        color: riaRegion.color\n      }\n    }\n    case \"box\": {\n      return {\n        regionType: \"bounding-box\",\n        centerX: riaRegion.x + riaRegion.w / 2,\n        centerY: riaRegion.y + riaRegion.h / 2,\n        width: riaRegion.w,\n        height: riaRegion.h,\n        classification: riaRegion.cls,\n        labels: riaRegion.tags,\n        color: riaRegion.color\n      }\n    }\n    case \"polygon\": {\n      return {\n        regionType: \"polygon\",\n        classification: riaRegion.cls,\n        labels: riaRegion.tags,\n        color: riaRegion.color,\n        points: riaRegion.points.map(([x, y]) => ({ x, y }))\n      }\n    }\n  }\n  throw new Error(`Unsupported riaRegion \"${JSON.stringify(riaRegion)}\"`)\n}\n\nconst convertToRIAImageFmt = ({ title, taskDatum: td, index: i, output }) => {\n  if ((td || {}).imageUrl) {\n    return {\n      src: td.imageUrl,\n      name: title || `Sample ${i}`,\n      regions: !output\n        ? undefined\n        : Array.isArray(output)\n        ? output.map(convertToRIARegionFmt)\n        : [convertToRIARegionFmt(output)]\n    }\n  }\n  throw new Error(`Task Datum not supported \"${JSON.stringify(td)}\"`)\n}\n\nconst regionTypeToTool = {\n  \"bounding-box\": \"create-box\",\n  polygon: \"create-polygon\",\n  \"full-segmentation\": \"create-polygon\",\n  point: \"create-point\"\n}\n\nexport default ({\n  interface: iface,\n  taskData = [],\n  taskOutput = [],\n  containerProps: { onExit, datasetName } = {},\n  onSaveTaskOutputItem\n}) => {\n  const c = useStyles()\n  const [selectedIndex, changeSelectedIndex] = useState(0)\n\n  const { regionTypesAllowed = [\"bounding-box\"] } = iface\n\n  const isClassification = !Boolean(iface.multipleRegionLabels)\n\n  const labelProps = isClassification\n    ? {\n        regionClsList: iface.availableLabels\n      }\n    : {\n        regionTagList: iface.availableLabels\n      }\n\n  const multipleRegions =\n    iface.multipleRegions || iface.multipleRegions === undefined\n\n  return (\n    <div style={{ height: \"calc(100vh - 70px)\" }}>\n      <Annotator\n        selectedImage={taskData[selectedIndex].src}\n        taskDescription={iface.description}\n        {...labelProps}\n        enabledTools={[\"select\"].concat(\n          regionTypesAllowed.map(rt => regionTypeToTool[rt]).filter(Boolean)\n        )}\n        images={taskData.map((taskDatum, index) =>\n          convertToRIAImageFmt({\n            title: datasetName,\n            taskDatum,\n            output: taskOutput[index],\n            index\n          })\n        )}\n        onExit={output => {\n          const regionMat = (output.images || [])\n            .map(img => img.regions)\n            .map(riaRegions => (riaRegions || []).map(convertFromRIARegionFmt))\n\n          console.log({ regionMat })\n          for (let i = 0; i < regionMat.length; i++) {\n            if (multipleRegions) {\n              onSaveTaskOutputItem(i, regionMat[i])\n            } else {\n              onSaveTaskOutputItem(i, regionMat[i][0])\n            }\n          }\n          if (onExit) onExit()\n        }}\n      />\n    </div>\n  )\n}\n","// @flow weak\n\nimport React, { useState } from \"react\"\nimport getTaskDescription from \"../../utils/get-task-description.js\"\nimport SampleContainer from \"../SampleContainer\"\nimport NLPAnnotator from \"react-nlp-annotate/components/NLPAnnotator\"\n\nexport default props => {\n  const [currentSampleIndex, changeCurrentSampleIndex] = useState(0)\n\n  return (\n    <SampleContainer\n      {...props.containerProps}\n      currentSampleIndex={currentSampleIndex}\n      totalSamples={props.taskData.length}\n      taskOutput={props.taskOutput}\n      description={\n        getTaskDescription(props.taskData[currentSampleIndex]) ||\n        props.interface.description\n      }\n      onChangeSample={sampleIndex => changeCurrentSampleIndex(sampleIndex)}\n    >\n      <NLPAnnotator\n        key={currentSampleIndex}\n        type=\"transcribe\"\n        audio={props.taskData[currentSampleIndex].audioUrl}\n        phraseBank={props.phraseBank}\n        initialTranscriptionText={\n          (props.taskOutput || [])[currentSampleIndex] || \"\"\n        }\n        onFinish={result => {\n          props.onSaveTaskOutputItem(currentSampleIndex, result)\n        }}\n      />\n    </SampleContainer>\n  )\n}\n","import React, { useState } from \"react\"\nimport Survey from \"material-survey/components/Survey\"\nimport getTaskDescription from \"../../utils/get-task-description.js\"\nimport SampleContainer from \"../SampleContainer\"\n\nexport const DataEntry = props => {\n  const [currentSampleIndex, changeCurrentSampleIndex] = useState(0)\n  console.log({ props })\n  return (\n    <SampleContainer\n      {...props.containerProps}\n      currentSampleIndex={currentSampleIndex}\n      totalSamples={props.taskData.length}\n      taskOutput={props.taskOutput}\n      description={\n        getTaskDescription(props.taskData[currentSampleIndex]) ||\n        props.interface.description\n      }\n      onChangeSample={sampleIndex => changeCurrentSampleIndex(sampleIndex)}\n    >\n      <Survey\n        key={currentSampleIndex}\n        variant=\"flat\"\n        form={\n          props.taskData[currentSampleIndex].surveyjs ||\n          props.interface.surveyjs\n        }\n        defaultAnswers={\n          props.taskOutput && props.taskOutput[currentSampleIndex]\n            ? props.taskOutput[currentSampleIndex]\n            : undefined\n        }\n        completeText=\"Save\"\n        onFinish={answers => {\n          props.onSaveTaskOutputItem(currentSampleIndex, answers)\n        }}\n      />\n    </SampleContainer>\n  )\n}\n\nexport default DataEntry\n","// @flow\n\nimport React from \"react\"\nimport Typography from \"@material-ui/core/Typography\"\nimport { makeStyles } from \"@material-ui/core/styles\"\n\nconst useStyles = makeStyles({\n  root: {\n    padding: 50,\n    textAlign: \"center\"\n  },\n  title: {\n    margin: 50\n  },\n  explain: {}\n})\n\nexport default ({ title, description, children }) => {\n  const c = useStyles()\n  return (\n    <div className={c.root}>\n      <Typography variant=\"h3\" component=\"div\" className={c.title}>\n        {title}\n      </Typography>\n      <Typography variant=\"h5\" component=\"div\" className={c.explain}>\n        {description || children}\n      </Typography>\n    </div>\n  )\n}\n","// @flow\n\nimport React from \"react\"\nimport BadOHA from \"../BadOHA\"\n\nexport default () => {\n  return (\n    <BadOHA title=\"No Samples to Show\">\n      Make sure that <code>taskData</code> is defined and not empty.\n      <br />\n      <br />\n      Need help setting up? <a href=\"#\">Check out this tutorial.</a>\n    </BadOHA>\n  )\n}\n","import React from \"react\"\n\nimport RemoveRedEye from \"@material-ui/icons/RemoveRedEye\"\nimport TextFormat from \"@material-ui/icons/TextFormat\"\nimport Edit from \"@material-ui/icons/Edit\"\nimport OndemandVideo from \"@material-ui/icons/OndemandVideo\"\nimport Audiotrack from \"@material-ui/icons/Audiotrack\"\nimport Help from \"@material-ui/icons/Help\"\n\nexport default ({ type, ...props }) => {\n  switch (type) {\n    case \"image_label\":\n    case \"image_segmentation\":\n      return <RemoveRedEye {...props} />\n    case \"audio_transcription\":\n      return <Audiotrack {...props} />\n    case \"data_entry\":\n      return <Edit {...props} />\n    case \"text_entity_recognition\":\n      return <TextFormat {...props} />\n    default:\n      return <Help {...props} />\n  }\n}\n","import React, { useState } from \"react\"\nimport getTaskDescription from \"../../utils/get-task-description.js\"\nimport SampleContainer from \"../SampleContainer\"\nimport UniversalDataViewer from \"../UniversalDataViewer\"\nimport Button from \"@material-ui/core/Button\"\nimport * as colors from \"@material-ui/core/colors\"\nimport { styled } from \"@material-ui/core/styles\"\nimport InterfaceIcon from \"../InterfaceIcon\"\nimport KeyboardArrowRightIcon from \"@material-ui/icons/KeyboardArrowRight\"\nimport Checkbox from \"@material-ui/core/Checkbox\"\nimport Box from \"@material-ui/core/Box\"\n\nconst Title = styled(\"div\")({\n  fontSize: 18,\n  fontWeight: \"bold\",\n  color: colors.grey[700],\n  borderBottom: `1px solid ${colors.grey[300]}`,\n  paddingBottom: 8,\n  marginBottom: 8,\n  paddingLeft: 8\n})\nconst StyledButton = styled(Button)({\n  display: \"flex\",\n  textAlign: \"left\",\n  justifyContent: \"flex-start\",\n  marginTop: 8\n})\n\nexport const Composite = props => {\n  const [currentSampleIndex, changeCurrentSampleIndex] = useState(0)\n  const {\n    interface: { fields }\n  } = props\n  const [selectedField, changeSelectedField] = useState()\n\n  if (selectedField) {\n    return (\n      <UniversalDataViewer\n        onExit={() => changeSelectedField(null)}\n        oha={{\n          interface: selectedField.interface,\n          taskOutput: [\n            props.taskOutput\n              ? (props.taskOutput[currentSampleIndex] || {})[\n                  selectedField.fieldName\n                ]\n              : null\n          ],\n          taskData: [props.taskData[currentSampleIndex]]\n        }}\n        onSaveTaskOutputItem={(indexZero, output) => {\n          props.onSaveTaskOutputItem(currentSampleIndex, {\n            ...(props.taskOutput ? props.taskOutput[currentSampleIndex] : {}),\n            [selectedField.fieldName]: output\n          })\n          changeSelectedField(null)\n        }}\n      />\n    )\n  }\n\n  return (\n    <SampleContainer\n      {...props.containerProps}\n      currentSampleIndex={currentSampleIndex}\n      totalSamples={props.taskData.length}\n      taskOutput={props.taskOutput}\n      description={\n        getTaskDescription(props.taskData[currentSampleIndex]) ||\n        props.interface.description\n      }\n      onChangeSample={sampleIndex => changeCurrentSampleIndex(sampleIndex)}\n    >\n      <Title>Fields</Title>\n      {fields.map((field, index) => (\n        <StyledButton\n          key={field.fieldName}\n          onClick={() => {\n            changeSelectedField({ ...field, index })\n          }}\n          fullWidth\n          variant=\"outlined\"\n        >\n          <InterfaceIcon\n            style={{ color: colors.grey[500], marginRight: 16 }}\n            type={field.interface.type}\n          />\n          {field.fieldName}\n          <Box flexGrow={1} />\n          <Checkbox\n            checked={Boolean(\n              (props.taskOutput\n                ? props.taskOutput[currentSampleIndex] || {}\n                : {})[field.fieldName]\n            )}\n          />\n          <KeyboardArrowRightIcon />\n        </StyledButton>\n      ))}\n    </SampleContainer>\n  )\n}\n\nexport default Composite\n","// @flow\n\nimport React, { useMemo } from \"react\"\nimport TextClassification from \"../TextClassification\"\nimport TextEntityRecognition from \"../TextEntityRecognition\"\nimport ImageSegmentation from \"../ImageSegmentation\"\nimport AudioTranscription from \"../AudioTranscription\"\nimport DataEntry from \"../DataEntry\"\nimport EmptySampleContainer from \"../EmptySampleContainer\"\nimport Composite from \"../Composite\"\nimport BadOHA from \"../BadOHA\"\n\nexport const UniversalDataViewer = ({\n  oha,\n  onExit,\n  hideHeader,\n  hideDescription,\n  datasetName,\n  requireCompleteToPressNext,\n  onSaveTaskOutputItem\n}) => {\n  // TODO type check w/ superstruct against oha\n  const containerProps = useMemo(\n    () => ({\n      hideHeader,\n      hideDescription,\n      datasetName,\n      requireCompleteToPressNext,\n      onExit\n    }),\n    [\n      hideHeader,\n      hideDescription,\n      requireCompleteToPressNext,\n      datasetName,\n      onExit\n    ]\n  )\n\n  if (!oha) {\n    return (\n      <BadOHA\n        title=\"Null OHA\"\n        description=\"Your OHA file isn't defined for some reason.\"\n      />\n    )\n  }\n\n  if (!oha.taskData || oha.taskData.length === 0) {\n    return <EmptySampleContainer />\n  }\n\n  switch (oha.interface.type) {\n    case \"data_entry\":\n      return (\n        <DataEntry\n          containerProps={containerProps}\n          {...oha}\n          onSaveTaskOutputItem={onSaveTaskOutputItem}\n        />\n      )\n    case \"text_classification\":\n      return (\n        <TextClassification\n          containerProps={containerProps}\n          {...oha}\n          onSaveTaskOutputItem={onSaveTaskOutputItem}\n        />\n      )\n    case \"text_entity_recognition\":\n      return (\n        <TextEntityRecognition\n          containerProps={containerProps}\n          {...oha}\n          onSaveTaskOutputItem={onSaveTaskOutputItem}\n        />\n      )\n    case \"image_segmentation\":\n      return (\n        <ImageSegmentation\n          containerProps={containerProps}\n          {...oha}\n          onExit={onExit}\n          onSaveTaskOutputItem={onSaveTaskOutputItem}\n        />\n      )\n    case \"composite\":\n      return (\n        <Composite\n          containerProps={containerProps}\n          {...oha}\n          oha={oha}\n          onSaveTaskOutputItem={onSaveTaskOutputItem}\n        />\n      )\n    case \"audio_transcription\":\n      return (\n        <AudioTranscription\n          containerProps={containerProps}\n          {...oha}\n          onSaveTaskOutputItem={onSaveTaskOutputItem}\n        />\n      )\n    default:\n      return `\"${oha.interface.type}\" not supported`\n  }\n}\n\nexport default UniversalDataViewer\n","// @flow\nimport React, { useState, useEffect } from \"react\"\nimport TextField from \"@material-ui/core/TextField\"\nimport { makeStyles } from \"@material-ui/core/styles\"\n\nconst useStyles = makeStyles({\n  textField: {\n    color: \"#fff\"\n  }\n})\n\nconst SAVE_WAIT = 2000\n\nexport default ({ value, onChange }) => {\n  const c = useStyles()\n  const [{ editing, newValue }, changeEditing] = useState({\n    editing: false\n  })\n\n  useEffect(() => {\n    let listener = e => {\n      if (e.key === \"Enter\") {\n        onChange(newValue)\n        changeEditing({ editing: false })\n      }\n    }\n    window.addEventListener(\"keydown\", listener)\n    return () => {\n      window.removeEventListener(\"keydown\", listener)\n    }\n  }, [editing, newValue])\n\n  useEffect(() => {\n    if (editing) {\n      let timeout = setTimeout(\n        () => {\n          onChange(newValue)\n          changeEditing({ editing: false })\n        },\n        value === newValue ? SAVE_WAIT * 5 : SAVE_WAIT\n      )\n\n      return () => {\n        if (timeout) clearTimeout(timeout)\n      }\n    } else {\n      return () => {}\n    }\n  }, [editing, newValue])\n\n  return editing ? (\n    <TextField\n      autoFocus\n      className={c.textField}\n      InputProps={{\n        inputProps: { style: { color: \"#fff\" } }\n      }}\n      onChange={e => {\n        changeEditing({\n          editing: true,\n          newValue: e.target.value\n        })\n      }}\n      value={newValue}\n    />\n  ) : (\n    <span\n      onClick={() => {\n        if (onChange) {\n          changeEditing({ editing: true, newValue: value })\n        }\n      }}\n    >\n      {value}\n    </span>\n  )\n}\n","// @flow weak\n\nimport React from \"react\"\nimport { styled } from \"@material-ui/core/styles\"\nimport range from \"lodash/range\"\nimport * as colors from \"@material-ui/core/colors\"\n\nconst Container = styled(\"div\")({\n  flexWrap: \"wrap\"\n})\nconst Sample = styled(\"div\")({\n  margin: 4,\n  padding: 4,\n  backgroundColor: colors.grey[300],\n  display: \"inline-flex\",\n  fontSize: 11,\n  textAlign: \"center\",\n  justifyContent: \"center\",\n  minWidth: \"3em\",\n  borderRadius: 3,\n  cursor: \"pointer\",\n  \"&.completed\": {\n    backgroundColor: colors.blue[500],\n    color: \"#fff\"\n  }\n})\n\nexport default ({ count, completed = [], onClick }) => {\n  return (\n    <Container>\n      {range(count).map(i => (\n        <Sample\n          onClick={() => onClick(i)}\n          className={completed[i] ? \"completed\" : \"\"}\n          key={i}\n        >\n          {i}\n        </Sample>\n      ))}\n    </Container>\n  )\n}\n","// @flow\n\nimport React, { useState } from \"react\"\nimport Box from \"@material-ui/core/Box\"\nimport Dialog from \"@material-ui/core/Dialog\"\nimport DialogActions from \"@material-ui/core/DialogActions\"\nimport DialogContent from \"@material-ui/core/DialogContent\"\nimport DialogTitle from \"@material-ui/core/DialogTitle\"\nimport CloseIcon from \"@material-ui/icons/Close\"\nimport FullScreenIcon from \"@material-ui/icons/Fullscreen\"\nimport FullScreenExitIcon from \"@material-ui/icons/FullscreenExit\"\nimport IconButton from \"@material-ui/core/IconButton\"\nimport Button from \"@material-ui/core/Button\"\nimport { grey, blue, red } from \"@material-ui/core/colors\"\nimport ReactMarkdown from \"react-markdown\"\nimport { styled } from \"@material-ui/core/styles\"\n\nconst StyledDialogTitle = styled(DialogTitle)({\n  backgroundColor: grey[100],\n  borderBottom: `1px solid ${grey[300]}`,\n  paddingBottom: 12,\n  boxShadow: \"0px 2px 3px rgba(0,0,0,0.05)\"\n})\nconst StyledDialogContent = styled(DialogContent)({\n  paddingTop: 16\n})\nconst StyledDialogActions = styled(DialogActions)({\n  backgroundColor: grey[100],\n  borderTop: `1px solid ${grey[300]}`\n})\n\nexport default ({\n  open = false,\n  title,\n  children,\n  markdownContent,\n  onClose,\n  red: redOn,\n  noActionBar = false,\n  actions = []\n}) => {\n  const [fullScreen, changeFullScreen] = useState(false)\n  return (\n    <Dialog open={open} onClose={onClose} fullScreen={fullScreen}>\n      <StyledDialogTitle>\n        <Box display=\"flex\" alignItems=\"center\">\n          <span style={{ color: redOn ? red[700] : undefined }}>{title}</span>\n          <div style={{ flexGrow: 1 }} />\n          <IconButton onClick={() => changeFullScreen(!fullScreen)}>\n            {fullScreen ? <FullScreenExitIcon /> : <FullScreenIcon />}\n          </IconButton>\n          <IconButton onClick={onClose}>\n            <CloseIcon />\n          </IconButton>\n        </Box>\n      </StyledDialogTitle>\n      <StyledDialogContent>\n        <Box maxWidth=\"90vw\" minWidth={400} lineHeight={1.5}>\n          {markdownContent ? (\n            <ReactMarkdown source={markdownContent} />\n          ) : (\n            children\n          )}\n        </Box>\n      </StyledDialogContent>\n      {!noActionBar && (\n        <StyledDialogActions>\n          <Button onClick={() => onClose()}>\n            <span style={{ color: grey[700], fontWeight: 500 }}>Close</span>\n          </Button>\n          {actions.map((action, i) => (\n            <Button key={i} onClick={action.onClick}>\n              <span\n                style={{ color: redOn ? red[700] : blue[700], fontWeight: 500 }}\n              >\n                {action.text}\n              </span>\n            </Button>\n          ))}\n        </StyledDialogActions>\n      )}\n    </Dialog>\n  )\n}\n","// @flow weak\nimport React, { useState } from \"react\"\nimport { styled } from \"@material-ui/core/styles\"\nimport SimpleDialog from \"../SimpleDialog\"\n\nconst TextArea = styled(\"textarea\")({\n  width: \"100%\",\n  minHeight: 300\n})\n\nexport default ({ open, onClose, onAddSamples }) => {\n  const [content, changeContent] = useState(\"\")\n  return (\n    <SimpleDialog\n      title=\"Paste Urls\"\n      open={open}\n      onClose={onClose}\n      actions={[\n        {\n          text: \"Add Samples\",\n          onClick: () => {\n            onAddSamples(\n              content\n                .split(\"\\n\")\n                .map(l => l.trim())\n                .filter(Boolean)\n                .map(s => {\n                  const extension = s.split(\".\").slice(-1)[0]\n                  switch (extension.toLowerCase()) {\n                    case \"png\":\n                    case \"jpg\":\n                    case \"gif\":\n                    case \"jpeg\":\n                    case \"bmp\": {\n                      return { imageUrl: s }\n                    }\n                    case \"pdf\": {\n                      return { pdfUrl: s }\n                    }\n                    default: {\n                      // TODO throw error or toast\n                      console.error(\"extension not recognized\")\n                      return null\n                    }\n                  }\n                })\n            )\n          }\n        }\n      ]}\n    >\n      <TextArea\n        onChange={(e, v) => changeContent(e.target.value)}\n        placeholder={\"Paste URLs here\\nOne URL per line\"}\n      />\n    </SimpleDialog>\n  )\n}\n","// @flow\n\nexport default () => {\n  if (window.require) {\n    return Boolean(window.require(\"electron\"))\n  }\n  return false\n}\n","// @flow\n\nexport default () => {\n  if (window.require) {\n    return window.require(\"electron\")\n  }\n  return null\n}\n","// @flow weak\n\nimport React, { useState, useContext, createContext } from \"react\"\nimport MuiButton from \"@material-ui/core/Button\"\nimport { styled } from \"@material-ui/core/styles\"\nimport AssignmentReturnedIcon from \"@material-ui/icons/AssignmentReturned\"\nimport CreateNewFolderIcon from \"@material-ui/icons/CreateNewFolder\"\nimport * as colors from \"@material-ui/core/colors\"\nimport PasteUrlsDialog from \"../PasteUrlsDialog\"\nimport useIsDesktop from \"../../utils/use-is-desktop\"\nimport useElectron from \"../../utils/use-electron\"\nimport classnames from \"classnames\"\n\nconst ButtonBase = styled(MuiButton)({\n  width: 240,\n  height: 140,\n  display: \"inline-flex\",\n  flexDirection: \"column\",\n  \"&.disabled\": {\n    backgroundColor: colors.grey[200]\n  },\n  margin: 8,\n  \"& .icon\": {\n    width: 48,\n    height: 48,\n    color: colors.grey[600],\n    \"&.disabled\": {\n      color: colors.grey[400]\n    }\n  }\n})\n\nconst DesktopOnlyText = styled(\"div\")({\n  fontSize: 11,\n  fontWeight: \"bold\",\n  color: colors.grey[600],\n  \"&.disabled\": {\n    color: colors.grey[500]\n  }\n})\n\nconst SelectDialogContext = createContext()\n\nconst Button = ({ Icon, desktopOnly, isDesktop, children, dialog }) => {\n  const disabled = desktopOnly ? !isDesktop : false\n  return (\n    <SelectDialogContext.Consumer>\n      {({ onChangeDialog }) => {\n        return (\n          <ButtonBase\n            onClick={() => onChangeDialog(dialog)}\n            className={classnames({ disabled })}\n            variant=\"outlined\"\n            disabled={disabled}\n          >\n            <div>\n              <Icon className={classnames(\"icon\", { disabled })} />\n              <div>{children}</div>\n              {desktopOnly && (\n                <DesktopOnlyText className={classnames({ disabled })}>\n                  DESKTOP ONLY\n                </DesktopOnlyText>\n              )}\n            </div>\n          </ButtonBase>\n        )\n      }}\n    </SelectDialogContext.Consumer>\n  )\n}\n\nconst convertToTaskDataObject = fp => {\n  const ext = fp\n    .split(\".\")\n    .slice(-1)[0]\n    .toLowerCase()\n  if ([\"png\", \"jpg\", \"jpeg\"].includes(ext)) {\n    return { imageUrl: `file://${fp}` }\n  }\n  if ([\"pdf\"].includes(ext)) {\n    return { pdfUrl: `file://${fp}` }\n  }\n  return null\n}\n\nexport default ({ oha, onChangeOHA, isDesktop }) => {\n  const [selectedDialog, changeDialog] = useState()\n  const electron = useElectron()\n  const onChangeDialog = async dialog => {\n    switch (dialog) {\n      case \"upload-directory\": {\n        if (!electron) return\n        const {\n          canceled,\n          filePaths: dirPaths\n        } = await electron.remote.dialog.showOpenDialog({\n          title: \"Select Directory to Import Files\",\n          properties: [\"openDirectory\"]\n        })\n        if (canceled) return\n        const dirPath = dirPaths[0]\n        const fs = electron.remote.require(\"fs\")\n        const path = electron.remote.require(\"path\")\n        const importedFilePaths = (await fs.promises.readdir(dirPath))\n          .filter(fn => fn.includes(\".\"))\n          .map(fileName => path.join(dirPath, fileName))\n\n        console.log({\n          importedFilePaths,\n          oha: {\n            ...oha,\n            taskData: (oha.taskData || []).concat(\n              importedFilePaths.map(convertToTaskDataObject).filter(Boolean)\n            )\n          }\n        })\n\n        onChangeOHA(\n          {\n            ...oha,\n            taskData: (oha.taskData || []).concat(\n              importedFilePaths.map(convertToTaskDataObject).filter(Boolean)\n            )\n          },\n          true\n        )\n      }\n      default: {\n        return changeDialog(dialog)\n      }\n    }\n  }\n  const closeDialog = () => changeDialog(null)\n  return (\n    <SelectDialogContext.Provider value={{ onChangeDialog }}>\n      <div>\n        <Button\n          isDesktop={isDesktop}\n          dialog=\"paste-image-urls\"\n          Icon={AssignmentReturnedIcon}\n        >\n          Paste URLs\n        </Button>\n        <Button\n          desktopOnly\n          isDesktop={isDesktop}\n          dialog=\"upload-directory\"\n          Icon={CreateNewFolderIcon}\n        >\n          Files from Directory\n        </Button>\n        <PasteUrlsDialog\n          open={selectedDialog === \"paste-image-urls\"}\n          onClose={closeDialog}\n          onAddSamples={samples => {\n            onChangeOHA(\n              {\n                ...oha,\n                taskData: (oha.taskData || []).concat(samples)\n              },\n              true\n            )\n            closeDialog()\n          }}\n        />\n      </div>\n    </SelectDialogContext.Provider>\n  )\n}\n","// @flow weak\n\nimport React, { useMemo, useState } from \"react\"\nimport DataTable from \"react-data-table-component\"\nimport Button from \"@material-ui/core/Button\"\nimport IconButton from \"@material-ui/core/IconButton\"\nimport EditIcon from \"@material-ui/icons/Edit\"\nimport DeleteIcon from \"@material-ui/icons/Delete\"\nimport BorderColorIcon from \"@material-ui/icons/BorderColor\"\nimport { styled } from \"@material-ui/core/styles\"\nimport Grid from \"@material-ui/core/Grid\"\nimport SampleGrid from \"../SampleGrid\"\nimport Tabs from \"@material-ui/core/Tabs\"\nimport Tab from \"@material-ui/core/Tab\"\nimport AppsIcon from \"@material-ui/icons/Apps\"\nimport TableChartIcon from \"@material-ui/icons/TableChart\"\nimport Box from \"@material-ui/core/Box\"\nimport ImportIcon from \"@material-ui/icons/Publish\"\nimport ImportPage from \"../ImportPage\"\nimport useIsDesktop from \"../../utils/use-is-desktop.js\"\n\nconst Container = styled(\"div\")({\n  padding: 16\n})\n\nconst ExpandedRowContainer = styled(\"div\")({\n  padding: 8,\n  border: \"#888 solid 1px\",\n  borderTop: \"none\",\n  borderRadius: 4,\n  borderTopLeftRadius: 0,\n  borderTopRightRadius: 0,\n  boxShadow: \"inset 0 3px 3px rgba(0,0,0,0.2)\"\n})\nconst ExpandedRowTitle = styled(\"div\")({\n  fontSize: 11,\n  fontWeight: \"bold\"\n})\nconst ExpandedRowCode = styled(\"pre\")({ whiteSpace: \"pre-wrap\", fontSize: 11 })\n\nconst ExpandedRow = ({ data }) => {\n  const { _output, ...input } = data\n\n  return (\n    <ExpandedRowContainer>\n      <Grid spacing={2} container>\n        <Grid item xs={6}>\n          <ExpandedRowTitle>taskData[{data.index}]:</ExpandedRowTitle>\n          <ExpandedRowCode>{JSON.stringify(input, null, \"  \")}</ExpandedRowCode>\n        </Grid>\n        <Grid item xs={6}>\n          <ExpandedRowTitle>taskOutput[{data.index}]:</ExpandedRowTitle>\n          <ExpandedRowCode>\n            {JSON.stringify(_output, null, \"  \")}\n          </ExpandedRowCode>\n        </Grid>\n      </Grid>\n    </ExpandedRowContainer>\n  )\n}\n\nexport default ({\n  oha,\n  openSampleInputEditor,\n  openSampleLabelEditor,\n  deleteSample,\n  onChangeOHA\n}) => {\n  const isDesktop = useIsDesktop()\n  const [currentTab, changeTabState] = useState(\n    window.localStorage.lastSampleTab || \"grid\"\n  )\n  const changeTab = tab => {\n    changeTabState(tab)\n    window.localStorage.lastSampleTab = tab\n  }\n  const columns = useMemo(() => {\n    if (!oha.taskData) return []\n    const columns = [\n      {\n        name: \"Index\",\n        selector: \"index\",\n        sortable: true\n      }\n    ]\n    const knownKeys = new Set()\n    for (const td of oha.taskData) {\n      for (const key in td) {\n        if (!knownKeys.has(key)) {\n          columns.push({\n            name: key,\n            selector: key\n          })\n          knownKeys.add(key)\n        }\n      }\n    }\n    columns.push({\n      name: \"Edit\",\n      button: true,\n      cell: row => (\n        <IconButton\n          raised\n          primary\n          onClick={() => openSampleInputEditor(row.index)}\n        >\n          <EditIcon style={{ width: 20, height: 20 }} />\n        </IconButton>\n      )\n    })\n    columns.push({\n      name: \"Label\",\n      button: true,\n      cell: row => (\n        <IconButton\n          raised\n          primary\n          onClick={() => openSampleLabelEditor(row.index)}\n        >\n          <BorderColorIcon style={{ width: 20, height: 20 }} />\n        </IconButton>\n      )\n    })\n    columns.push({\n      name: \"Delete\",\n      button: true,\n      cell: row => (\n        <IconButton raised primary onClick={() => deleteSample(row.index)}>\n          <DeleteIcon style={{ width: 20, height: 20 }} />\n        </IconButton>\n      )\n    })\n    return columns\n  }, [oha.taskData, oha.taskOutput])\n\n  const data = useMemo(() => {\n    if (!oha.taskData) return []\n    return oha.taskData.map((td, i) => ({\n      ...td,\n      _output: oha.taskOutput && oha.taskOutput[i] ? oha.taskOutput[i] : {},\n      index: i\n    }))\n  }, [oha.taskData, oha.taskOutput])\n  return (\n    <Container>\n      <Tabs value={currentTab} onChange={(e, newTab) => changeTab(newTab)}>\n        <Tab icon={<ImportIcon />} label=\"Import\" value=\"import\" />\n        <Tab icon={<AppsIcon />} label=\"Grid\" value=\"grid\" />\n        <Tab icon={<TableChartIcon />} label=\"Table\" value=\"table\" />\n      </Tabs>\n      <Box paddingTop={2} />\n      {currentTab === \"import\" && (\n        <ImportPage\n          isDesktop={isDesktop}\n          onChangeOHA={(newOHA, shouldViewChange) => {\n            onChangeOHA(newOHA)\n            if (shouldViewChange) {\n              changeTab(\"grid\")\n            }\n          }}\n          oha={oha}\n        />\n      )}\n      {currentTab === \"grid\" && (\n        <SampleGrid\n          count={(oha.taskData || []).length}\n          completed={(oha.taskOutput || []).map(Boolean)}\n          onClick={sampleIndex => {\n            openSampleLabelEditor(sampleIndex)\n          }}\n        />\n      )}\n      {currentTab === \"table\" && (\n        <DataTable\n          title=\"Samples\"\n          expandableRowsComponent={<ExpandedRow />}\n          expandableRows\n          dense\n          columns={columns}\n          data={data}\n        />\n      )}\n    </Container>\n  )\n}\n","// @flow\nimport React, { useMemo } from \"react\"\nimport Survey from \"material-survey/components/Survey\"\nimport { styled } from \"@material-ui/core/styles\"\n\nconst form = {\n  questions: [\n    {\n      name: \"regionTypesAllowed\",\n      title: \"Region Types Allowed\",\n      description: \"What types of regions can be drawn on the image.\",\n      type: \"multiple-dropdown\",\n      choices: [\"bounding-box\", \"polygon\", \"point\"]\n    },\n    {\n      name: \"multipleRegions\",\n      title: \"Can multiple regions be created?\",\n      type: \"boolean\"\n    },\n    {\n      name: \"multipleRegionLabels\",\n      title: \"Multiple Region Labels Allowed?\",\n      type: \"boolean\"\n    },\n    {\n      name: \"availableLabels\",\n      title: \"Available Labels\",\n      description:\n        \"If you're labeling regions on an image, these are the allowed classifications or tags.\",\n      type: \"matrixdynamic\",\n      columns: [\n        { cellType: \"text\", name: \"id\", title: \"id\" },\n        {\n          cellType: \"text\",\n          name: \"description\",\n          title: \"Description (optional)\"\n        }\n      ]\n    }\n  ]\n}\n\nexport default ({ iface, onChange }) => {\n  const defaultAnswers = useMemo(\n    () => ({\n      multipleRegions: Boolean(\n        iface.multipleRegions || iface.multipleRegions === undefined\n      ),\n      multipleRegionLabels: Boolean(iface.multipleRegionLabels),\n      regionTypesAllowed: iface.regionTypesAllowed,\n      availableLabels:\n        (iface.availableLabels || []).map(a =>\n          typeof a === \"string\" ? { id: a, description: a } : a\n        ) || []\n    }),\n    []\n  )\n  return (\n    <Survey\n      noActions\n      variant=\"flat\"\n      defaultAnswers={defaultAnswers}\n      onQuestionChange={(questionId, newValue, answers) => {\n        onChange({ ...iface, [questionId]: newValue })\n      }}\n      form={form}\n    />\n  )\n}\n","// @flow\n\nimport { styled } from \"@material-ui/core/styles\"\n\nexport const PaperContainer = styled(\"div\")({\n  margin: 16,\n  padding: 16,\n  border: \"1px solid #ccc\",\n  borderRadius: 4,\n  boxShadow: \"0px 2px 2px rgba(0,0,0,0.1)\"\n})\n\nexport default PaperContainer\n","// @flow weak\n\nimport React from \"react\"\nimport { styled } from \"@material-ui/core/styles\"\nimport templates from \"../StartingPage/templates\"\nimport Button from \"@material-ui/core/Button\"\nimport Box from \"@material-ui/core/Box\"\nimport * as colors from \"@material-ui/core/colors\"\nimport ConfigureImageSegmentation from \"../ConfigureImageSegmentation\"\nimport PaperContainer from \"../PaperContainer\"\n\nconst NoOptions = styled(\"div\")({\n  fontSize: 18,\n  textAlign: \"center\",\n  fontWeight: \"bold\",\n  color: colors.grey[500],\n  paddingTop: 30,\n  paddingBottom: 50\n})\n\nconst TypeButton = styled(Button)({\n  margin: 8,\n  \"& .icon\": {\n    marginRight: 8,\n    color: \"#888\"\n  },\n  alignItems: \"center\",\n  justifyContent: \"center\",\n  \"&.selected\": {\n    backgroundColor: colors.blue[500],\n    color: \"#fff\",\n    \"& .icon\": {\n      color: \"#fff\"\n    }\n  }\n})\n\nexport const Heading = styled(\"div\")({\n  fontWeight: \"bold\",\n  textTransform: \"uppercase\",\n  fontSize: 12,\n  paddingLeft: 8,\n  marginBottom: 8,\n  marginTop: 16,\n  color: colors.grey[700]\n})\n\nconst SelectType = ({ currentlySelected, onChange }) => {\n  return templates.map(t => (\n    <TypeButton\n      key={t.oha.interface.type}\n      className={currentlySelected === t.oha.interface.type ? \"selected\" : \"\"}\n      variant=\"outlined\"\n      onClick={() => onChange(t.oha.interface.type)}\n    >\n      <t.Icon className=\"icon\" />\n      {t.name}\n    </TypeButton>\n  ))\n}\n\nexport const ConfigureInterface = ({\n  iface = {},\n  onChange,\n  onClickEditJSON\n}) => {\n  return (\n    <PaperContainer>\n      <Heading>Type</Heading>\n      <SelectType\n        currentlySelected={iface.type}\n        onChange={type => {\n          onChange({ ...iface, type })\n        }}\n      />\n      <Heading>Options</Heading>\n      <Box paddingTop={2} />\n      {!iface.type && <NoOptions>Select a Type</NoOptions>}\n      {iface.type === \"image_segmentation\" && (\n        <ConfigureImageSegmentation iface={iface} onChange={onChange} />\n      )}\n      {iface.type === \"composite\" && (\n        <NoOptions>GUI Configuration Not Available</NoOptions>\n      )}\n      {iface.type === \"data_entry\" && (\n        <NoOptions>GUI Configuration Not Available</NoOptions>\n      )}\n      {iface.type === \"audio_transcription\" && (\n        <NoOptions>GUI Configuration Not Available</NoOptions>\n      )}\n      {iface.type === \"text_classification\" && (\n        <NoOptions>GUI Configuration Not Available</NoOptions>\n      )}\n    </PaperContainer>\n  )\n}\n\nexport default ConfigureInterface\n","// @flow weak\n\nimport React from \"react\"\nimport ConfigureInterface, { Heading } from \"../ConfigureInterface\"\nimport PaperContainer from \"../PaperContainer\"\nimport Box from \"@material-ui/core/Box\"\nimport Paper from \"@material-ui/core/Paper\"\nimport MuiButton from \"@material-ui/core/Button\"\nimport { styled } from \"@material-ui/core/styles\"\nimport useIsDesktop from \"../../utils/use-is-desktop\"\n\nconst Button = styled(MuiButton)({\n  margin: 8\n})\n\nexport default ({ oha, onChange, onClickEditJSON, onClickDownloadJSON }) => {\n  const { interface: iface } = oha\n  const isDesktop = useIsDesktop()\n  return (\n    <div>\n      <ConfigureInterface\n        iface={iface}\n        onChange={onChange}\n        onClickEditJSON={onClickEditJSON}\n      />\n      <PaperContainer>\n        <Heading>Advanced</Heading>\n        <Box padding={2}>\n          <Button onClick={onClickEditJSON} variant=\"outlined\">\n            Edit JSON\n          </Button>\n          {!isDesktop && (\n            <Button onClick={onClickDownloadJSON} variant=\"outlined\">\n              Download JSON\n            </Button>\n          )}\n        </Box>\n      </PaperContainer>\n    </div>\n  )\n}\n","// @flow\n\nimport React, { useState, useEffect } from \"react\"\nimport Box from \"@material-ui/core/Box\"\nimport AceEditor from \"react-ace\"\nimport SimpleDialog from \"../SimpleDialog\"\n\nexport default ({ open, sampleIndex, sampleInput, onChange, onClose }) => {\n  const [text, changeText] = useState()\n  const [error, changeError] = useState()\n  useEffect(() => {\n    const newText = JSON.stringify(sampleInput, null, \"  \")\n    if (newText !== text) {\n      changeText(newText)\n      changeError(null)\n    }\n  }, [sampleIndex])\n\n  return (\n    <SimpleDialog\n      open={open}\n      onClose={onClose}\n      title={`taskData[${sampleIndex}]`}\n    >\n      <AceEditor\n        theme=\"github\"\n        mode=\"javascript\"\n        width=\"100%\"\n        value={text}\n        editorProps={{ $blockScrolling: Infinity }}\n        onChange={t => {\n          changeText(t)\n          changeError(null)\n          try {\n            onChange(JSON.parse(t))\n          } catch (e) {\n            changeError(e.toString())\n          }\n        }}\n      />\n      <Box color=\"red\">{error}</Box>\n    </SimpleDialog>\n  )\n}\n","// @flow\n\nimport React, { useState, useEffect } from \"react\"\nimport { makeStyles } from \"@material-ui/core/styles\"\n\nimport Grid from \"@material-ui/core/Grid\"\nimport Button from \"@material-ui/core/Button\"\nimport IconButton from \"@material-ui/core/IconButton\"\nimport Typography from \"@material-ui/core/Typography\"\nimport GithubIcon from \"../Header/GithubIcon.js\"\nimport Header from \"../Header\"\nimport brace from \"brace\"\nimport AceEditor from \"react-ace\"\nimport NextIcon from \"@material-ui/icons/KeyboardArrowRight\"\nimport EditIcon from \"@material-ui/icons/Edit\"\nimport SaveIcon from \"@material-ui/icons/Save\"\nimport defaultOHAObject from \"./default-oha-object\"\nimport UniversalDataViewer from \"../UniversalDataViewer\"\nimport EditableTitleText from \"./EditableTitleText.js\"\nimport SampleDataTable from \"../SampleDataTable\"\nimport InterfacePage from \"../InterfacePage\"\nimport EditSampleDialog from \"../EditSampleDialog\"\nimport SampleGrid from \"../SampleGrid\"\nimport PaperContainer from \"../PaperContainer\"\nimport useElectron from \"../../utils/use-electron\"\nimport download from \"downloadjs\"\n\nimport \"brace/mode/javascript\"\nimport \"brace/theme/github\"\n\nconst useStyles = makeStyles({\n  headerButton: {\n    color: \"#fff\"\n  },\n  saveIcon: {\n    marginRight: 4\n  },\n  editIcon: {\n    marginLeft: 4\n  }\n})\n\nexport default ({\n  datasetName = \"Universal Data Tool\",\n  oha,\n  content,\n  fileName = \"unnamed\",\n  onChangeFileName,\n  onChangeContent = () => null,\n  onChangeOHA = () => null,\n  onFileDrop,\n  initialMode = \"settings\" //= \"samples\"\n}) => {\n  const c = useStyles()\n  const [mode, changeMode] = useState(initialMode)\n  const [singleSampleOHA, changeSingleSampleOHA] = useState()\n  const [sampleInputEditor, changeSampleInputEditor] = useState({})\n  const [jsonText, changeJSONText] = useState(\n    JSON.stringify(content || oha || defaultOHAObject, null, \"  \")\n  )\n  const { remote, ipcRenderer } = useElectron() || {}\n\n  useEffect(() => {\n    if (!ipcRenderer) return\n    const onOpenSettingsPage = () => changeMode(\"settings\")\n    const onOpenSamplesPage = () => changeMode(\"samples\")\n    const onOpenLabelPage = () => changeMode(\"label\")\n    ipcRenderer.on(\"open-settings-page\", onOpenSettingsPage)\n    ipcRenderer.on(\"open-samples-page\", onOpenSamplesPage)\n    ipcRenderer.on(\"open-label-page\", onOpenLabelPage)\n    return () => {\n      ipcRenderer.removeListener(\"open-settings-page\", onOpenSettingsPage)\n      ipcRenderer.removeListener(\"open-samples-page\", onOpenSamplesPage)\n      ipcRenderer.removeListener(\"open-label-page\", onOpenLabelPage)\n    }\n  }, [])\n\n  useEffect(() => {\n    onChangeContent(jsonText)\n    try {\n      // schema validation etc.\n      onChangeOHA(JSON.parse(jsonText))\n    } catch (e) {}\n  }, [jsonText])\n\n  return (\n    <div>\n      <Header\n        title={\n          <EditableTitleText onChange={onChangeFileName} value={fileName} />\n        }\n        onChangeTab={tab => changeMode(tab.toLowerCase())}\n        currentTab={mode}\n        tabs={[\"Settings\", \"Samples\", \"Label\"]}\n      />\n      <div>\n        {mode === \"json\" && (\n          <AceEditor\n            theme=\"github\"\n            mode=\"javascript\"\n            width=\"100%\"\n            value={jsonText || \"\"}\n            editorProps={{ $blockScrolling: Infinity }}\n            onChange={t => changeJSONText(t)}\n          />\n        )}\n        {mode === \"settings\" && (\n          <InterfacePage\n            onClickEditJSON={() => changeMode(\"json\")}\n            onClickDownloadJSON={() => {\n              download(\n                jsonText,\n                fileName.includes(\".\") ? fileName : fileName + \".udt.json\"\n              )\n            }}\n            oha={oha}\n            onChange={iface => {\n              changeJSONText(\n                JSON.stringify(\n                  {\n                    ...oha,\n                    interface: iface\n                  },\n                  null,\n                  \"  \"\n                )\n              )\n            }}\n          />\n        )}\n        {mode === \"samples\" && (\n          <SampleDataTable\n            oha={oha}\n            openSampleLabelEditor={sampleIndex => {\n              changeSingleSampleOHA({\n                ...oha,\n                taskData: [oha.taskData[sampleIndex]],\n                taskOutput: [(oha.taskOutput || [])[sampleIndex]],\n                sampleIndex\n              })\n              changeMode(\"label\")\n            }}\n            openSampleInputEditor={sampleIndex => {\n              changeSampleInputEditor({ open: true, sampleIndex })\n            }}\n            deleteSample={sampleIndex => {\n              const newTaskData = [...oha.taskData]\n              const newTaskOutput = oha.taskOutput\n                ? [...oha.taskOutput]\n                : undefined\n              newTaskData.splice(sampleIndex, 1)\n              if (newTaskOutput) {\n                newTaskOutput.splice(sampleIndex, 1)\n              }\n              changeJSONText(\n                JSON.stringify(\n                  {\n                    ...oha,\n                    taskData: newTaskData,\n                    taskOutput: newTaskOutput\n                  },\n                  null,\n                  \"  \"\n                )\n              )\n            }}\n            onChangeOHA={newOHA => {\n              changeJSONText(JSON.stringify(newOHA, null, \"  \"))\n            }}\n          />\n        )}\n        {mode === \"label\" && singleSampleOHA ? (\n          <UniversalDataViewer\n            datasetName={`Sample ${singleSampleOHA.sampleIndex}`}\n            onSaveTaskOutputItem={(relativeIndex, output) => {\n              const newOHA = { ...oha }\n              if (!newOHA.taskOutput)\n                newOHA.taskOutput = newOHA.taskData.map(td => null)\n              newOHA.taskOutput[singleSampleOHA.sampleIndex] = output\n              changeJSONText(JSON.stringify(newOHA, null, \"  \"))\n              changeSingleSampleOHA(null)\n            }}\n            oha={singleSampleOHA}\n          />\n        ) : (\n          mode === \"label\" && (\n            <PaperContainer>\n              <SampleGrid\n                count={(oha.taskData || []).length}\n                completed={(oha.taskOutput || []).map(Boolean)}\n                onClick={sampleIndex => {\n                  changeSingleSampleOHA({\n                    ...oha,\n                    taskData: [oha.taskData[sampleIndex]],\n                    taskOutput: [(oha.taskOutput || [])[sampleIndex]],\n                    sampleIndex\n                  })\n                }}\n              />\n            </PaperContainer>\n          )\n        )}\n      </div>\n      <EditSampleDialog\n        {...sampleInputEditor}\n        sampleInput={\n          sampleInputEditor.sampleIndex !== undefined\n            ? oha.taskData[sampleInputEditor.sampleIndex]\n            : null\n        }\n        onClose={() => {\n          changeSampleInputEditor({ open: false })\n        }}\n        onChange={newInput => {\n          const newOHA = { ...oha, taskData: [...oha.taskData] }\n          newOHA.taskData[sampleInputEditor.sampleIndex] = newInput\n          changeJSONText(JSON.stringify(newOHA, null, \"  \"))\n        }}\n      />\n    </div>\n  )\n}\n","// @flow\nimport React from \"react\"\nimport { makeStyles } from \"@material-ui/core/styles\"\nimport { red } from \"@material-ui/core/colors\"\nimport Collapse from \"@material-ui/core/Collapse\"\nimport Fade from \"@material-ui/core/Fade\"\n\nconst useStyles = makeStyles({\n  root: {\n    position: \"fixed\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    bottom: 0,\n    left: 0,\n    right: 0,\n    alignItems: \"center\",\n    pointerEvents: \"none\"\n  },\n  errorBox: {\n    display: \"flex\",\n    backgroundColor: red[700],\n    color: \"#fff\",\n    padding: 4,\n    marginBottom: 4\n  }\n})\n\nexport default ({ errors }) => {\n  const c = useStyles()\n  return (\n    <div className={c.root}>\n      {errors.map(err => (\n        <Collapse key={err.id} in={err.life < 5000}>\n          <Fade in={err.life > 500}>\n            <div className={c.errorBox}>{err.message}</div>\n          </Fade>\n        </Collapse>\n      ))}\n    </div>\n  )\n}\n","// @flow\n\nimport { useState, useEffect } from \"react\"\n\nconst REFRESH_INTERVAL = 100\n\nexport default () => {\n  const [errors, changeErrors] = useState([])\n  useEffect(() => {\n    if (errors.length === 0) return () => {}\n    let interval = setInterval(() => {\n      changeErrors(\n        errors\n          .map(err => ({\n            ...err,\n            life: err.life - REFRESH_INTERVAL\n          }))\n          .filter(err => err.life > 0)\n      )\n    }, REFRESH_INTERVAL)\n    return () => clearInterval(interval)\n  }, [errors])\n\n  function addError(message: string) {\n    changeErrors(\n      errors.concat([\n        {\n          id: Math.random()\n            .toString()\n            .split(\".\")[1],\n          message,\n          life: 5000\n        }\n      ])\n    )\n  }\n\n  return [errors, addError]\n}\n","// @flow\n\nimport { useState } from \"react\"\n\nexport default (key: string, defaultValue: Object) => {\n  const [state, changeState] = useState(() => {\n    try {\n      return JSON.parse(window.localStorage.getItem(key))\n    } catch (e) {\n      return defaultValue\n    }\n  })\n\n  const changeValue = newValue => {\n    window.localStorage.setItem(key, JSON.stringify(newValue))\n    changeState(newValue)\n  }\n\n  return [state, changeValue]\n}\n","// @flow\nimport React, { useState, useMemo } from \"react\"\nimport { HeaderContext } from \"../Header\"\nimport StartingPage from \"../StartingPage\"\nimport OHAEditor from \"../OHAEditor\"\nimport { makeStyles } from \"@material-ui/core/styles\"\nimport ErrorToasts from \"../ErrorToasts\"\nimport useErrors from \"../../utils/use-errors.js\"\nimport useLocalStorage from \"../../utils/use-local-storage.js\"\n\nconst useStyles = makeStyles({\n  empty: {\n    textAlign: \"center\",\n    padding: 100,\n    color: \"#666\",\n    fontSize: 28\n  }\n})\n\nexport default () => {\n  const c = useStyles()\n  const [pageName, changePageName] = useState(\"welcome\")\n  const [currentFile, changeCurrentFile] = useState()\n  const [oha, changeOHA] = useState()\n  const [errors, addError] = useErrors()\n  let [recentItems, changeRecentItems] = useLocalStorage(\"recentItems\", [])\n  if (!recentItems) recentItems = []\n\n  const onCreateTemplate = useMemo(\n    () => template => {\n      changeCurrentFile({\n        fileName: \"unnamed\",\n        content: template.oha,\n        id: Math.random()\n          .toString()\n          .split(\".\")[1]\n      })\n      changeOHA(template.oha)\n      changePageName(\"edit\")\n    },\n    []\n  )\n\n  const openRecentItem = useMemo(() => item => {\n    changeCurrentFile(item)\n    try {\n      changeOHA(JSON.parse(item.content))\n    } catch (e) {\n      addError(\"Couldn't parse content into JSON\")\n    }\n    changePageName(\"edit\")\n  })\n\n  const onClickHome = useMemo(\n    () => () => {\n      changePageName(\"welcome\")\n    },\n    []\n  )\n\n  const handleOpenFile = useMemo(\n    () => file => {\n      const fileName = file.name\n      const reader = new FileReader()\n      reader.onload = e => {\n        const content = e.target.result\n        try {\n          const oha = JSON.parse(content)\n          // TODO validate OHA and prompt to open anyway if invalid\n          changeCurrentFile({\n            fileName,\n            content: oha,\n            id: Math.random()\n              .toString()\n              .split(\".\")[1]\n          })\n          changeOHA(oha)\n          changePageName(\"edit\")\n        } catch (e) {\n          console.log(e.toString())\n          addError(`Could not read file \"${file.name}\"`)\n        }\n      }\n      reader.readAsText(file)\n    },\n    []\n  )\n\n  return (\n    <>\n      <HeaderContext.Provider\n        value={{\n          recentItems,\n          onClickTemplate: onCreateTemplate,\n          onClickHome,\n          onOpenFile: handleOpenFile,\n          onOpenRecentItem: openRecentItem\n        }}\n      >\n        {pageName === \"welcome\" ? (\n          <StartingPage\n            onFileDrop={handleOpenFile}\n            onOpenTemplate={onCreateTemplate}\n          />\n        ) : pageName === \"edit\" && currentFile ? (\n          <OHAEditor\n            key={currentFile.id}\n            {...currentFile}\n            oha={oha}\n            onChangeFileName={newName => {\n              changeCurrentFile({ ...currentFile, fileName: newName })\n            }}\n            onChangeContent={newContent => {\n              const newFile = { ...currentFile, content: newContent }\n              changeCurrentFile(newFile)\n              if (recentItems.map(item => item.id).includes(newFile.id)) {\n                changeRecentItems(\n                  recentItems.map(ri => (ri.id === newFile.id ? newFile : ri))\n                )\n              } else {\n                changeRecentItems([newFile].concat(recentItems).slice(0, 3))\n              }\n            }}\n            onChangeOHA={changeOHA}\n          />\n        ) : (\n          <div className={c.empty}>Unknown Page \"{pageName}\"</div>\n        )}\n      </HeaderContext.Provider>\n      <ErrorToasts errors={errors} />\n    </>\n  )\n}\n","// @flow\nimport React, { createContext, useContext, useState, useEffect } from \"react\"\nimport { makeStyles } from \"@material-ui/core/styles\"\nimport { green } from \"@material-ui/core/colors\"\nimport Collapse from \"@material-ui/core/Collapse\"\nimport Fade from \"@material-ui/core/Fade\"\n\nconst useStyles = makeStyles({\n  root: {\n    position: \"fixed\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    bottom: 0,\n    left: 0,\n    right: 0,\n    alignItems: \"center\",\n    pointerEvents: \"none\"\n  },\n  msgBox: {\n    display: \"flex\",\n    backgroundColor: green[700],\n    color: \"#fff\",\n    padding: 4,\n    marginBottom: 4\n  }\n})\n\nconst REFRESH_INTERVAL = 100\n\nconst ToastContext = createContext()\n\nexport const useToasts = () => {\n  const { addToast } = useContext(ToastContext)\n\n  return { addToast }\n}\n\nexport const ToastProvider = ({ children }) => {\n  const [toasts, changeToasts] = useState([])\n\n  useEffect(() => {\n    if (toasts.length === 0) return () => {}\n    let interval = setInterval(() => {\n      changeToasts(\n        toasts\n          .map(msg => ({\n            ...msg,\n            life: msg.life - REFRESH_INTERVAL\n          }))\n          .filter(msg => msg.life > 0)\n      )\n    }, REFRESH_INTERVAL)\n    return () => clearInterval(interval)\n  }, [toasts])\n\n  function addToast(message: string) {\n    changeToasts(\n      toasts.concat([\n        {\n          id: Math.random()\n            .toString()\n            .split(\".\")[1],\n          message,\n          life: 2000\n        }\n      ])\n    )\n  }\n  return (\n    <ToastContext.Provider value={{ toasts, addToast }}>\n      {children}\n    </ToastContext.Provider>\n  )\n}\n\nexport default () => {\n  const c = useStyles()\n  const { toasts } = useContext(ToastContext)\n  return (\n    <div className={c.root}>\n      {toasts.map(msg => (\n        <Collapse key={msg.id} in={msg.life < 5000}>\n          <Fade in={msg.life > 500}>\n            <div className={c.msgBox}>{msg.message}</div>\n          </Fade>\n        </Collapse>\n      ))}\n    </div>\n  )\n}\n","// @flow\nimport React, { useState, useMemo, useEffect } from \"react\"\nimport { HeaderContext } from \"../Header\"\nimport StartingPage from \"../StartingPage\"\nimport OHAEditor from \"../OHAEditor\"\nimport { makeStyles } from \"@material-ui/core/styles\"\nimport ErrorToasts from \"../ErrorToasts\"\nimport Toasts, { useToasts } from \"../Toasts\"\nimport useErrors from \"../../utils/use-errors.js\"\nimport useLocalStorage from \"../../utils/use-local-storage.js\"\nimport useElectron from \"../../utils/use-electron.js\"\nimport templates from \"../StartingPage/templates\"\n\nconst useStyles = makeStyles({\n  empty: {\n    textAlign: \"center\",\n    padding: 100,\n    color: \"#666\",\n    fontSize: 28\n  }\n})\n\nexport default () => {\n  const c = useStyles()\n  const [pageName, changePageName] = useState(\"welcome\")\n  const [currentFile, changeCurrentFile] = useState()\n  const [oha, changeOHA] = useState()\n  const [errors, addError] = useErrors()\n  let [recentItems, changeRecentItems] = useLocalStorage(\"recentItems\", [])\n  const { addToast } = useToasts()\n  if (!recentItems) recentItems = []\n  const { remote, ipcRenderer } = useElectron()\n\n  const onCreateTemplate = useMemo(\n    () => template => {\n      changeCurrentFile({\n        fileName: \"unnamed\",\n        content: template.oha,\n        id: Math.random()\n          .toString()\n          .split(\".\")[1]\n      })\n      changeOHA(template.oha)\n      changePageName(\"edit\")\n    },\n    []\n  )\n\n  useEffect(() => {\n    const onOpenWelcomePage = () => changePageName(\"welcome\")\n    const onOpenSettingsPage = () => changePageName(\"edit\")\n    const onOpenSamplesPage = () => changePageName(\"edit\")\n    const onOpenLabelPage = () => changePageName(\"edit\")\n    const onNewFile = (e, data) => {\n      if (data.templateName) {\n        onCreateTemplate(\n          templates.find(template => template.name === data.templateName)\n        )\n      } else {\n        changeCurrentFile({\n          fileName: \"unnamed\",\n          content: {},\n          id: Math.random()\n            .toString()\n            .split(\".\")[1]\n        })\n        changeOHA({})\n        changePageName(\"edit\")\n      }\n    }\n    const onOpenFile = (e, data) => {\n      try {\n        const oha = JSON.parse(data.content)\n        changeCurrentFile({\n          ...data,\n          content: oha\n        })\n        changeOHA(oha)\n        changePageName(\"edit\")\n      } catch (e) {\n        addError(e.toString())\n      }\n    }\n    const onSaveFile = async (e, data) => {\n      let filePath = currentFile.filePath\n      if (!currentFile.filePath) {\n        const {\n          cancelled,\n          filePath: newFilePath\n        } = await remote.dialog.showSaveDialog()\n        filePath = newFilePath\n        if (cancelled || !filePath) {\n          addError(\"Could not save\")\n          return\n        }\n        changeCurrentFile({ ...currentFile, filePath })\n      }\n      await remote\n        .require(\"fs\")\n        .promises.writeFile(filePath, JSON.stringify(oha, null, \"  \"))\n      addToast(\"File Saved!\")\n    }\n    ipcRenderer.on(\"open-welcome-page\", onOpenWelcomePage)\n    ipcRenderer.on(\"open-settings-page\", onOpenSettingsPage)\n    ipcRenderer.on(\"open-samples-page\", onOpenSamplesPage)\n    ipcRenderer.on(\"open-label-page\", onOpenLabelPage)\n    ipcRenderer.on(\"new-file\", onNewFile)\n    ipcRenderer.on(\"open-file\", onOpenFile)\n    ipcRenderer.on(\"save-file\", onSaveFile)\n    return () => {\n      ipcRenderer.removeListener(\"open-welcome-page\", onOpenWelcomePage)\n      ipcRenderer.removeListener(\"open-settings-page\", onOpenWelcomePage)\n      ipcRenderer.removeListener(\"open-samples-page\", onOpenWelcomePage)\n      ipcRenderer.removeListener(\"open-label-page\", onOpenWelcomePage)\n      ipcRenderer.removeListener(\"new-file\", onNewFile)\n      ipcRenderer.removeListener(\"open-file\", onOpenFile)\n      ipcRenderer.removeListener(\"save-file\", onSaveFile)\n    }\n  }, [currentFile])\n\n  const openRecentItem = useMemo(() => item => {\n    changeCurrentFile(item)\n    try {\n      changeOHA(JSON.parse(item.content))\n    } catch (e) {\n      addError(\"Couldn't parse content into JSON\")\n    }\n    changePageName(\"edit\")\n  })\n\n  const onClickHome = useMemo(() => () => changePageName(\"welcome\"), [])\n\n  const handleOpenFile = useMemo(\n    () => file => {\n      const { name: fileName, path: filePath } = file\n      const reader = new FileReader()\n      reader.onload = e => {\n        const content = e.target.result\n        try {\n          const oha = JSON.parse(content)\n          // TODO validate OHA and prompt to open anyway if invalid\n          changeCurrentFile({\n            fileName,\n            filePath,\n            content: oha,\n            id: filePath\n          })\n          changeOHA(oha)\n          changePageName(\"edit\")\n        } catch (e) {\n          console.log(e.toString())\n          addError(`Could not read file \"${file.name}\"`)\n        }\n      }\n      reader.readAsText(file)\n    },\n    []\n  )\n\n  return (\n    <>\n      <HeaderContext.Provider\n        value={{\n          recentItems,\n          onClickTemplate: onCreateTemplate,\n          onClickHome,\n          onOpenRecentItem: openRecentItem,\n          isDesktop: true\n        }}\n      >\n        {pageName === \"welcome\" ? (\n          <StartingPage\n            showDownloadLink={false}\n            onFileDrop={handleOpenFile}\n            onOpenTemplate={onCreateTemplate}\n          />\n        ) : pageName === \"edit\" && currentFile ? (\n          <OHAEditor\n            key={currentFile.id}\n            {...currentFile}\n            oha={oha}\n            onChangeFileName={newName => {\n              changeCurrentFile({ ...currentFile, fileName: newName })\n            }}\n            onChangeContent={newContent => {\n              const newFile = { ...currentFile, content: newContent }\n              changeCurrentFile(newFile)\n              if (recentItems.map(item => item.id).includes(newFile.id)) {\n                changeRecentItems(\n                  recentItems.map(ri => (ri.id === newFile.id ? newFile : ri))\n                )\n              } else {\n                changeRecentItems([newFile].concat(recentItems).slice(0, 3))\n              }\n            }}\n            onChangeOHA={changeOHA}\n          />\n        ) : (\n          <div className={c.empty}>Unknown Page \"{pageName}\"</div>\n        )}\n      </HeaderContext.Provider>\n      <ErrorToasts errors={errors} />\n      <Toasts />\n    </>\n  )\n}\n","import React from \"react\"\nimport Theme from \"./components/Theme\"\nimport LocalStorageApp from \"./components/LocalStorageApp\"\nimport DesktopApp from \"./components/DesktopApp\"\nimport { ToastProvider } from \"./components/Toasts\"\nimport useElectron from \"./utils/use-electron.js\"\n\nexport const App = () => {\n  const electron = useElectron()\n  return (\n    <Theme>\n      <ToastProvider>\n        {Boolean(electron) ? <DesktopApp /> : <LocalStorageApp />}\n      </ToastProvider>\n    </Theme>\n  )\n}\n\nexport default App\n","import React from \"react\"\nimport ReactDOM from \"react-dom\"\nimport App from \"./App\"\n\nReactDOM.render(<App />, document.getElementById(\"root\"))\n"],"sourceRoot":""}