(this["webpackJsonpuniversal-data-tool"]=this["webpackJsonpuniversal-data-tool"]||[]).push([[0],{182:function(e){e.exports=JSON.parse('{"name":"universal-data-tool","version":"0.5.2","license":"MIT","main":"desktop/main.js","homepage":"https://universaldatatool.com","scripts":{"postinstall":"electron-builder install-app-deps","start":"cross-env PORT=6001 react-scripts start","build":"npm run build:babel && npm run build:desktop","build:babel":"cross-env NODE_ENV=production babel ./src --out-dir=./lib && cp ./package.json ./lib/package.json","build:web":"react-scripts build","build:desktop":"cross-env REACT_APP_DESKTOP=true PUBLIC_URL=./ react-scripts build && electron-builder build && cp ./desktop/entitlements.mac.plist ./build/entitlements.mac.plist","start:desktop:dev":"USE_DEV_SERVER=yes electron ./desktop","start:desktop":"electron ./desktop","release:lib":"npm run build && cd lib && npm publish","release:desktop":"npm run build:desktop && electron-builder --mac --windows --linux --publish always","release":"npm run release:desktop","test":"react-scripts test","storybook":"start-storybook -p 6002 -s public","build-storybook":"build-storybook -s public","gh-pages":"npm run build:web && cp ./CNAME ./build/CNAME && gh-pages -d build"},"eslintConfig":{"extends":"react-app"},"browserslist":{"production":[">0.2%","not dead","not op_mini all"],"development":["last 1 chrome version","last 1 firefox version","last 1 safari version"]},"devDependencies":{"@babel/cli":"^7.5.0","@babel/core":"^7.5.4","@material-ui/core":"^4.9.5","@material-ui/icons":"^4.9.1","@storybook/addon-actions":"^5.3.14","@storybook/addon-links":"^5.3.14","@storybook/addons":"^5.3.14","@storybook/react":"^5.3.14","chroma-js":"^2.0.4","cross-env":"^7.0.0","electron":"^8.0.0","electron-builder":"^22.3.2","electron-builder-notarize":"^1.1.2","gh-pages":"^2.1.1","material-survey":"^1.0.32","react":"^16.8.6","react-dom":"^16.8.6","react-markdown":"^4.1.0","react-nlp-annotate":"^0.1.21","react-scripts":"^3.4.1","spelling":"^2.0.1"},"dependencies":{"@material-ui/styles":"^4.9.0","any-shell-escape":"^0.1.1","bent":"^7.1.0","brace":"^0.11.1","download-file":"^0.1.5","duration":"^0.2.2","fast-json-patch":"^3.0.0-1","ffmpeg-static":"^4.0.1","in-browser-download":"^2.0.0","jac-format":"^1.0.7","js-md5":"^0.7.3","moment":"^2.24.0","posthog-js":"^1.0.4","react-ace":"^7.0.4","react-data-table-component":"^6.2.2","react-dropzone":"^10.1.8","react-icons":"^3.9.0","react-image-annotate":"^0.2.4","react-select":"^3.0.8","rfc6902":"^3.0.4","seamless-immutable":"^7.1.4","styled-components":"^5.0.0","use-event-callback":"^0.1.0"},"build":{"appId":"com.universaldatatool","productName":"Universal Data Tool","afterSign":"electron-builder-notarize","mac":{"category":"public.app-category.developer-tools","hardenedRuntime":true},"dmg":{"icon":false},"linux":{"target":["AppImage"],"category":"Development"},"extends":null,"files":["**/*","build/"]}}')},414:function(e,t,a){e.exports=a(722)},419:function(e,t,a){},722:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),i=a(25),c=a.n(i),r=a(766),l=a(337),s=a.n(l),p=a(768),u=(a(419),a(117)),m=Object(r.a)({container:{fontFamily:'"Inter", sans-serif'}}),d=s()({palette:{primary:u.a,secondary:u.a},typography:{fontFamily:'"Inter", "Roboto", sans-serif',button:{textTransform:"none"}}}),h=function(e){var t=e.children,a=m();return o.a.createElement(p.a,{theme:d},o.a.createElement("div",{className:a.container},t))},b=a(22),g=a(26),f=a.n(g),x=a(38),v=a(11),y=a(780),j=a(54),_=a(775),O=a(776),k=a(791),E=a(777),w=a(183),C=a.n(w),S=a(339),I=a.n(S),D=a(184),T=a.n(D),N=a(235),A=a.n(N),L=a(793),B=a(392),R=a(338),P=a.n(R),U=a(96),F=a.n(U),M=a(390),z=a(112),W=a(115),q=a(268),H=a(330),V=a(774),J=a(234),K=a.n(J),G=a(141),Y=a.n(G),Q=a(269),X=a(128),Z=a.n(X),$=function(){return window.require?window.require("electron"):null};window.posthogInitialized=!1;var ee=function(){var e=Boolean($());if(!window.posthogInitialized){Z.a.init("dSrx1PbFd02XsxlLd7qNbeTxKZwwao2sclVmapyYlT4",{api_host:"https://posthog.universaldatatool.com",autocapture:!1});var t=e?"desktop":window.location.origin;Z.a.capture("domain",{domain:t}),Z.a.capture("is_desktop",{isDesktop:e}),Z.a.people.set({is_desktop:e,domain:t}),window.posthogInitialized=!0}return Z.a},te=Object(M.a)("div")({position:"relative",marginLeft:8}),ae=z.a[500],ne={bottom:"100%",left:"25%",border:"solid transparent",content:'" "',height:0,width:0,position:"absolute",pointerEvents:"none"},oe=Object(M.a)("div")({position:"absolute",top:45,padding:16,boxSizing:"border-box",borderRadius:4,left:-53,backgroundColor:"#fff",border:"1px solid ".concat(ae),width:300,minHeight:200,boxShadow:"0px 3px 12px rgba(0,0,0,0.3)","&:before":Object(b.a)({},ne,{borderColor:"rgba(0,0,0, 0)",borderBottomColor:ae,borderWidth:12,marginLeft:-12}),"&:after":Object(b.a)({},ne,{borderColor:"rgba(255,255,255, 0)",borderBottomColor:"#fff",borderWidth:10,marginLeft:-10}),"& h1":{fontSize:18,marginTop:0,color:u.a[800]},"& h2":{fontSize:14,color:z.a[800]},opacity:1,transition:"opacity 200ms linear, transform 200ms ease","&.hidden":{opacity:0,transform:"translate(0, 10px)",pointerEvents:"none"}}),ie=Object(M.a)(q.a)({marginTop:16,justifyContent:"flex-start",color:u.a[500],"& .icon":{marginRight:8,opacity:.7}}),ce=Object(M.a)(q.a)({marginTop:16,justifyContent:"flex-start","& .icon":{marginRight:8,opacity:.7,color:W.a[500]}}),re=function(e){var t=e.fileOpen,a=void 0!==t&&t,i=e.inSession,c=void 0!==i&&i,r=e.onJoinSession,l=e.onCreateSession,s=e.onLeaveSession,p=e.sessionBoxOpen,m=e.changeSessionBoxOpen,d=Object(n.useState)(!1),h=Object(v.a)(d,2),b=h[0],g=h[1],f=Object(n.useState)(""),x=Object(v.a)(f,2),y=x[0],j=x[1],_=Object(L.a)("userName","anonymous"),O=Object(v.a)(_,2),k=O[0],E=O[1],w=ee();return Object(n.useEffect)((function(){b&&setTimeout((function(){g(!1)}),1e4)}),[b]),o.a.createElement(te,{onMouseEnter:function(){return m(!0)},onMouseLeave:function(){return m(!1)}},o.a.createElement(B.a,{style:{color:c?u.a[500]:void 0}},o.a.createElement(P.a,null)),o.a.createElement(oe,{className:p?"":"hidden"},o.a.createElement("h1",null,"Collaborate"),c?o.a.createElement(o.a.Fragment,null,o.a.createElement(H.a,{style:{marginTop:12},variant:"outlined",label:"User Name",value:k,onChange:function(e){return E(e.target.value)}}),o.a.createElement(ce,{fullWidth:!0,onClick:s},o.a.createElement(Y.a,{className:"icon"}),"Leave Session")):o.a.createElement(o.a.Fragment,null,o.a.createElement("h2",null,"Join a Session"),o.a.createElement(H.a,{variant:"outlined",label:"URL to Session",value:y,onChange:function(e){return j(e.target.value)},InputProps:{endAdornment:o.a.createElement(V.a,{position:"end"},o.a.createElement(B.a,{color:"primary",onClick:function(){w.capture("join_collaborative_session"),r(y)},disabled:!y},o.a.createElement(F.a,null)))}}),o.a.createElement(ie,{fullWidth:!0,onClick:function(){w.capture("create_collaborative_session"),l(),g(!0)},disabled:!a||b},b?o.a.createElement(Q.a,{className:"icon",size:24}):o.a.createElement(K.a,{className:"icon"}),"Create New Session"))))},le=a(181),se=a.n(le),pe=a(118),ue=z.a[500],me={bottom:"100%",left:"25%",border:"solid transparent",content:'" "',height:0,width:0,position:"absolute",pointerEvents:"none"},de=Object(M.a)("div")({position:"absolute",top:45,padding:16,boxSizing:"border-box",borderRadius:4,left:-53,backgroundColor:"#fff",border:"1px solid ".concat(ue),width:300,minHeight:200,boxShadow:"0px 3px 12px rgba(0,0,0,0.3)","&:before":Object(b.a)({},me,{borderColor:"rgba(0,0,0, 0)",borderBottomColor:ue,borderWidth:12,marginLeft:-12}),"&:after":Object(b.a)({},me,{borderColor:"rgba(255,255,255, 0)",borderBottomColor:"#fff",borderWidth:10,marginLeft:-10}),"& h1":{fontSize:18,marginTop:0,color:u.a[800]},"& h2":{fontSize:14,color:z.a[800]},opacity:1,transition:"opacity 200ms linear, transform 200ms ease","&.hidden":{opacity:0,transform:"translate(0, 10px)",pointerEvents:"none"}}),he=function(e){var t=e.open,a=e.children;return(o.a.createElement(de,{className:t?"":"hidden"},a))},be=Object(M.a)("div")({position:"relative"}),ge=Object(M.a)(q.a)({justifyContent:"flex-start","& .fakeicon":{display:"inline",marginRight:8,padding:4,paddingTop:5,fontSize:11,fontWeight:"bold",color:"#fff",backgroundColor:z.a[700],borderRadius:4,width:36,"&.blue":{backgroundColor:u.a[700]},"&.green":{backgroundColor:pe.a[700]}}}),fe=function(e){var t=e.onDownload,a=Object(n.useState)(!1),i=Object(v.a)(a,2),c=i[0],r=i[1];return o.a.createElement(be,{onMouseEnter:function(){return r(!0)},onMouseLeave:function(){return r(!1)}},o.a.createElement(B.a,null,o.a.createElement(se.a,null)),o.a.createElement(he,{open:c},o.a.createElement("h1",null,"Download"),o.a.createElement(ge,{fullWidth:!0,onClick:function(){return t("csv")}},o.a.createElement("div",{className:"fakeicon green"},"CSV"),"Download CSV"),o.a.createElement(ge,{fullWidth:!0,onClick:function(){return t("json")}},o.a.createElement("div",{className:"fakeicon blue"},"JSON"),"Download JSON")))},xe=a(177);var ve=function(e){return o.a.createElement(xe.a,e,o.a.createElement("path",{d:"M12.007 0C6.12 0 1.1 4.27.157 10.08c-.944 5.813 2.468 11.45 8.054 13.312.19.064.397.033.555-.084.16-.117.25-.304.244-.5v-2.042c-3.33.735-4.037-1.56-4.037-1.56-.22-.726-.694-1.35-1.334-1.756-1.096-.75.074-.735.074-.735.773.103 1.454.557 1.846 1.23.694 1.21 2.23 1.638 3.45.96.056-.61.327-1.178.766-1.605-2.67-.3-5.462-1.335-5.462-6.002-.02-1.193.42-2.35 1.23-3.226-.327-1.015-.27-2.116.166-3.09 0 0 1.006-.33 3.3 1.23 1.966-.538 4.04-.538 6.003 0 2.295-1.5 3.3-1.23 3.3-1.23.445 1.006.49 2.144.12 3.18.81.877 1.25 2.033 1.23 3.226 0 4.607-2.805 5.627-5.476 5.927.578.583.88 1.386.825 2.206v3.29c-.005.2.092.393.26.507.164.115.377.14.565.063 5.568-1.88 8.956-7.514 8.007-13.313C22.892 4.267 17.884.007 12.008 0z"}))},ye=a(182),je=Object(r.a)((function(e){return{headerButton:{marginLeft:16,color:"#888"},grow:{flexGrow:1},list:{width:300},tab:{color:"#000","& .icon":{}},fullHeightTab:Object(b.a)({},e.mixins.toolbar,Object(j.a)({},e.breakpoints.down("sm"),{minWidth:20})),tabWrapper:{display:"flex",flexDirection:"row",alignItems:"center",textTransform:"none",color:"#000","&&& svg":{marginBottom:0,marginRight:8,width:18,height:18}}}})),_e=function(e){switch(e){case"Settings":return o.a.createElement(C.a,{className:"icon"});case"Label":return o.a.createElement(T.a,{className:"icon"});case"Samples":return o.a.createElement(I.a,{className:"icon"})}},Oe=Object(n.memo)((function(e){var t=e.tabs,a=e.currentTab,n=e.onChangeTab,i=e.additionalButtons,c=e.onOpenDrawer,r=e.title,l=void 0===r?"Universal Data Tool":r,s=e.isDesktop,p=e.fileOpen,u=e.sessionBoxOpen,m=e.changeSessionBoxOpen,d=e.inSession,h=e.onCreateSession,b=e.onLeaveSession,g=e.onJoinSession,f=e.onDownload,x=e.isSmall,v=je();return o.a.createElement(_.a,{color:"white",position:"static"},o.a.createElement(O.a,{variant:"dense"},!s&&o.a.createElement(B.a,{onClick:c,className:v.headerButton},o.a.createElement(A.a,null)),p?l:"Universal Data Tool v"+ye.version,!s&&o.a.createElement(re,{sessionBoxOpen:u,changeSessionBoxOpen:m,fileOpen:p,inSession:d,onCreateSession:h,onLeaveSession:b,onJoinSession:g}),!s&&p&&o.a.createElement(fe,{onDownload:f}),o.a.createElement("div",{className:v.grow}),i,t.length>0&&o.a.createElement(k.a,{onChange:function(e,t){return n(t.toLowerCase())},value:a},t.map((function(e){return o.a.createElement(E.a,{key:e,classes:{root:v.fullHeightTab,wrapper:v.tabWrapper},className:v.tab,icon:_e(e),label:x?"":e,value:e.toLowerCase()})}))),!x&&o.a.createElement(B.a,{href:"https://github.com/openhumanannotation/universal-data-tool",className:v.headerButton},o.a.createElement(ve,null))))})),ke=a(794),Ee=a(125),we=a(773),Ce=a(727),Se=a(270),Ie=a(778),De=a(779),Te=a(346),Ne=a(344),Ae=a.n(Ne),Le=(a(1),a(341)),Be=a.n(Le),Re=a(186),Pe=a.n(Re),Ue=a(340),Fe=a.n(Ue),Me=a(187),ze=a.n(Me),We=a(98),qe=a.n(We),He=a(188),Ve=a.n(He),Je=a(343),Ke=a.n(Je),Ge=a(189),Ye=a.n(Ge),Qe=a(97),Xe=a.n(Qe),Ze=a(342),$e=a.n(Ze),et=[{name:"Empty",Icon:Fe.a,oha:{interface:{},taskData:[]}},{name:"Image Segmentation",Icon:Be.a,oha:{interface:{type:"image_segmentation",availableLabels:["valid","invalid"],regionTypesAllowed:["bounding-box","polygon","point"]},taskData:[{imageUrl:"https://s3.amazonaws.com/asset.workaround.online/example-jobs/sticky-notes/image1.jpg"},{imageUrl:"https://s3.amazonaws.com/asset.workaround.online/example-jobs/sticky-notes/image2.jpg"}]}},{name:"Image Classification",Icon:Pe.a,oha:{interface:{type:"image_classification",availableLabels:["valid","invalid"]},taskData:[{imageUrl:"https://s3.amazonaws.com/asset.workaround.online/example-jobs/sticky-notes/image1.jpg"},{imageUrl:"https://s3.amazonaws.com/asset.workaround.online/example-jobs/sticky-notes/image2.jpg"}]}},{name:"Video Segmentation",Icon:Xe.a,oha:{interface:{type:"video_segmentation",availableLabels:["valid","invalid"],regionTypesAllowed:["bounding-box","polygon","point"]},taskData:[{videoUrl:"https://s3.amazonaws.com/asset.workaround.online/SampleVideo_1280x720_1mb.mp4"}]}},{name:"Data Entry",Icon:qe.a,oha:{interface:{type:"data_entry",description:"# Markdown description here",surveyjs:{questions:[{type:"text",name:"document_title",title:"Title of Document"}]}},taskData:[{pdfUrl:"https://arxiv.org/pdf/1906.01969.pdf"},{pdfUrl:"https://arxiv.org/pdf/1908.07069.pdf"}]}},{name:"Named Entity Recognition",Icon:ze.a,oha:{interface:{type:"text_entity_recognition",overlapAllowed:!1,labels:[{id:"food",displayName:"Food",description:"Edible item."},{id:"hat",displayName:"Hat",description:"Something worn on the head."}]},taskData:[{document:"This strainer makes a great hat, I'll wear it while I serve spaghetti!"},{document:"Why are all these dumpings covered in butter?!"}]}},{name:"Text Classification",Icon:$e.a,oha:{interface:{type:"text_classification",labels:["positive_sentiment","negative_sentiment"]},taskData:[{document:"Wow this is terrible. I hated it."},{document:"This has made me so happy. I love this."},{document:"At first I wasn't sure. Then I thought, oh it's not very good."}]}},{name:"Audio Transcription",Icon:Ve.a,oha:{interface:{type:"audio_transcription",description:"# Markdown description here"},taskData:[{audioUrl:"https://html5tutorial.info/media/vincent.mp3"}]}},{name:"Composite",Icon:Ke.a,oha:{description:"# Markdown description here",interface:{type:"composite",fields:[{fieldName:"textInfo",interface:{type:"data_entry",surveyjs:{questions:[{type:"text",name:"group_letter",title:"Letter of Group"}]}}},{fieldName:"segmentation",interface:{type:"image_segmentation",availableLabels:["group text"],regionTypesAllowed:["bounding-box"]}}]},taskData:[{imageUrl:"https://s3.amazonaws.com/asset.workaround.online/example-jobs/sticky-notes/image1.jpg"},{imageUrl:"https://s3.amazonaws.com/asset.workaround.online/example-jobs/sticky-notes/image2.jpg"}]}},{name:"3D Bounding Box",Icon:Ye.a,oha:{interface:{type:"3d_bounding_box",description:"3D Bounding Box"}}}],tt=a(236),at=a.n(tt),nt=a(345),ot=a.n(nt),it=Object(r.a)({}),ct=function(e){var t=e.recentItems,a=e.onClickHome,i=e.onCloseDrawer,c=e.drawerOpen,r=e.onOpenFile,l=e.onOpenRecentItem,s=e.onClickTemplate,p=it(),u=Object(n.useCallback)((function(e){r(e[0])}),[]),m=Object(Ee.a)({onDrop:u}),d=m.getRootProps,h=m.getInputProps;return o.a.createElement(ke.a,{open:c,onClose:i},o.a.createElement(we.a,{className:p.list},o.a.createElement(Ce.a,{onClick:a,button:!0},o.a.createElement(Ie.a,null,o.a.createElement(Ae.a,null)),o.a.createElement(Se.a,null,"Home")),o.a.createElement(Ce.a,Object.assign({},d(),{button:!0}),o.a.createElement(Ie.a,null,o.a.createElement(ot.a,null)),o.a.createElement(Se.a,null,"Open File"),o.a.createElement("input",h())),o.a.createElement(De.a,null,"Recent Files"),0===t.length?o.a.createElement(Ce.a,null,o.a.createElement(Se.a,{style:{textAlign:"center",color:z.a[500]}},"No Recent Items")):t.map((function(e){return o.a.createElement(Ce.a,{key:e.fileName,button:!0,onClick:function(){l(e)}},o.a.createElement(Ie.a,null,o.a.createElement(at.a,null)),o.a.createElement(Se.a,null,e.fileName))})),o.a.createElement(De.a,null,"Create From Template"),et.map((function(e){return o.a.createElement(Ce.a,{key:e.name,button:!0,onClick:function(){return s(e)}},o.a.createElement(Ie.a,null,o.a.createElement(e.Icon,null)),o.a.createElement(Se.a,null,e.name))})),o.a.createElement(De.a,null,"Explore More"),o.a.createElement(Ce.a,{button:!0,onClick:function(){window.location.href="https://github.com/OpenHumanAnnotation/universal-data-tool/releases"}},o.a.createElement(Ie.a,null,o.a.createElement(Te.a,null)),o.a.createElement(Se.a,null,"Github"))))},rt=Object(n.createContext)({recentItems:[],onClickTemplate:function(){return null},onClickHome:function(){return null},onOpenFile:function(){return null},onOpenRecentItem:function(){return null},isDesktop:!1,inSession:!1,onJoinSession:function(){return null},onCreateSession:function(){return null},onLeaveSession:function(){return null},sessionBoxOpen:!1,changeSessionBoxOpen:function(){return null},fileOpen:!1,onDownload:function(){return null}}),lt=[],st=function(e){var t=e.additionalButtons,a=void 0===t?lt:t,i=e.title,c=e.currentTab,r=e.onChangeTab,l=e.tabs,s=void 0===l?lt:l,p=Object(n.useState)(!1),u=Object(v.a)(p,2),m=u[0],d=u[1],h=Object(n.useContext)(rt);h.recentItems||(h.recentItems=[]);var b=Object(y.a)("(max-width: 800px)"),g=Object(n.useCallback)((function(){return d(!0)}),[]),f=Object(n.useCallback)((function(){return d(!1)}),[]);return o.a.createElement(o.a.Fragment,null,o.a.createElement(Oe,Object.assign({tabs:s,currentTab:c,onChangeTab:r,additionalButtons:a,onOpenDrawer:g,isSmall:b},h,{title:i})),o.a.createElement(ct,{drawerOpen:m,onCloseDrawer:f,onClickHome:h.onClickHome,recentItems:h.recentItems,onOpenFile:h.onOpenFile,onClickTemplate:h.onClickTemplate,onOpenRecentItem:h.onOpenRecentItem}))},pt=a(785),ut=a(790),mt=a(784),dt=a(783),ht=a(782),bt=a(781),gt=a(348),ft=a.n(gt),xt=a(147),vt=a.n(xt),yt=a(347),jt=a.n(yt),_t=a(120),Ot=a.n(_t),kt=Object(M.a)(bt.a)({backgroundColor:z.a[100],borderBottom:"1px solid ".concat(z.a[300]),paddingBottom:12,boxShadow:"0px 2px 3px rgba(0,0,0,0.05)"}),Et=Object(M.a)(ht.a)({paddingTop:16}),wt=Object(M.a)(dt.a)({backgroundColor:z.a[100],borderTop:"1px solid ".concat(z.a[300])}),Ct=function(e){var t=e.open,a=void 0!==t&&t,i=e.title,c=e.children,r=e.markdownContent,l=e.onClose,s=e.red,p=e.noActionBar,m=void 0!==p&&p,d=e.actions,h=void 0===d?[]:d,b=Object(n.useState)(!1),g=Object(v.a)(b,2),f=g[0],x=g[1];return o.a.createElement(mt.a,{open:a,onClose:l,fullScreen:f},o.a.createElement(kt,null,o.a.createElement(ut.a,{display:"flex",alignItems:"center"},o.a.createElement("span",{style:{color:s?W.a[700]:void 0}},i),o.a.createElement("div",{style:{flexGrow:1}}),o.a.createElement(B.a,{onClick:function(){return x(!f)}},f?o.a.createElement(jt.a,null):o.a.createElement(vt.a,null)),o.a.createElement(B.a,{onClick:l},o.a.createElement(ft.a,null)))),o.a.createElement(Et,null,o.a.createElement(ut.a,{maxWidth:"90vw",minWidth:400,lineHeight:1.5},r?o.a.createElement(Ot.a,{source:r}):c)),!m&&o.a.createElement(wt,null,o.a.createElement(q.a,{onClick:function(){return l()}},o.a.createElement("span",{style:{color:z.a[700],fontWeight:500}},"Close")),h.map((function(e,t){return o.a.createElement(q.a,{disabled:e.disabled,key:t,onClick:e.onClick},o.a.createElement("span",{style:{color:s?W.a[700]:u.a[700],fontWeight:500}},e.text))}))))},St=Object(r.a)({bigButton:{padding:10,width:150,height:120,border:"1px solid #ccc",margin:10},bigIcon:{width:48,height:48}}),It=function(e){var t=e.open,a=e.onClose,n=e.onSelect,i=St();return o.a.createElement(Ct,{title:"Create from Template",open:t,onClose:a},et.map((function(e){return o.a.createElement(q.a,{key:e.name,onClick:function(){return n(e)},className:i.bigButton},o.a.createElement("div",null,o.a.createElement("div",null,e.name),o.a.createElement("div",null,o.a.createElement(e.Icon,{className:i.bigIcon}))))})))},Dt=function(){return!!window.require&&Boolean(window.require("electron"))},Tt=a(19),Nt=Object(r.a)({container:{display:"flex",flexDirection:"column",backgroundColor:z.a[900],height:"100vh"}}),At=Object(M.a)("div")((function(e){var t=e.theme;return Object(j.a)({display:"flex",justifyContent:"center",flexGrow:1,color:"#fff",overflowY:"scroll",padding:100},t.breakpoints.down("sm"),{padding:50})})),Lt=Object(M.a)("div")((function(e){e.theme;return{display:"flex",flexDirection:"column",width:"calc(100% - 32px)",marginLeft:16,maxWidth:1e3}})),Bt=Object(M.a)("div")({marginTop:20,fontSize:36,fontWeight:600,color:z.a[300]}),Rt=Object(M.a)("div")({fontSize:18,marginTop:8,color:z.a[500]}),Pt=Object(M.a)("div")({marginTop:48}),Ut=Object(M.a)("a")({display:"block",color:u.a[500],marginTop:4,cursor:"pointer",textDecoration:"none"}),Ft=Object(M.a)("div")({fontSize:24,marginBottom:8,color:z.a[500]}),Mt=Object(M.a)("div")({color:z.a[300],"& a":{cursor:"pointer",color:u.a[500],textDecoration:"none"}}),zt=Object(M.a)("div")({color:z.a[600],paddingTop:16}),Wt=Object(M.a)("div")({height:100}),qt=function(e){var t=e.onFileDrop,a=e.onOpenTemplate,i=e.showDownloadLink,c=void 0===i||i,r=e.recentItems,l=void 0===r?[]:r,s=e.onOpenRecentItem,p=e.onClickOpenSession,u=Nt(),m=ee(),d=(Dt(),Object(n.useState)(!1)),h=Object(v.a)(d,2),b=h[0],g=h[1];Object(n.useEffect)((function(){function e(){return(e=Object(x.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://raw.githubusercontent.com/UniversalDataTool/universal-data-tool/master/package.json").then((function(e){return e.json()}));case 2:e.sent.version!==ye.version&&g(!0);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var y=Object(n.useState)(!1),j=Object(v.a)(y,2),_=j[0],O=j[1],k=Object(Tt.a)((function(e){t(e[0])})),E=Object(Ee.a)({onDrop:k}),w=E.getRootProps,C=E.getInputProps;E.isDragActive;return o.a.createElement("div",{className:u.container},o.a.createElement(It,{open:_,onSelect:function(e){m.capture("template_clicked",{clicked_template:e.name}),a(e)},onClose:function(){return O(!1)}}),o.a.createElement(st,{additionalButtons:[b&&o.a.createElement(q.a,{key:"download-latest",className:u.headerButton,href:"https://github.com/OpenHumanAnnotation/universal-data-tool/releases"},"Out of date! Download New Version"),c&&o.a.createElement(q.a,{key:"download",href:"https://github.com/OpenHumanAnnotation/universal-data-tool/releases",className:u.headerButton},"Download")].filter(Boolean)}),o.a.createElement(At,null,o.a.createElement(Lt,null,o.a.createElement(pt.a,{container:!0},o.a.createElement(pt.a,{xs:12,item:!0},o.a.createElement(Bt,null,"Universal Data Tool"),o.a.createElement(Rt,null,"Open-Source Data Labeling")),o.a.createElement(pt.a,{xs:6,item:!0},o.a.createElement(Pt,null,o.a.createElement(Ft,null,"Start"),o.a.createElement(Ut,{onClick:function(){m.capture("template_clicked",{clicked_template:"empty"}),a(et.find((function(e){return"Empty"===e.name})))}},"New File"),o.a.createElement(Ut,{onClick:function(){return O(!0)}},"Start from Template"),o.a.createElement(Ut,w(),o.a.createElement("input",C()),"Open File"),p&&o.a.createElement(Ut,{onClick:p},"Open Collaborative Session")),o.a.createElement(Pt,null,o.a.createElement(Ft,null,"Recent"),0===l.length?o.a.createElement(zt,null,"No Recent Files"):l.map((function(e,t){return o.a.createElement(Ut,{key:t,onClick:function(){return s(e)}},e.fileName)}))),o.a.createElement(Pt,null,o.a.createElement(Ft,null,"Help"),o.a.createElement(Ut,{href:"https://github.com/UniversalDataTool/universal-data-tool/releases"},"Downloading and Installing UDT"),o.a.createElement(Ut,{href:"https://dev.to/seveibar/make-bounding-boxes-for-artificial-intelligence-with-udt-1kai"},"Labeling Images"),o.a.createElement(Ut,{href:"https://github.com/UniversalDataTool/universal-data-tool"},"Github Repository"))),o.a.createElement(pt.a,{xs:6,item:!0},o.a.createElement(Pt,null,o.a.createElement(Ft,null,"About"),o.a.createElement(Mt,null,"The Universal Data Tool (UDT) is an open-source web or downloadable tool for labeling data for usage in machine learning or data processing systems.",o.a.createElement("br",null),o.a.createElement("br",null),"The Universal Data Tool supports Computer Vision, Natural Language Processing (including Named Entity Recognition and Audio Transcription) workflows.",o.a.createElement("br",null),o.a.createElement("br",null),"The UDT uses an"," ",o.a.createElement("a",{href:"https://github.com/UniversalDataTool/udt-format"},"open-source data format (.udt.json)")," ","that can be easily read by programs as a ground-truth dataset for machine learning algorithms.",o.a.createElement("br",null),o.a.createElement("br",null))),o.a.createElement(Pt,null,o.a.createElement(Ft,null,"Instant Try Now"),o.a.createElement(Mt,null,o.a.createElement("a",{onClick:function(){return O(!0)}},"Open a template")," ","to see how the UDT could work for your data."))),o.a.createElement(pt.a,{xs:12,item:!0},o.a.createElement(Wt,null))))))},Ht=a(43),Vt=(a(523),a(190)),Jt=a.n(Vt);'\n{\n  "interface": {\n    "type": "data_entry",\n    "description": "# Markdown description here",\n    "surveyjs": {\n      "questions": [\n        {\n          "type": "text",\n          "name": "question1",\n          "title": "Some question title here"\n        }\n      ]\n    }\n  },\n  "taskData": []\n}\n'.trim();function Kt(e){var t=e.description,a=e.imageUrl,n=e.url,o=e.pdfUrl;return t||(a?"![".concat(a,"](").concat(a,")"):o?"[PDF Link](".concat(o,")")+'<object data="'.concat(o.replace("http://","https://"),'" type="application/pdf" width="100%" height="600px"></object>'):n?"Use this [Link](".concat(n,")"):null)}var Gt=a(66),Yt=a.n(Gt),Qt=a(142),Xt=a.n(Qt),Zt=a(349),$t=a.n(Zt),ea=a(170),ta=a.n(ea),aa=Object(r.a)({linkButtonContainer:{marginLeft:8,marginRight:8},linkButton:{textTransform:"none",cursor:"pointer",textDecoration:"underline"}}),na=function(e){var t=e.onClick,a=e.text,n=aa();return o.a.createElement("span",{className:n.linkButtonContainer},"(",o.a.createElement("span",{onClick:t,className:n.linkButton},a),")")},oa=a(86),ia=a.n(oa),ca=Object(r.a)((function(e){return{footer:{backgroundColor:"#fff",marginTop:40},footerContent:{alignItems:"center",padding:20,display:"flex",justifyContent:"space-between"},footerBorder:{borderTop:"1px solid #ccc",marginLeft:20,marginRight:20},footerCount:{display:"inline-flex"},allSamplesButton:{color:"#fff",border:"1px solid rgba(255,255,255,0.5)",marginRight:10,paddingLeft:8},sampleIcon:{marginRight:8},menuButton:{marginRight:8,color:"#fff"},grow:{flexGrow:1},buttons:{"& > *":{margin:4}},description:{padding:10,"& img":{maxWidth:"calc(100% - 16px)",marginLeft:8,marginRight:8,maxHeight:600}},sectionHeader:{fontWeight:700,fontSize:12,padding:10,paddingTop:16,textTransform:"uppercase",color:z.a[600]},content:{padding:10}}})),ra=function(e){var t=e.hideDescription,a=void 0!==t&&t,i=(e.lastSampleExitText,e.onExit),c=e.requireCompleteToPressNext,r=void 0!==c&&c,l=(e.taskData,e.minContentHeight),s=e.currentSampleIndex,p=e.totalSamples,m=e.onChangeSample,d=e.taskOutput,h=void 0===d?[]:d,b=e.description,g=e.children,f=ca(),x=Object(n.useState)(a),y=Object(v.a)(x,2),j=y[0],_=y[1],O=Object(n.useState)(!1),k=Object(v.a)(O,2),E=k[0],w=k[1];return o.a.createElement(o.a.Fragment,null,o.a.createElement(pt.a,{container:!0},!j&&o.a.createElement(pt.a,{item:!0,xs:12,sm:12,md:6},o.a.createElement("div",{className:f.sectionHeader},"Description",o.a.createElement(na,{onClick:function(){return _(!0)},text:"hide"})),o.a.createElement("div",{className:f.description},o.a.createElement(Ot.a,{escapeHtml:!1,source:b}))),o.a.createElement(pt.a,{item:!0,xs:12,sm:12,md:j?12:6},o.a.createElement("div",{className:f.sectionHeader},"Sample ",s+1,"/",p,j&&o.a.createElement(na,{onClick:function(){return _(!1)},text:"show description"}),p>1&&o.a.createElement(na,{onClick:function(){return w(!0)},text:"view all"}),i&&o.a.createElement(na,{onClick:function(){return i()},text:"exit without saving"})),o.a.createElement("div",{style:{minHeight:l},className:f.content},g)),p>1&&o.a.createElement(pt.a,{item:!0,xs:12},o.a.createElement("div",{className:f.footer},o.a.createElement("div",{className:f.footerBorder}),o.a.createElement("div",{className:f.footerContent},o.a.createElement(q.a,{onClick:function(){return m((s-1+p)%p)}},o.a.createElement(Xt.a,null)," Prev Sample"),o.a.createElement(q.a,{onClick:function(){return w(!0)},className:f.footerCount},s+1," / ",p),o.a.createElement(q.a,{disabled:r&&!h[s],onClick:function(){return m((s+1)%p)}},r&&!h[s]?"Save to Continue":"Next Sample",o.a.createElement(Yt.a,null)))))),o.a.createElement(ke.a,{open:E,anchor:"left",onClose:function(){return w(!1)}},o.a.createElement(we.a,{style:{minWidth:300}},o.a.createElement(De.a,null,"Samples"),ia()(0,p).map((function(e){return o.a.createElement(Ce.a,{style:{backgroundColor:e===s?z.a[200]:void 0},button:!0,onClick:function(){return m(e)}},o.a.createElement(Ie.a,{style:{color:e===s?u.a[500]:void 0}},h[e]?o.a.createElement(ta.a,null):o.a.createElement($t.a,null)),o.a.createElement(Se.a,null,"Sample ",e+1))})))))},la=a(123),sa=function(e){var t=Object(n.useState)(0),a=Object(v.a)(t,2),i=a[0],c=a[1],r=e.taskOutput&&e.taskOutput[i]?[e.taskOutput[i].label]||!1:void 0,l=e.interface.labels.map((function(e){return"string"===typeof e?{id:e,description:e,displayName:e}:e})).map((function(e){return e.displayName?e:Object(b.a)({},e,{displayName:e.id})}));return o.a.createElement(ra,Object.assign({},e.containerProps,{currentSampleIndex:i,totalSamples:e.taskData.length,taskOutput:e.taskOutput,description:Kt(e.taskData[i])||e.interface.description,onChangeSample:function(e){return c(e)}}),o.a.createElement(la.a,{key:(e.sampleIndex||0)+i,type:"label-document",labels:l,multipleLabels:e.interface.multiple,document:e.taskData[i].document,initialLabels:r,onFinish:function(t){t="string"===typeof t?{label:t}:{labels:t},e.onSaveTaskOutputItem(i,t),e.containerProps.onExit&&e.containerProps.onExit("go-to-next")}}))},pa=function(e){var t=[],a=0,n=!0,o=!1,i=void 0;try{for(var c,r=e[Symbol.iterator]();!(n=(c=r.next()).done);n=!0){var l=c.value;l.label&&t.push({text:l.text,label:l.label,start:a,end:a+l.text.length}),a+=l.text.length}}catch(s){o=!0,i=s}finally{try{n||null==r.return||r.return()}finally{if(o)throw i}}return t},ua=function(e){var t=Object(n.useState)(0),a=Object(v.a)(t,2),i=a[0],c=a[1],r=e.taskOutput&&e.taskOutput[i]?function(e,t){if(t){var a=[];(t=Object(Ht.a)(t)).sort((function(e,t){return e.start-t.start}));for(var n=0,o=0;o<e.length;o++)(t[n]||{}).start===o?(a.push({text:t[n].text,label:t[n].label}),o=t[n].end,n+=1):0===a.length||a[a.length-1].label?a.push({text:e[o]}):a[a.length-1].text+=e[o];return a}}(e.taskData[i].document,e.taskOutput[i].entities):void 0;return o.a.createElement(ra,Object.assign({},e.containerProps,{currentSampleIndex:i,totalSamples:e.taskData.length,taskOutput:e.taskOutput,description:Kt(e.taskData[i])||e.interface.description,onChangeSample:function(e){return c(e)}}),o.a.createElement(la.a,{key:i,type:"label-sequence",document:e.taskData[i].document,labels:e.interface.labels,initialSequence:r,onFinish:function(t){e.onSaveTaskOutputItem(i,{entities:pa(t)}),e.containerProps.onExit&&e.containerProps.onExit("go-to-next")}}))},ma=a(199);a(59);function da(){var e,t,a=(e=0,t=360,Math.floor(Math.random()*(t-e+1))+e);return"hsl(".concat(a.toString(),",").concat(100..toString(),"%,").concat(50..toString(),"%)")}var ha=function(){return Math.random().toString().split(".")[1]},ba=function(e){switch(e.regionType){case"bounding-box":return{id:ha(),cls:e.classification,tags:e.labels,color:e.color||da(),type:"box",x:e.centerX-e.width/2,y:e.centerY-e.height/2,w:e.width,h:e.height};case"point":return{id:ha(),type:"point",tags:e.labels,cls:e.classification,color:e.color||da(),x:e.x,y:e.y};case"polygon":return{id:ha(),type:"polygon",tags:e.labels,cls:e.classification,color:e.color||da(),open:!1,points:e.points.map((function(e){return[e.x,e.y]}))};case"line":case"pixel-mask":throw new Error('Unsupported region "'.concat(JSON.stringify(e),'"'))}},ga=function(e){switch(e.type){case"point":return{regionType:"point",x:e.x,y:e.y,classification:e.cls,labels:e.tags,color:e.color};case"box":return{regionType:"bounding-box",centerX:e.x+e.w/2,centerY:e.y+e.h/2,width:e.w,height:e.h,classification:e.cls,labels:e.tags,color:e.color};case"polygon":return{regionType:"polygon",classification:e.cls,labels:e.tags,color:e.color,points:e.points.map((function(e){var t=Object(v.a)(e,2);return{x:t[0],y:t[1]}}))}}throw new Error('Unsupported riaRegion "'.concat(JSON.stringify(e),'"'))},fa=function(e){var t={};for(var a in e)t[a]={regions:e[a].regions.map(ba)};return t},xa=Object(r.a)({}),va={"bounding-box":"create-box",polygon:"create-polygon","full-segmentation":"create-polygon",point:"create-point"},ya={},ja=[],_a=function(e){var t=e.interface,a=e.taskData,i=void 0===a?ja:a,c=e.taskOutput,r=void 0===c?ya:c,l=e.containerProps,s=void 0===l?ya:l,p=e.onSaveTaskOutputItem,u=(xa(),Object(n.useState)(0)),m=Object(v.a)(u,2),d=m[0],h=(m[1],t.regionTypesAllowed),g=void 0===h?["bounding-box"]:h,f=!Boolean(t.multipleRegionLabels),x=Object(n.useMemo)((function(){return f?{regionClsList:(t.availableLabels||[]).map((function(e){return"string"===typeof e?e:e.id}))}:{regionTagList:(t.availableLabels||[]).map((function(e){return"string"===typeof e?e:e.id}))}}),[f]),y=t.multipleRegions||void 0===t.multipleRegions,j=Object(Tt.a)((function(e){for(var t=(e.images||[]).map((function(e){return e.regions})).map((function(e){return(e||[]).map(ga)})),a=0;a<t.length;a++)p(a,y?t[a]:t[a][0]);s.onExit&&s.onExit()})),_=Object(n.useMemo)((function(){return i.map((function(e,t){return function(e){var t=e.title,a=e.taskDatum,n=e.index,o=e.output;a=a||{};var i=o?Array.isArray(o)?o.map(ba):[ba(o)]:void 0;if(a.imageUrl)return{src:a.imageUrl,name:t||"Sample ".concat(n),regions:i};if(a.videoUrl&&void 0!==a.videoFrameAt)return{src:a.videoUrl,frameTime:a.videoFrameAt,name:t||"Sample ".concat(n),regions:i};throw new Error('Task Datum not supported "'.concat(JSON.stringify(a),'"'))}({title:s.datasetName,taskDatum:e,output:r[t],index:t})}))}),[i]),O=Object(n.useMemo)((function(){return["select"].concat(g.map((function(e){return va[e]})).filter(Boolean))}),[g]);return console.log(Object(b.a)({selectedImage:i[d].imageUrl,taskDescription:t.description},x,{enabledTools:O,images:_,onExit:j})),o.a.createElement("div",{style:{height:"calc(100vh - 70px)"}},o.a.createElement(ma.a,Object.assign({selectedImage:i[d].imageUrl,taskDescription:t.description},x,{enabledTools:O,images:_,onExit:j})))},Oa=a(289),ka=a(114),Ea=a(287),wa=a(285),Ca=a(113),Sa=a(286),Ia=a(284),Da=a(332),Ta=a(373),Na=a.n(Ta),Aa=[u.a[600],pe.a[600],W.a[600],Oa.a[600],ka.a[600],Ea.a[600],wa.a[600],Ca.a[600],u.a[600],Sa.a[600],Ia.a[600]],La="abcdefghijklmnopqrstuvwxyz1234567890".split(""),Ba=function(e){var t=e.id.split("").reduce((function(e,t,a){return e+(La.indexOf(t)+1)}),0);return Aa[t%Aa.length]},Ra=Object(M.a)("div")({maxWidth:"100vw"}),Pa=Object(M.a)("div")({maxHeight:"50vh"}),Ua=Object(M.a)("img")({display:"inline-block",width:"100%",height:"100%",maxHeight:"50vh",objectFit:"contain"}),Fa=Object(M.a)("div")({display:"flex",justifyContent:"center",marginTop:4}),Ma=Object(M.a)("div")({backgroundColor:"#000",color:"#fff",display:"flex",alignItems:"center",justifyContent:"center","& > span":{padding:16}}),za=Object(M.a)(q.a)({color:"#fff",padding:8,paddingLeft:16,paddingRight:16}),Wa=Object(M.a)("div")({paddingLeft:50,paddingRight:50,marginTop:8,textAlign:"center"}),qa=Object(M.a)(q.a)({margin:8,color:"#fff",fontSize:18,paddingRight:16,transition:"transform 50ms ease"}),Ha={},Va=[],Ja=function(e){var t=e.sampleIndex,a=e.interface,i=e.taskData,c=void 0===i?Va:i,r=e.taskOutput,l=void 0===r?Ha:r,s=e.containerProps,p=void 0===s?Ha:s,u=e.onSaveTaskOutputItem,m=Object(n.useState)(0),d=Object(v.a)(m,2),h=d[0],b=d[1],g=Object(n.useState)(null),f=Object(v.a)(g,2),x=f[0],y=f[1],j=Object(n.useState)(Va),_=Object(v.a)(j,2),O=_[0],k=_[1],E=Object(n.useMemo)((function(){return a.availableLabels.map((function(e){return"string"===typeof e?{id:e,description:e}:e}))}),[a.availableLabels]),w=Object(Tt.a)((function(e){p.onExit&&p.onExit()})),C=Object(Tt.a)((function(e){u(h,e||O),h!==c.length-1?b(h+1):p.onExit&&p.onExit("go-to-next")})),S=Object(Tt.a)((function(){h>0?b(h-1):p.onExit&&p.onExit("go-to-previous")}));Object(n.useEffect)((function(){var e=setTimeout((function(){y(null)}),100);return function(){return clearTimeout(e)}}),[x]);var I=Object(Tt.a)((function(e){var t;y(e),t=(O||[]).includes(e.id)?Na()(O,e.id):a.allowMultiple?O.concat([e.id]):[e.id],k(t),!a.allowMultiple&&t.length>0&&C(t)}));Object(n.useEffect)((function(){var e=(l||[])[h];e||(e=[]),"string"===typeof e&&(e=[e]),k(e)}),[h,t]);var D=Object(n.useMemo)((function(){var e={" ":C,backspace:S,enter:w,rightarrow:C,leftarrow:S},t={},a=!0,n=!1,o=void 0;try{for(var i,c=function(){var a=i.value,n=a.id.split("").filter((function(e){return La.includes(e)})).find((function(t){return!e[t.toLowerCase()]}));if(!n)return"continue";e[n]=function(){return I(a)},t[a.id]=n},r=E[Symbol.iterator]();!(a=(i=r.next()).done);a=!0)c()}catch(l){n=!0,o=l}finally{try{a||null==r.return||r.return()}finally{if(n)throw o}}return[e,t]}),[E]),T=Object(v.a)(D,2),N=T[0],A=T[1];return Object(n.useEffect)((function(){var e=function(e){var t=e.key.toLowerCase();N[t]&&N[t]()};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[N]),o.a.createElement(Ra,null,o.a.createElement(Pa,null,o.a.createElement(Ua,{src:c[h].imageUrl})),o.a.createElement(Fa,null,o.a.createElement(Ma,null,o.a.createElement(za,{onClick:S},"Prev (backspace)")),c.length>1?o.a.createElement(Ma,null,o.a.createElement("span",null,"(",h+1,"/",c.length,")")):void 0!==t?o.a.createElement(Ma,null,o.a.createElement("span",null,"[",t,"]")):null,o.a.createElement(Ma,null,o.a.createElement(za,{onClick:C},"Next (space)")),o.a.createElement(Ma,null,o.a.createElement(za,{onClick:w},"Done (enter)"))),o.a.createElement(Wa,null,E.map((function(e){return o.a.createElement(qa,{key:e.id,onClick:function(){return I(e)},style:{backgroundColor:Ba(e),transform:x===e?"scale(1.1,1.1)":void 0}},o.a.createElement(Da.a,{style:{color:"#fff"},checked:O.includes(e.id)}),e.id,A[e.id]?" (".concat(A[e.id],")"):"")}))))},Ka=Object(r.a)({}),Ga={"bounding-box":"create-box",polygon:"create-polygon","full-segmentation":"create-polygon",point:"create-point"},Ya={},Qa=[],Xa=function(e){var t=e.interface,a=e.taskData,i=void 0===a?Qa:a,c=e.taskOutput,r=void 0===c?Ya:c,l=e.containerProps,s=void 0===l?Ya:l,p=e.onSaveTaskOutputItem,u=(Ka(),Object(n.useState)(0)),m=Object(v.a)(u,2),d=(m[0],m[1],t.regionTypesAllowed),h=void 0===d?["bounding-box"]:d,b=!Boolean(t.multipleRegionLabels),g=Object(n.useMemo)((function(){return b?{regionClsList:(t.availableLabels||[]).map((function(e){return"string"===typeof e?e:e.id}))}:{regionTagList:(t.availableLabels||[]).map((function(e){return"string"===typeof e?e:e.id}))}}),[b]),f=(t.multipleRegions||t.multipleRegions,Object(Tt.a)((function(e){var t={};for(var a in e.keyframes)t[a]={regions:e.keyframes[a].regions.map(ga)};p(0,{keyframes:t}),s.onExit&&s.onExit()}))),x=Object(n.useMemo)((function(){return["select"].concat(h.map((function(e){return Ga[e]})).filter(Boolean))}),[h]);return i.length>1?"Video segmentation is currently limited to only a single video per selection":0===i.length?"taskData[0] with videoUrl is required":i[0].videoUrl?o.a.createElement("div",{style:{height:"calc(100vh - 70px)"}},o.a.createElement(ma.a,Object.assign({taskDescription:t.description},g,{enabledTools:x,keyframes:fa(((r||[])[0]||{}).keyframes),videoName:i[0].customId||"",videoTime:0,videoSrc:i[0].videoUrl,onExit:f}))):"taskData[0] must have videoUrl"},Za=function(e){var t=Object(n.useState)(0),a=Object(v.a)(t,2),i=a[0],c=a[1];return(o.a.createElement(ra,Object.assign({},e.containerProps,{currentSampleIndex:i,totalSamples:e.taskData.length,taskOutput:e.taskOutput,description:Kt(e.taskData[i])||e.interface.description,onChangeSample:function(e){return c(e)}}),o.a.createElement(la.a,{key:(e.sampleIndex||0)+i,type:"transcribe",audio:e.taskData[i].audioUrl,phraseBank:e.phraseBank,initialTranscriptionText:(e.taskOutput||[])[i]||"",onFinish:function(t){e.onSaveTaskOutputItem(i,t),e.containerProps.onExit&&e.containerProps.onExit("go-to-next")}})))},$a=a(48),en=a.n($a),tn=function(e){var t=Object(n.useState)(0),a=Object(v.a)(t,2),i=a[0],c=a[1];return(o.a.createElement(ra,Object.assign({},e.containerProps,{currentSampleIndex:i,totalSamples:e.taskData.length,taskOutput:e.taskOutput,description:Kt(e.taskData[i])||e.interface.description,onChangeSample:function(e){return c(e)}}),o.a.createElement(en.a,{key:(e.sampleIndex||0)+i,variant:"flat",form:e.taskData[i].surveyjs||e.interface.surveyjs,defaultAnswers:e.taskOutput&&e.taskOutput[i]?e.taskOutput[i]:void 0,completeText:"Save & Next",onFinish:function(t){e.onSaveTaskOutputItem(i,t),e.containerProps.onExit&&e.containerProps.onExit("go-to-next")}})))},an=a(92),nn=Object(r.a)({root:{padding:50,textAlign:"center"},title:{margin:50},explain:{}}),on=function(e){var t=e.title,a=e.description,n=e.children,i=nn();return o.a.createElement("div",{className:i.root},o.a.createElement(an.a,{variant:"h3",component:"div",className:i.title},t),o.a.createElement(an.a,{variant:"h5",component:"div",className:i.explain},a||n))},cn=function(){return o.a.createElement(on,{title:"No Samples to Show"},"Make sure that ",o.a.createElement("code",null,"taskData")," is defined and not empty.",o.a.createElement("br",null),o.a.createElement("br",null),"Need help setting up? ",o.a.createElement("a",{href:"#"},"Check out this tutorial."))},rn=a(201),ln=a(374),sn=a.n(ln),pn=a(240),un=a.n(pn),mn=function(e){var t=e.type,a=Object(rn.a)(e,["type"]);switch(t){case"image_label":case"image_segmentation":return o.a.createElement(sn.a,a);case"audio_transcription":return o.a.createElement(Ve.a,a);case"data_entry":return o.a.createElement(qe.a,a);case"text_entity_recognition":return o.a.createElement(ze.a,a);case"3d_bounding_box":return o.a.createElement(Ye.a,a);default:return o.a.createElement(un.a,a)}},dn=Object(M.a)("div")({fontSize:18,fontWeight:"bold",color:z.a[700],borderBottom:"1px solid ".concat(z.a[300]),paddingBottom:8,marginBottom:8,paddingLeft:8}),hn=Object(M.a)(q.a)({display:"flex",textAlign:"left",justifyContent:"flex-start",marginTop:8}),bn=function(e){var t=Object(n.useState)(0),a=Object(v.a)(t,2),i=a[0],c=a[1],r=e.interface.fields,l=Object(n.useState)(),s=Object(v.a)(l,2),p=s[0],u=s[1],m=Object(n.useState)(e.taskOutput),d=Object(v.a)(m,2);d[0],d[1];return p?o.a.createElement(gn,{oha:{interface:p.interface,taskOutput:[e.taskOutput?(e.taskOutput[i]||{})[p.fieldName]:null],taskData:[e.taskData[i]]},onSaveTaskOutputItem:function(t,a){e.onSaveTaskOutputItem(i,Object(b.a)({},e.taskOutput?e.taskOutput[i]:{},Object(j.a)({},p.fieldName,a))),u(null)}}):(console.log("taskOutput",e.taskOutput),o.a.createElement(ra,Object.assign({},e.containerProps,{currentSampleIndex:i,totalSamples:e.taskData.length,taskOutput:e.taskOutput,description:Kt(e.taskData[i])||e.interface.description,onChangeSample:function(e){return c(e)}}),o.a.createElement(dn,null,"Fields"),r.map((function(t,a){return o.a.createElement(hn,{key:t.fieldName,onClick:function(){u(Object(b.a)({},t,{index:a}))},fullWidth:!0,variant:"outlined"},o.a.createElement(mn,{style:{color:z.a[500],marginRight:16},type:t.interface.type}),t.fieldName,o.a.createElement(ut.a,{flexGrow:1}),o.a.createElement(Da.a,{checked:Boolean((e.taskOutput&&e.taskOutput[i]||{})[t.fieldName])}),o.a.createElement(Yt.a,null))})),o.a.createElement(hn,{onClick:function(){return e.containerProps.onExit("go-to-next")},fullWidth:!0,variant:"outlined"},o.a.createElement(Yt.a,{style:{color:z.a[500],marginRight:16}}),"Next",o.a.createElement(ut.a,{flexGrow:1}),o.a.createElement(ut.a,{height:"42px"}),o.a.createElement(Yt.a,null))))},gn=function(e){var t=e.oha,a=e.onExit,i=e.hideHeader,c=e.hideDescription,r=e.datasetName,l=e.requireCompleteToPressNext,s=e.onSaveTaskOutputItem,p=Object(n.useMemo)((function(){return{hideHeader:i,hideDescription:c,datasetName:r,requireCompleteToPressNext:l,onExit:a}}),[i,c,l,r,a]);if(!t)return o.a.createElement(on,{title:"Null OHA",description:"Your OHA file isn't defined for some reason."});if(!t.taskData||0===t.taskData.length)return o.a.createElement(cn,null);switch(t.interface.type){case"data_entry":return o.a.createElement(tn,Object.assign({containerProps:p},t,{onSaveTaskOutputItem:s,onExit:a}));case"text_classification":return o.a.createElement(sa,Object.assign({containerProps:p},t,{onSaveTaskOutputItem:s,onExit:a}));case"text_entity_recognition":return o.a.createElement(ua,Object.assign({containerProps:p},t,{onSaveTaskOutputItem:s,onExit:a}));case"image_segmentation":return o.a.createElement(_a,Object.assign({containerProps:p},t,{onExit:a,onSaveTaskOutputItem:s}));case"image_classification":return o.a.createElement(Ja,Object.assign({containerProps:p},t,{onExit:a,onSaveTaskOutputItem:s}));case"video_segmentation":return o.a.createElement(Xa,Object.assign({containerProps:p},t,{onExit:a,onSaveTaskOutputItem:s}));case"composite":return o.a.createElement(bn,Object.assign({containerProps:p},t,{oha:t,onSaveTaskOutputItem:s,onExit:a}));case"audio_transcription":return o.a.createElement(Za,Object.assign({containerProps:p},t,{onSaveTaskOutputItem:s,onExit:a}));default:return'"'.concat(t.interface.type,'" not supported')}},fn=Object(r.a)({textField:{marginLeft:8}}),xn=function(e){var t=e.value,a=e.onChange,i=fn(),c=Object(n.useState)({editing:!1,newValue:t||""}),r=Object(v.a)(c,2),l=r[0],s=l.editing,p=l.newValue,u=r[1];return Object(n.useEffect)((function(){u({editing:s,newValue:t})}),[t]),Object(n.useEffect)((function(){if(s){var e=function(e){"Enter"===e.key&&(a(p),u({editing:!1}))};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}}),[s,p]),Object(n.useEffect)((function(){if(p){if(s){var e=setTimeout((function(){a(p),u({editing:!1})}),t===p?1e4:2e3);return function(){return clearTimeout(e)}}return function(){}}}),[s,p]),o.a.createElement(H.a,{className:i.textField,label:"File Name",variant:"outlined",size:"small",InputProps:{inputProps:{style:{color:"#000"}}},onKeyDown:function(e){"Enter"===e.key&&(e.preventDefault(),e.stopPropagation(),e.target.blur())},onKeyPress:function(e){e.stopPropagation()},onChange:function(e){u({editing:!0,newValue:e.target.value})},value:p||""})},vn=a(375),yn=a.n(vn),jn=a(77),_n=a.n(jn),On=a(32),kn=a.n(On),En=a(792),wn=Object(M.a)("div")({flexWrap:"wrap"}),Cn=Object(M.a)("div")({margin:4,padding:4,backgroundColor:z.a[300],display:"inline-flex",fontSize:11,textAlign:"center",justifyContent:"center",minWidth:"3em",borderRadius:3,cursor:"pointer",userSelect:"none",transition:"box-shadow 200ms ease, transform 200ms ease","&.completed":{backgroundColor:u.a[500],color:"#fff"},"&.selected":{boxShadow:"0px 0px 2px 1px ".concat(u.a[400]),transform:"scale(1.05,1.05)"}}),Sn=Object(n.memo)((function(e){var t=e.index,a=e.onClick,n=e.completed,i=e.selected,c=e.onMouseDown,r=e.onMouseUp,l=e.onMouseEnter;return(o.a.createElement(Cn,{className:kn()({completed:n,selected:i}),onClick:function(){return a(t)},onMouseDown:function(){return c(t)},onMouseUp:function(){return r(t)},onMouseEnter:function(){return l(t)}},t))}),(function(e,t){return e.index===t.index&&e.completed===t.completed&&e.selected===t.selected})),In=function(e){var t=e.count,a=e.completed,i=void 0===a?[]:a,c=e.onClick,r=Object(L.a)("samplesPerPage",100),l=Object(v.a)(r,2),s=l[0],p=l[1],u=Object(L.a)("sampleOffset",0),m=Object(v.a)(u,2),d=m[0],h=m[1];Object(n.useEffect)((function(){d>t&&h(0)}),[]);var b=Object(n.useReducer)((function(e,t){return null===t?null:"number"===typeof t?e?[Math.min(t,e[0]),Math.max(t+1,e[1])]:null:t}),null),g=Object(v.a)(b,2),f=g[0],x=g[1],y=Object(n.useCallback)((function(e){return x([e,e+1])}),[x]),j=Object(n.useCallback)((function(e){return x(e)}),[x]),_=Object(n.useCallback)((function(){}),[x]),O=Object(n.useCallback)((function(e){1!==e.buttons&&x(null)}),[x]),k=Object(Tt.a)(c);return o.a.createElement(wn,{onMouseUp:O,onMouseEnter:O},ia()(d,Math.min(t,d+s)).map((function(e){return o.a.createElement(Sn,{onClick:k,key:e,index:e,completed:i[e],selected:f&&e>=f[0]&&e<f[1],onMouseDown:y,onMouseEnter:j,onMouseUp:_})})),o.a.createElement(En.a,{rowsPerPageOptions:[100,250,500,1e3,2e3,1e4],component:"div",count:t,rowsPerPage:s,page:Math.floor(d/s),labelRowsPerPage:"Samples per Page:",onChangePage:function(e,t){return h(t*s)},onChangeRowsPerPage:function(e){return p(+e.target.value)}}))},Dn=a(383),Tn=a.n(Dn),Nn=a(382),An=a.n(Nn),Ln=a(384),Bn=a.n(Ln),Rn=a(381),Pn=a.n(Rn),Un=a(241),Fn=a.n(Un),Mn=a(242),zn=a.n(Mn),Wn=a(243),qn=a.n(Wn),Hn=a(244),Vn=a.n(Hn),Jn=Object(M.a)("textarea")({width:"100%",minHeight:300}),Kn=function(e){var t=e.open,a=e.onClose,i=e.onAddSamples,c=Object(n.useState)(""),r=Object(v.a)(c,2),l=r[0],s=r[1];return o.a.createElement(Ct,{title:"Paste Urls",open:t,onClose:a,actions:[{text:"Add Samples",onClick:function(){i(l.split("\n").map((function(e){return e.trim()})).filter(Boolean).map((function(e){switch(e.split(".").slice(-1)[0].toLowerCase()){case"png":case"jpg":case"gif":case"jpeg":case"bmp":return{imageUrl:e};case"pdf":return{pdfUrl:e};case"mp3":case"wav":return{audioUrl:e};default:return console.error("extension not recognized"),null}})).filter(Boolean))}}]},o.a.createElement(Jn,{onChange:function(e,t){return s(e.target.value)},placeholder:"Paste URLs here\nOne URL per line"}))},Gn=Object(M.a)("textarea")({width:"100%",minHeight:300}),Yn=Object(M.a)("div")({fontSize:24,color:z.a[600],textAlign:"center",padding:48}),Qn=function(){return null},Xn=function(e){var t=e.open,a=e.onClose,i=e.onAddSamples,c=Object(n.useState)(""),r=Object(v.a)(c,2),l=r[0],s=r[1],p=Object(Tt.a)((function(e){var t=e[0].name,a=new FileReader;a.onload=function(e){var a=e.target.result;t.endsWith("csv")||t.endsWith("CSV")?s(a.replace(",","\n")):s(a)},a.readAsText(e[0])})),u=Object(Ee.a)({onDrop:p}),m=u.getRootProps,d=u.getInputProps,h=u.isDragActive;return o.a.createElement(Ct,{open:t,onClose:a,title:"Import Text Snippets",actions:[{text:"Add Samples",onClick:function(){i(l.split("\n").map((function(e){return e.trim()})).filter(Boolean).map((function(e){return{document:e}})))}}]},o.a.createElement("div",Object.assign({},m(),{onClick:Qn}),o.a.createElement("input",d()),h?o.a.createElement(Yn,null,"Drop the text or csv file here."):o.a.createElement(Gn,{value:l,onChange:function(e,t){return s(e.target.value)},placeholder:"Paste Snippets here\nOne snippet per line.\n\nYou can also drag a text or csv file here."})))},Zn="https://cdn.pixabay.com/photo/2017/06/12/19/02/cat-2396473__480.jpg\nhttps://cdn.pixabay.com/photo/2015/06/03/13/13/cats-796437__480.jpg\nhttps://cdn.pixabay.com/photo/2012/11/26/13/58/cat-67345__480.jpg\nhttps://cdn.pixabay.com/photo/2014/09/18/20/17/cat-451377__480.jpg\nhttps://cdn.pixabay.com/photo/2015/01/31/12/36/cat-618470__480.jpg\nhttps://cdn.pixabay.com/photo/2014/07/24/18/40/cat-401124__480.jpg\nhttps://cdn.pixabay.com/photo/2014/04/13/20/49/cat-323262__480.jpg\nhttps://cdn.pixabay.com/photo/2015/02/14/10/16/cat-636172__480.jpg\nhttps://cdn.pixabay.com/photo/2013/10/28/14/30/cat-201855__480.jpg\nhttps://cdn.pixabay.com/photo/2015/04/16/15/21/cat-725793__480.jpg\nhttps://cdn.pixabay.com/photo/2016/01/20/13/05/cat-1151519__480.jpg\nhttps://cdn.pixabay.com/photo/2017/05/31/21/52/cat-2361787__480.jpg\nhttps://cdn.pixabay.com/photo/2014/10/01/10/46/cat-468232__480.jpg\nhttps://cdn.pixabay.com/photo/2014/04/29/13/19/cat-334383__480.jpg\nhttps://cdn.pixabay.com/photo/2014/01/17/14/53/cat-246933__480.jpg\nhttps://cdn.pixabay.com/photo/2017/05/31/21/46/cats-2361762__480.jpg\nhttps://cdn.pixabay.com/photo/2017/05/21/22/06/cat-2332444__480.jpg\nhttps://cdn.pixabay.com/photo/2014/03/30/23/35/cat-301720__480.jpg\nhttps://cdn.pixabay.com/photo/2017/05/21/22/07/cat-2332451__480.jpg\nhttps://cdn.pixabay.com/photo/2014/08/03/00/51/kitten-408798__480.jpg\nhttps://cdn.pixabay.com/photo/2017/05/11/07/27/cat-2303146__480.jpg\nhttps://cdn.pixabay.com/photo/2014/03/30/23/49/cat-301723__480.jpg\nhttps://cdn.pixabay.com/photo/2013/07/18/20/27/cat-165068__480.jpg\nhttps://cdn.pixabay.com/photo/2017/05/25/07/40/cat-2342562__480.jpg\nhttps://cdn.pixabay.com/photo/2017/05/30/22/27/british-shorthair-2358404__480.jpg\nhttps://cdn.pixabay.com/photo/2012/02/27/16/57/animal-17430__480.jpg\nhttps://cdn.pixabay.com/photo/2017/04/06/15/15/cat-2208535__480.jpg\nhttps://cdn.pixabay.com/photo/2017/05/18/10/57/cat-2323258__480.jpg\nhttps://cdn.pixabay.com/photo/2016/11/18/21/26/cat-1836936__480.jpg\nhttps://cdn.pixabay.com/photo/2017/03/19/22/09/cat-2157747__480.jpg\nhttps://cdn.pixabay.com/photo/2017/04/21/13/24/red-headed-cat-2248705__480.jpg\nhttps://cdn.pixabay.com/photo/2017/04/10/18/52/cat-2219427__480.jpg\nhttps://cdn.pixabay.com/photo/2017/05/22/20/54/rest-2335341__480.jpg\nhttps://cdn.pixabay.com/photo/2017/05/13/09/46/cat-2309126__480.jpg\nhttps://cdn.pixabay.com/photo/2017/05/13/20/53/cat-2310623__480.jpg\nhttps://cdn.pixabay.com/photo/2017/03/30/14/14/cat-2188612__480.jpg\nhttps://cdn.pixabay.com/photo/2017/05/30/14/57/hunter-2357204__480.jpg\nhttps://cdn.pixabay.com/photo/2017/05/12/06/00/cat-2306185__480.jpg\nhttps://cdn.pixabay.com/photo/2017/05/23/21/31/cat-2338666__480.jpg\nhttps://cdn.pixabay.com/photo/2017/05/03/05/25/cat-2280148__480.jpg\nhttps://cdn.pixabay.com/photo/2017/04/08/13/53/cat-2213342__480.jpg\nhttps://cdn.pixabay.com/photo/2017/03/22/00/13/cat-2163594__480.jpg\nhttps://cdn.pixabay.com/photo/2017/05/13/21/14/british-shorthair-2310671__480.jpg\nhttps://cdn.pixabay.com/photo/2017/02/27/09/09/cat-2102418__480.jpg\nhttps://cdn.pixabay.com/photo/2017/03/05/16/21/cat-2118990__480.jpg\nhttps://cdn.pixabay.com/photo/2017/05/26/15/25/cat-2346301__480.jpg\nhttps://cdn.pixabay.com/photo/2017/02/12/11/52/cat-house-physician-2059812__480.jpg\nhttps://cdn.pixabay.com/photo/2017/04/14/19/56/british-shorthair-2231188__480.jpg\nhttps://cdn.pixabay.com/photo/2017/04/27/08/26/animal-2264818__480.jpg\nhttps://cdn.pixabay.com/photo/2017/05/21/16/36/cat-2331692__480.jpg\nhttps://cdn.pixabay.com/photo/2017/03/12/19/09/cat-2137810__480.jpg\nhttps://cdn.pixabay.com/photo/2017/03/16/18/36/summer-2149911__480.jpg\nhttps://cdn.pixabay.com/photo/2017/04/06/19/16/cat-2209109__480.jpg\nhttps://cdn.pixabay.com/photo/2017/04/05/10/31/cat-baby-2204590__480.jpg\nhttps://cdn.pixabay.com/photo/2017/02/24/17/10/chartreux-2095661__480.jpg\nhttps://cdn.pixabay.com/photo/2017/05/13/07/18/cat-2308849__480.jpg\nhttps://cdn.pixabay.com/photo/2017/05/18/11/21/cat-2323326__480.jpg\nhttps://cdn.pixabay.com/photo/2017/03/06/09/16/cat-2120915__480.jpg\nhttps://cdn.pixabay.com/photo/2017/05/23/09/01/cat-2336605__480.jpg\nhttps://cdn.pixabay.com/photo/2016/11/21/12/52/animal-1845248__480.jpg\nhttps://cdn.pixabay.com/photo/2017/04/07/18/37/cat-2211609__480.jpg\nhttps://cdn.pixabay.com/photo/2016/03/09/15/27/cat-1246659__480.jpg\nhttps://cdn.pixabay.com/photo/2017/05/10/14/46/cat-2301015__480.jpg\nhttps://cdn.pixabay.com/photo/2016/02/19/10/05/cat-1209067__480.jpg\nhttps://cdn.pixabay.com/photo/2017/05/13/09/47/cat-2309127__480.jpg\nhttps://cdn.pixabay.com/photo/2017/05/22/07/40/cat-2333413__480.jpg\nhttps://cdn.pixabay.com/photo/2017/03/12/01/29/cats-2136245__480.jpg\nhttps://cdn.pixabay.com/photo/2017/05/29/10/30/kitten-2353403__480.jpg\nhttps://cdn.pixabay.com/photo/2017/05/15/09/59/cat-2314326__480.jpg\nhttps://cdn.pixabay.com/photo/2016/11/07/22/49/kitten-1807071__480.jpg\nhttps://cdn.pixabay.com/photo/2017/02/13/14/47/cat-2062790__480.jpg\nhttps://cdn.pixabay.com/photo/2016/12/16/20/44/cat-1912330__480.jpg\nhttps://cdn.pixabay.com/photo/2016/11/06/19/42/cat-1803904__480.jpg\nhttps://cdn.pixabay.com/photo/2016/11/15/12/36/cat-1826117__480.jpg\nhttps://cdn.pixabay.com/photo/2016/03/27/16/55/cats-1283110__480.jpg\nhttps://cdn.pixabay.com/photo/2016/08/30/18/15/cat-1631648__480.jpg\nhttps://cdn.pixabay.com/photo/2017/06/11/11/14/cat-2392058__480.jpg\nhttps://cdn.pixabay.com/photo/2017/01/07/14/33/cat-1960537__480.jpg\nhttps://cdn.pixabay.com/photo/2016/10/16/10/00/cat-1744750__480.jpg\nhttps://cdn.pixabay.com/photo/2017/02/26/14/12/cat-2100306__480.jpg\nhttps://cdn.pixabay.com/photo/2017/05/05/21/51/cat-2288326__480.jpg\nhttps://cdn.pixabay.com/photo/2017/05/26/15/25/cat-2346303__480.jpg\nhttps://cdn.pixabay.com/photo/2016/09/16/19/47/cat-1674990__480.jpg\nhttps://cdn.pixabay.com/photo/2016/10/16/10/00/cat-1744749__480.jpg\nhttps://cdn.pixabay.com/photo/2017/02/03/09/26/cat-2034833__480.jpg\nhttps://cdn.pixabay.com/photo/2016/10/20/05/50/cat-1754702__480.jpg\nhttps://cdn.pixabay.com/photo/2016/11/21/11/41/animal-1844835__480.jpg\nhttps://cdn.pixabay.com/photo/2017/03/05/18/05/cat-2119283__480.jpg\nhttps://cdn.pixabay.com/photo/2017/02/02/18/18/cat-2033451__480.jpg\nhttps://cdn.pixabay.com/photo/2016/12/13/19/12/cat-1904907__480.jpg\nhttps://cdn.pixabay.com/photo/2016/12/23/15/58/cat-1927512__480.jpg\nhttps://cdn.pixabay.com/photo/2016/12/11/02/41/cat-1898659__480.jpg\nhttps://cdn.pixabay.com/photo/2016/08/16/14/40/cat-1598113__480.jpg\nhttps://cdn.pixabay.com/photo/2016/07/13/10/34/cat-1514076__480.jpg\nhttps://cdn.pixabay.com/photo/2016/12/30/17/27/cat-1941089__480.jpg\nhttps://cdn.pixabay.com/photo/2016/05/17/17/16/cat-1398627__480.jpg\nhttps://cdn.pixabay.com/photo/2016/09/18/12/29/cat-1678009__480.jpg\nhttps://cdn.pixabay.com/photo/2016/12/11/02/51/cat-1898678__480.jpg\nhttps://cdn.pixabay.com/photo/2017/02/23/16/26/cat-2092580__480.jpg\nhttps://cdn.pixabay.com/photo/2016/07/06/13/28/cat-1500498__480.jpg\nhttps://cdn.pixabay.com/photo/2016/10/18/13/44/cat-1750241__480.jpg\nhttps://cdn.pixabay.com/photo/2017/03/19/20/28/cat-2157497__480.jpg\nhttps://cdn.pixabay.com/photo/2017/03/14/19/15/cat-2144133__480.jpg\nhttps://cdn.pixabay.com/photo/2017/03/19/22/11/cat-2157750__480.jpg\nhttps://cdn.pixabay.com/photo/2016/10/11/04/25/cat-1730517__480.jpg\nhttps://cdn.pixabay.com/photo/2017/02/23/15/06/cat-2092428__480.jpg\nhttps://cdn.pixabay.com/photo/2017/03/29/15/59/small-cat-2185670__480.jpg\nhttps://cdn.pixabay.com/photo/2017/03/05/20/08/baby-cat-2119703__480.jpg\nhttps://cdn.pixabay.com/photo/2016/12/11/02/28/cat-1898625__480.jpg\nhttps://cdn.pixabay.com/photo/2016/08/13/21/33/cat-1591598__480.jpg\nhttps://cdn.pixabay.com/photo/2016/12/11/10/34/cat-1899127__480.jpg\nhttps://cdn.pixabay.com/photo/2016/12/01/13/23/cat-1875282__480.jpg\nhttps://cdn.pixabay.com/photo/2017/01/31/19/04/cat-2026479__480.jpg\nhttps://cdn.pixabay.com/photo/2016/12/11/02/45/cat-1898667__480.jpg\nhttps://cdn.pixabay.com/photo/2016/08/12/18/34/cat-1589369__480.jpg\nhttps://cdn.pixabay.com/photo/2016/12/10/13/00/cat-1897224__480.jpg\nhttps://cdn.pixabay.com/photo/2016/11/28/15/23/cat-1865263__480.jpg\nhttps://cdn.pixabay.com/photo/2016/10/05/15/58/cats-1716984__480.jpg\nhttps://cdn.pixabay.com/photo/2016/12/11/00/41/cat-1898510__480.jpg\nhttps://cdn.pixabay.com/photo/2016/08/13/21/53/cat-1591636__480.jpg\nhttps://cdn.pixabay.com/photo/2016/12/11/00/36/cat-1898497__480.jpg\nhttps://cdn.pixabay.com/photo/2016/12/07/22/47/cat-1890583__480.jpg\nhttps://cdn.pixabay.com/photo/2017/01/21/18/15/cat-1997911__480.jpg\nhttps://cdn.pixabay.com/photo/2016/09/20/20/47/cat-1683387__480.jpg\nhttps://cdn.pixabay.com/photo/2016/09/16/12/42/cat-1673924__480.jpg\nhttps://cdn.pixabay.com/photo/2016/06/27/10/53/cat-1482258__480.jpg\nhttps://cdn.pixabay.com/photo/2017/03/05/20/16/baby-cat-2119755__480.jpg\nhttps://cdn.pixabay.com/photo/2016/12/11/02/55/cat-1898683__480.jpg\nhttps://cdn.pixabay.com/photo/2017/03/27/21/31/cat-2180331__480.jpg\nhttps://cdn.pixabay.com/photo/2016/09/16/17/25/cat-1674617__480.jpg\nhttps://cdn.pixabay.com/photo/2016/09/17/00/53/cat-1675428__480.jpg\nhttps://cdn.pixabay.com/photo/2016/11/07/10/03/cat-1805310__480.jpg\nhttps://cdn.pixabay.com/photo/2016/05/19/21/04/cat-1403948__480.jpg\nhttps://cdn.pixabay.com/photo/2016/05/19/21/18/cat-1403970__480.jpg\nhttps://cdn.pixabay.com/photo/2016/07/08/13/10/cat-1504307__480.jpg\nhttps://cdn.pixabay.com/photo/2016/11/07/14/36/cat-1805964__480.jpg\nhttps://cdn.pixabay.com/photo/2016/12/18/18/42/kittens-1916542__480.jpg\nhttps://cdn.pixabay.com/photo/2016/03/27/19/45/animal-1283955__480.jpg\nhttps://cdn.pixabay.com/photo/2016/02/12/15/21/cat-1196242__480.jpg\nhttps://cdn.pixabay.com/photo/2016/09/24/22/20/cat-1692702__480.jpg\nhttps://cdn.pixabay.com/photo/2017/01/07/13/42/nature-1960387__480.jpg\nhttps://cdn.pixabay.com/photo/2016/09/24/23/26/cat-1692815__480.jpg\nhttps://cdn.pixabay.com/photo/2016/12/11/00/39/cat-1898503__480.jpg\nhttps://cdn.pixabay.com/photo/2016/08/23/23/08/cat-1615778__480.jpg\nhttps://cdn.pixabay.com/photo/2016/10/18/16/02/natural-1750606__480.jpg\nhttps://cdn.pixabay.com/photo/2017/02/11/22/47/cat-2058900__480.jpg\nhttps://cdn.pixabay.com/photo/2016/08/23/23/29/cat-1615825__480.jpg\nhttps://cdn.pixabay.com/photo/2016/09/17/00/51/cat-1675427__480.jpg\nhttps://cdn.pixabay.com/photo/2016/04/18/17/58/cat-1337040__480.jpg\nhttps://cdn.pixabay.com/photo/2017/01/02/19/19/cat-1947715__480.jpg\nhttps://cdn.pixabay.com/photo/2016/11/12/20/29/cat-1819685__480.jpg\nhttps://cdn.pixabay.com/photo/2016/03/29/13/12/cat-1288218__480.jpg\nhttps://cdn.pixabay.com/photo/2016/08/13/21/37/cat-1591612__480.jpg\nhttps://cdn.pixabay.com/photo/2016/08/12/18/36/cat-1589373__480.jpg\nhttps://cdn.pixabay.com/photo/2016/06/16/14/10/cat-1461375__480.jpg\nhttps://cdn.pixabay.com/photo/2016/07/13/17/40/pet-1515038__480.jpg\nhttps://cdn.pixabay.com/photo/2016/09/25/14/40/cat-1693837__480.jpg\nhttps://cdn.pixabay.com/photo/2017/01/13/22/04/cat-1978346__480.jpg\nhttps://cdn.pixabay.com/photo/2016/12/16/15/03/cat-1911571__480.jpg\nhttps://cdn.pixabay.com/photo/2016/07/17/17/46/cat-1524308__480.jpg\nhttps://cdn.pixabay.com/photo/2017/01/29/21/39/cat-2019457__480.jpg\nhttps://cdn.pixabay.com/photo/2016/08/11/07/41/cat-1584966__480.jpg\nhttps://cdn.pixabay.com/photo/2016/08/24/14/55/cat-1617155__480.jpg\nhttps://cdn.pixabay.com/photo/2016/06/15/17/58/cat-1459525__480.jpg\nhttps://cdn.pixabay.com/photo/2016/08/16/14/42/cat-1598115__480.jpg\nhttps://cdn.pixabay.com/photo/2017/06/03/19/06/pet-2369442__480.jpg\nhttps://cdn.pixabay.com/photo/2015/07/02/00/36/cat-828238__480.jpg\nhttps://cdn.pixabay.com/photo/2017/05/18/08/17/cat-2322898__480.jpg\nhttps://cdn.pixabay.com/photo/2017/03/04/14/18/cat-2116168__480.jpg\nhttps://cdn.pixabay.com/photo/2016/10/06/11/24/cat-1718842__480.jpg\nhttps://cdn.pixabay.com/photo/2016/07/09/09/02/cat-1505941__480.jpg\nhttps://cdn.pixabay.com/photo/2016/08/23/23/08/cat-1615779__480.jpg\nhttps://cdn.pixabay.com/photo/2016/12/10/13/03/cat-1897233__480.jpg\nhttps://cdn.pixabay.com/photo/2016/09/01/11/09/cat-1635847__480.jpg\nhttps://cdn.pixabay.com/photo/2017/05/31/16/30/cat-2360874__480.jpg\nhttps://cdn.pixabay.com/photo/2017/05/16/21/54/pet-2319130__480.jpg\nhttps://cdn.pixabay.com/photo/2016/02/06/15/35/cat-1183083__480.jpg\nhttps://cdn.pixabay.com/photo/2016/10/05/18/03/cat-1717252__480.jpg\nhttps://cdn.pixabay.com/photo/2015/12/08/17/26/kitten-1083356__480.jpg\nhttps://cdn.pixabay.com/photo/2016/01/17/11/35/cat-1144740__480.jpg\nhttps://cdn.pixabay.com/photo/2016/07/21/18/54/fear-1533284__480.jpg\nhttps://cdn.pixabay.com/photo/2017/01/27/19/21/british-shorthair-2014007__480.jpg\nhttps://cdn.pixabay.com/photo/2015/08/27/21/00/cat-911125__480.jpg\nhttps://cdn.pixabay.com/photo/2016/05/01/22/29/cat-1366123__480.jpg\nhttps://cdn.pixabay.com/photo/2016/02/06/15/41/cat-1183091__480.jpg\nhttps://cdn.pixabay.com/photo/2016/02/12/16/38/cat-1196363__480.jpg\nhttps://cdn.pixabay.com/photo/2017/02/22/15/37/cat-2089715__480.jpg\nhttps://cdn.pixabay.com/photo/2017/02/24/17/00/chartreux-2095641__480.jpg\nhttps://cdn.pixabay.com/photo/2016/12/27/15/11/kitten-1934096__480.jpg\nhttps://cdn.pixabay.com/photo/2017/03/05/12/08/white-2118474__480.jpg\nhttps://cdn.pixabay.com/photo/2016/03/29/15/59/cat-1288531__480.jpg\nhttps://cdn.pixabay.com/photo/2016/07/28/07/11/cat-1547144__480.jpg\nhttps://cdn.pixabay.com/photo/2015/12/17/02/29/cat-1096821__480.jpg\nhttps://cdn.pixabay.com/photo/2015/12/03/12/26/cat-1074840__480.jpg\nhttps://cdn.pixabay.com/photo/2017/01/29/17/21/sleeping-cat-2018788__480.jpg\nhttps://cdn.pixabay.com/photo/2015/07/31/15/00/cat-869201__480.jpg\nhttps://cdn.pixabay.com/photo/2015/07/28/18/47/cat-864748__480.jpg\nhttps://cdn.pixabay.com/photo/2016/10/20/08/36/cat-1754897__480.jpg\nhttps://cdn.pixabay.com/photo/2016/08/08/17/38/cat-1578865__480.jpg\nhttps://cdn.pixabay.com/photo/2015/11/12/20/32/cats-1040954__480.jpg\nhttps://cdn.pixabay.com/photo/2016/01/28/12/16/cat-1166174__480.jpg\nhttps://cdn.pixabay.com/photo/2016/09/18/20/07/cat-1678884__480.jpg\nhttps://cdn.pixabay.com/photo/2015/11/16/21/57/cat-1046497__480.jpg\nhttps://cdn.pixabay.com/photo/2016/08/16/14/48/cat-1598126__480.jpg\nhttps://cdn.pixabay.com/photo/2017/02/16/20/02/cat-2072339__480.jpg\nhttps://cdn.pixabay.com/photo/2015/12/08/14/19/cat-1083000__480.jpg\nhttps://cdn.pixabay.com/photo/2016/02/07/15/00/cat-1184916__480.jpg\nhttps://cdn.pixabay.com/photo/2016/01/05/19/11/cat-1123124__480.jpg\nhttps://cdn.pixabay.com/photo/2016/05/01/19/38/cat-1365643__480.jpg\nhttps://cdn.pixabay.com/photo/2016/07/17/14/50/cat-1523929__480.jpg\nhttps://cdn.pixabay.com/photo/2016/05/08/01/24/cat-1378520__480.jpg\nhttps://cdn.pixabay.com/photo/2016/05/26/20/09/cat-1418261__480.jpg\nhttps://cdn.pixabay.com/photo/2015/12/08/17/48/cat-1083393__480.jpg\nhttps://cdn.pixabay.com/photo/2016/04/14/19/56/cat-1329622__480.jpg\nhttps://cdn.pixabay.com/photo/2016/11/29/07/38/adorable-1868150__480.jpg\nhttps://cdn.pixabay.com/photo/2015/09/08/18/59/cat-930534__480.jpg\nhttps://cdn.pixabay.com/photo/2016/01/24/19/56/cat-1159540__480.jpg\nhttps://cdn.pixabay.com/photo/2016/03/23/17/32/cat-1275191__480.jpg\nhttps://cdn.pixabay.com/photo/2015/09/20/15/15/cat-948423__480.jpg\nhttps://cdn.pixabay.com/photo/2016/04/14/18/43/cat-1329441__480.jpg\nhttps://cdn.pixabay.com/photo/2015/03/18/15/14/cat-679425__480.jpg\nhttps://cdn.pixabay.com/photo/2016/12/15/23/24/cat-1910266__480.jpg\nhttps://cdn.pixabay.com/photo/2017/06/15/19/47/cat-2406499__480.jpg\nhttps://cdn.pixabay.com/photo/2015/11/15/20/24/cat-1044759__480.jpg\nhttps://cdn.pixabay.com/photo/2016/08/25/18/20/cat-1620296__480.jpg\nhttps://cdn.pixabay.com/photo/2015/11/06/15/40/cat-1029087__480.jpg\nhttps://cdn.pixabay.com/photo/2016/05/07/21/06/cat-1378201__480.jpg\nhttps://cdn.pixabay.com/photo/2016/07/26/13/53/cat-1542857__480.jpg\nhttps://cdn.pixabay.com/photo/2015/11/03/23/23/cat-1021602__480.jpg\nhttps://cdn.pixabay.com/photo/2015/03/26/09/56/cat-690613__480.jpg\nhttps://cdn.pixabay.com/photo/2016/03/14/20/21/kitten-1256216__480.jpg\nhttps://cdn.pixabay.com/photo/2015/11/01/19/42/cat-1017455__480.jpg\nhttps://cdn.pixabay.com/photo/2015/10/19/13/09/young-cat-995956__480.jpg\nhttps://cdn.pixabay.com/photo/2016/02/07/14/03/cat-1184747__480.jpg\nhttps://cdn.pixabay.com/photo/2016/07/11/12/25/cat-1509583__480.jpg\nhttps://cdn.pixabay.com/photo/2016/02/19/09/23/cat-1208988__480.jpg\nhttps://cdn.pixabay.com/photo/2016/07/23/00/34/cat-1536107__480.jpg\nhttps://cdn.pixabay.com/photo/2016/02/23/12/01/cat-1217434__480.jpg\nhttps://cdn.pixabay.com/photo/2015/12/27/10/54/pet-1109666__480.jpg\nhttps://cdn.pixabay.com/photo/2016/08/05/18/27/cat-1572896__480.jpg\nhttps://cdn.pixabay.com/photo/2016/01/20/04/54/animals-1150920__480.jpg\nhttps://cdn.pixabay.com/photo/2015/04/23/19/57/cat-736561__480.jpg\nhttps://cdn.pixabay.com/photo/2016/05/09/17/54/wildcat-1382136__480.jpg\nhttps://cdn.pixabay.com/photo/2015/01/11/16/41/cat-596418__480.jpg\nhttps://cdn.pixabay.com/photo/2015/06/01/23/33/cat-794452__480.jpg\nhttps://cdn.pixabay.com/photo/2015/05/14/11/23/cat-766643__480.jpg\nhttps://cdn.pixabay.com/photo/2016/05/07/20/49/cat-1378185__480.jpg\nhttps://cdn.pixabay.com/photo/2015/11/12/20/32/kitten-1040955__480.jpg\nhttps://cdn.pixabay.com/photo/2016/08/29/14/43/cat-1628424__480.jpg\nhttps://cdn.pixabay.com/photo/2015/11/05/01/22/cat-1023576__480.jpg\nhttps://cdn.pixabay.com/photo/2016/12/09/16/11/cat-1895171__480.jpg\nhttps://cdn.pixabay.com/photo/2016/10/04/10/18/cat-1713960__480.jpg\nhttps://cdn.pixabay.com/photo/2016/11/09/20/34/kittens-1812641__480.jpg\nhttps://cdn.pixabay.com/photo/2016/05/29/10/20/cat-1422703__480.jpg\nhttps://cdn.pixabay.com/photo/2016/01/08/22/11/cat-1129372__480.jpg\nhttps://cdn.pixabay.com/photo/2014/02/25/17/41/cat-274443__480.jpg\nhttps://cdn.pixabay.com/photo/2016/07/28/17/26/cat-1548585__480.jpg\nhttps://cdn.pixabay.com/photo/2016/04/10/15/32/black-1320161__480.jpg\nhttps://cdn.pixabay.com/photo/2016/03/18/01/47/pet-1264258__480.jpg\nhttps://cdn.pixabay.com/photo/2016/05/22/22/52/cat-1409382__480.jpg\nhttps://cdn.pixabay.com/photo/2016/05/04/09/57/cat-1371107__480.jpg\nhttps://cdn.pixabay.com/photo/2016/08/20/14/49/cat-1607652__480.jpg\nhttps://cdn.pixabay.com/photo/2016/02/07/15/44/cat-1185006__480.jpg\nhttps://cdn.pixabay.com/photo/2016/09/04/17/07/cat-1644545__480.jpg\nhttps://cdn.pixabay.com/photo/2016/05/07/21/07/cat-1378203__480.jpg\nhttps://cdn.pixabay.com/photo/2016/09/26/15/27/cat-1696199__480.jpg\nhttps://cdn.pixabay.com/photo/2014/12/16/15/41/cat-570459__480.jpg\nhttps://cdn.pixabay.com/photo/2015/03/09/07/23/cat-665134__480.jpg\nhttps://cdn.pixabay.com/photo/2015/12/06/14/59/cat-1079556__480.jpg\nhttps://cdn.pixabay.com/photo/2016/09/04/22/38/cat-1645479__480.jpg\nhttps://cdn.pixabay.com/photo/2016/10/10/19/37/cat-1729674__480.jpg\nhttps://cdn.pixabay.com/photo/2016/08/23/13/25/cat-1614345__480.jpg\nhttps://cdn.pixabay.com/photo/2015/12/19/12/57/cat-1099730__480.jpg\nhttps://cdn.pixabay.com/photo/2015/02/11/12/14/cat-632335__480.jpg\nhttps://cdn.pixabay.com/photo/2016/09/02/21/28/cat-1640263__480.jpg\nhttps://cdn.pixabay.com/photo/2015/07/31/15/01/cat-869218__480.jpg\nhttps://cdn.pixabay.com/photo/2015/12/06/15/14/cat-1079583__480.jpg\nhttps://cdn.pixabay.com/photo/2015/04/13/22/05/cat-721357__480.jpg\nhttps://cdn.pixabay.com/photo/2016/06/19/11/14/cat-1466474__480.jpg\nhttps://cdn.pixabay.com/photo/2016/05/17/03/27/cat-1397342__480.jpg\nhttps://cdn.pixabay.com/photo/2015/11/08/18/05/cat-1034034__480.jpg\nhttps://cdn.pixabay.com/photo/2016/08/10/22/58/cat-1584537__480.jpg\nhttps://cdn.pixabay.com/photo/2015/03/09/07/23/young-cat-665133__480.jpg\nhttps://cdn.pixabay.com/photo/2014/11/11/20/50/cat-527418__480.jpg\nhttps://cdn.pixabay.com/photo/2015/10/29/05/40/cat-1011739__480.jpg\nhttps://cdn.pixabay.com/photo/2015/11/15/20/27/cat-1044768__480.jpg\nhttps://cdn.pixabay.com/photo/2015/12/13/17/55/cat-1091479__480.jpg\nhttps://cdn.pixabay.com/photo/2016/07/28/07/31/cat-fishing-in-pool-1547186__480.jpg\nhttps://cdn.pixabay.com/photo/2015/11/24/00/43/hangover-1059311__480.jpg\nhttps://cdn.pixabay.com/photo/2015/09/20/17/35/cat-948546__480.jpg\nhttps://cdn.pixabay.com/photo/2015/12/03/11/14/cat-1074729__480.jpg\nhttps://cdn.pixabay.com/photo/2016/09/01/18/32/black-cat-1636918__480.jpg\nhttps://cdn.pixabay.com/photo/2016/12/03/07/12/cat-1879219__480.jpg\nhttps://cdn.pixabay.com/photo/2015/04/10/08/55/cat-715910__480.jpg\nhttps://cdn.pixabay.com/photo/2015/11/13/10/37/cats-1041806__480.jpg\nhttps://cdn.pixabay.com/photo/2016/01/01/21/45/cat-1117141__480.jpg\nhttps://cdn.pixabay.com/photo/2016/08/07/20/43/cat-1577119__480.jpg\nhttps://cdn.pixabay.com/photo/2015/04/02/06/25/cat-mia-703411__480.jpg\nhttps://cdn.pixabay.com/photo/2016/08/03/12/34/cat-1566612__480.jpg\nhttps://cdn.pixabay.com/photo/2016/08/20/00/02/cat-1606607__480.jpg\nhttps://cdn.pixabay.com/photo/2015/07/29/22/29/cat-866667__480.jpg\nhttps://cdn.pixabay.com/photo/2016/02/12/16/21/cat-1196331__480.jpg\nhttps://cdn.pixabay.com/photo/2015/11/12/18/01/cat-1040722__480.jpg\nhttps://cdn.pixabay.com/photo/2016/05/13/23/07/cat-1391126__480.jpg\nhttps://cdn.pixabay.com/photo/2015/07/07/01/54/dog-833957__480.jpg\nhttps://cdn.pixabay.com/photo/2016/02/05/20/43/cat-1181938__480.jpg\nhttps://cdn.pixabay.com/photo/2016/02/19/01/02/cat-1208510__480.jpg\nhttps://cdn.pixabay.com/photo/2015/12/15/05/22/cat-1093707__480.jpg\nhttps://cdn.pixabay.com/photo/2015/05/02/22/41/cat-750515__480.jpg\nhttps://cdn.pixabay.com/photo/2016/01/17/12/03/cat-1144799__480.jpg\nhttps://cdn.pixabay.com/photo/2015/11/24/08/29/hangover-1059663__480.jpg\nhttps://cdn.pixabay.com/photo/2015/08/09/11/39/animal-881447__480.jpg\nhttps://cdn.pixabay.com/photo/2015/11/12/18/35/cat-1040771__480.jpg\nhttps://cdn.pixabay.com/photo/2016/03/03/20/30/cat-1234968__480.jpg\nhttps://cdn.pixabay.com/photo/2016/07/26/13/53/cat-1542856__480.jpg\nhttps://cdn.pixabay.com/photo/2016/02/27/13/05/cat-1225500__480.jpg\nhttps://cdn.pixabay.com/photo/2015/05/11/22/23/cat-763213__480.jpg\nhttps://cdn.pixabay.com/photo/2016/09/30/16/19/abyssinian-cat-1705659__480.jpg\nhttps://cdn.pixabay.com/photo/2016/07/07/01/06/cat-1501706__480.jpg\nhttps://cdn.pixabay.com/photo/2016/10/01/20/31/cat-1708291__480.jpg\nhttps://cdn.pixabay.com/photo/2016/08/03/11/48/united-kingdom-shorthair-1566487__480.jpg\nhttps://cdn.pixabay.com/photo/2016/02/07/15/38/cat-1184985__480.jpg\nhttps://cdn.pixabay.com/photo/2015/09/24/17/28/cat-955971__480.jpg\nhttps://cdn.pixabay.com/photo/2016/06/09/19/17/cat-1446346__480.jpg\nhttps://cdn.pixabay.com/photo/2017/03/19/10/57/cat-2156185__480.jpg\nhttps://cdn.pixabay.com/photo/2013/10/26/03/39/cat-200954__480.jpg\nhttps://cdn.pixabay.com/photo/2015/11/07/21/40/white-1032761__480.jpg\nhttps://cdn.pixabay.com/photo/2015/11/12/18/54/cat-1040803__480.jpg\nhttps://cdn.pixabay.com/photo/2016/01/26/22/29/domestic-cat-1163352__480.jpg\nhttps://cdn.pixabay.com/photo/2013/11/17/13/11/cat-212028__480.jpg\nhttps://cdn.pixabay.com/photo/2015/10/14/11/25/cat-987528__480.jpg\nhttps://cdn.pixabay.com/photo/2016/02/07/15/14/cat-1184955__480.jpg\nhttps://cdn.pixabay.com/photo/2015/12/06/16/09/cat-1079662__480.jpg\nhttps://cdn.pixabay.com/photo/2016/07/22/02/59/animal-1534066__480.jpg\nhttps://cdn.pixabay.com/photo/2017/01/06/12/43/cat-1957625__480.jpg\nhttps://cdn.pixabay.com/photo/2016/07/17/21/56/cat-1524846__480.jpg\nhttps://cdn.pixabay.com/photo/2015/11/20/21/18/cat-1053885__480.jpg\nhttps://cdn.pixabay.com/photo/2016/06/07/13/03/cat-1441585__480.jpg\nhttps://cdn.pixabay.com/photo/2014/02/28/23/26/cat-277276__480.jpg\nhttps://cdn.pixabay.com/photo/2013/11/05/05/54/cat-205555__480.jpg\nhttps://cdn.pixabay.com/photo/2016/04/14/19/51/cat-1329598__480.jpg\nhttps://cdn.pixabay.com/photo/2016/01/06/08/59/cat-1123765__480.jpg\nhttps://cdn.pixabay.com/photo/2015/02/12/20/04/cat-634150__480.jpg\nhttps://cdn.pixabay.com/photo/2016/03/17/19/20/cat-1263659__480.jpg\nhttps://cdn.pixabay.com/photo/2014/09/18/19/19/black-cat-451269__480.jpg\nhttps://cdn.pixabay.com/photo/2014/10/05/19/08/pet-475670__480.jpg\nhttps://cdn.pixabay.com/photo/2016/04/12/20/25/cat-1325335__480.jpg\nhttps://cdn.pixabay.com/photo/2015/10/17/13/46/ice-992542__480.jpg\nhttps://cdn.pixabay.com/photo/2015/02/08/16/30/hangover-628724__480.jpg\nhttps://cdn.pixabay.com/photo/2015/11/20/21/30/cat-1053895__480.jpg\nhttps://cdn.pixabay.com/photo/2016/02/07/15/24/cat-1184976__480.jpg\nhttps://cdn.pixabay.com/photo/2015/03/04/11/30/british-shorthair-658689__480.jpg\nhttps://cdn.pixabay.com/photo/2016/09/28/06/43/cat-1699876__480.jpg\nhttps://cdn.pixabay.com/photo/2014/05/17/22/46/cat-346604__480.jpg\nhttps://cdn.pixabay.com/photo/2015/11/20/22/59/cat-1054032__480.jpg\nhttps://cdn.pixabay.com/photo/2016/10/17/16/21/cat-1748075__480.jpg\nhttps://cdn.pixabay.com/photo/2015/11/15/22/09/red-1044915__480.jpg\nhttps://cdn.pixabay.com/photo/2016/02/24/17/43/pet-1220392__480.jpg\nhttps://cdn.pixabay.com/photo/2015/12/22/02/05/cat-1103503__480.jpg\nhttps://cdn.pixabay.com/photo/2015/12/21/03/17/cat-1101995__480.jpg".split("\n"),$n=a(8),eo=a.n($n),to=Object(M.a)("div")({marginTop:8,marginBottom:8}),ao=Object(M.a)("img")({width:"100%",boxSizing:"border-box"}),no={client_id:"294393711342-h5aqqt3pvn8othepvsmi16iakdhi7m6j.apps.googleusercontent.com",app_id:"294393711342",developer_key:"AIzaSyCoNoDnfzDBSXpt84Q75LU9UMTzvyLkRhg"},oo=function(e){var t=e.open,a=e.onClose,i=e.onAddSamples,c=Object(n.useState)(!1),r=Object(v.a)(c,2),l=r[0],s=r[1],p=Object(n.useState)(!1),u=Object(v.a)(p,2),m=u[0],d=u[1],h=Object(n.useState)(null),b=Object(v.a)(h,2),g=b[0],f=b[1],x=Object(n.useState)([]),y=Object(v.a)(x,2),j=y[0],_=y[1],O=Object(n.useState)(!1),k=Object(v.a)(O,2),E=k[0],w=k[1];Object(n.useEffect)((function(){var e=document.createElement("script");return e.src="https://apis.google.com/js/api.js",e.async=!0,e.onload=function(){s(!0)},document.body.appendChild(e),function(){e.remove()}}),[]);var C=function(e){e.action===window.google.picker.Action.PICKED?(_(e.docs.map((function(e){return{url:e.url,mimeType:e.mimeType,name:e.name,id:e.id}}))),w(!1)):"cancel"===e.action&&a()},S=function(){if(m&&g){var e=new window.google.picker.View(window.google.picker.ViewId.Docs);e.setMimeTypes("image/png","image/jpeg","image/jpg","image/gif","video/mp4","video/mpeg"),(new window.google.picker.PickerBuilder).enableFeature(window.google.picker.Feature.NAV_HIDDEN).enableFeature(window.google.picker.Feature.MULTISELECT_ENABLED).setAppId(no.app_id).setOAuthToken(g).addView(e).addView(window.google.picker.ViewId.DOCS).setDeveloperKey(no.developer_key).setCallback(C).build().setVisible(!0),w(!0)}};Object(n.useEffect)((function(){S()}),[m,g]);var I=function(e){e&&!e.error&&(f(e.access_token),S())},D=function(){window.gapi.auth.authorize({client_id:no.client_id,scope:"https://www.googleapis.com/auth/drive.readonly",immediate:!1},I)},T=function(){d(!0),S()},N=function(){!0===l&&(window.gapi.load("auth",{callback:D}),window.gapi.load("picker",{callback:T}))};return Object(n.useEffect)((function(){t&&N()}),[t,l]),o.a.createElement(Ct,{open:t&&!E,onClose:a,title:"Import from Google Drive",actions:[j&&j.length>0&&{text:"Add ".concat(j.length," Samples"),onClick:function(){var e=[],t=!0,a=!1,n=void 0;try{for(var o,c=j[Symbol.iterator]();!(t=(o=c.next()).done);t=!0){var r=o.value;r.mimeType.includes("image/")?e.push({imageUrl:"https://drive.google.com/uc?id=".concat(r.id)}):r.mimeType.includes("video/")&&e.push({videoUrl:"https://drive.google.com/uc?id=".concat(r.id)})}}catch(l){a=!0,n=l}finally{try{t||null==c.return||c.return()}finally{if(a)throw n}}i(e)}}].filter(Boolean)},o.a.createElement(q.a,{variant:"outlined",onClick:N},"Reopen Google Drive Picker"),o.a.createElement(to,null,"Make sure your Google Drive files are available via a link. ",o.a.createElement("b",null,"If you don't, the files will not appear when you're labeling!")),o.a.createElement(ao,{src:"https://s3.amazonaws.com/asset.workaround.online/google-share-screenshot.png"}))},io=a(380),co=Object(M.a)(q.a)({width:240,height:140,display:"inline-flex",flexDirection:"column","&.disabled":{backgroundColor:z.a[200]},margin:8,"& .icon":{width:48,height:48,color:z.a[600],"&.disabled":{color:z.a[400]}}}),ro=Object(M.a)("div")({fontSize:11,fontWeight:"bold",color:z.a[600],"&.disabled":{color:z.a[500]}}),lo=Object(n.createContext)(),so=function(e){var t=e.Icon,a=e.desktopOnly,n=e.isDesktop,i=e.children,c=e.dialog,r=!!a&&!n;return o.a.createElement(lo.Consumer,null,(function(e){var n=e.onChangeDialog;return(o.a.createElement(co,{onClick:function(){return n(c)},className:kn()({disabled:r}),variant:"outlined",disabled:r},o.a.createElement("div",null,o.a.createElement(t,{className:kn()("icon",{disabled:r})}),o.a.createElement("div",null,i),a&&o.a.createElement(ro,{className:kn()({disabled:r})},"DESKTOP ONLY"))))}))},po=function(e){var t=e.split(".").slice(-1)[0].toLowerCase();return["png","jpg","jpeg"].includes(t)?{imageUrl:"file://".concat(e)}:["pdf"].includes(t)?{pdfUrl:"file://".concat(e)}:["mp4","webm","mkv"].includes(t)?{videoUrl:"file://".concat(e)}:null},uo=function(e){var t=e.oha,a=e.onChangeOHA,i=e.isDesktop,c=Object(n.useState)(),r=Object(v.a)(c,2),l=r[0],s=r[1],p=$(),u=function(){var e=Object(x.a)(f.a.mark((function e(n){var o,i,c,r,l,u,m;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=n,e.next="upload-directory"===e.t0?3:"import-cats"===e.t0?20:22;break;case 3:if(p){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,p.remote.dialog.showOpenDialog({title:"Select Directory to Import Files",properties:["openDirectory"]});case 7:if(o=e.sent,i=o.canceled,c=o.filePaths,!i){e.next=12;break}return e.abrupt("return");case 12:return r=c[0],l=p.remote.require("fs"),u=p.remote.require("path"),e.next=17,l.promises.readdir(r);case 17:return m=e.sent.filter((function(e){return e.includes(".")})).map((function(e){return u.join(r,e)})),a(Object($n.setIn)(t,["taskData"],(t.taskData||[]).concat(m.map(po).filter(Boolean))),!0),e.abrupt("return");case 20:return a(Object($n.setIn)(t,["taskData"],(t.taskData||[]).concat(Zn.map((function(e){return{imageUrl:e}})))),!0),e.abrupt("return");case 22:return e.abrupt("return",s(n));case 23:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(){return s(null)},d=Object(Tt.a)((function(e){a(Object($n.setIn)(t,["taskData"],(t.taskData||[]).concat(e)),!0),m()}));return o.a.createElement(lo.Provider,{value:{onChangeDialog:u}},o.a.createElement("div",null,o.a.createElement(so,{isDesktop:i,dialog:"paste-image-urls",Icon:Fn.a},"Paste URLs"),o.a.createElement(so,{desktopOnly:!0,isDesktop:i,dialog:"upload-directory",Icon:zn.a},"Files from Directory"),o.a.createElement(so,{dialog:"import-text-snippets",Icon:qn.a},"Import Text Snippets"),o.a.createElement(so,{isDesktop:i,dialog:"import-cats",Icon:Vn.a},"Import Cat Images"),o.a.createElement(so,{isDesktop:i,dialog:"google-drive-file-picker",Icon:io.a},"Import from Google Drive"),o.a.createElement(Xn,{open:"import-text-snippets"===l,onClose:m,onAddSamples:d}),o.a.createElement(Kn,{open:"paste-image-urls"===l,onClose:m,onAddSamples:d}),o.a.createElement(oo,{open:"google-drive-file-picker"===l,onClose:m,onAddSamples:d})))},mo=a(796),ho=a(788),bo=a(787),go=Object(M.a)("pre")({fontSize:8}),fo=Object(M.a)(mo.a)({backgroundColor:z.a[100],border:"1px solid ".concat(z.a[500]),marginTop:16,marginBottom:16}),xo=Object(M.a)(bo.a)({fontWeight:"bold"}),vo=function(e){var t=e.open,a=e.onChangeOHA,n=e.onClose,i=e.oha;return(o.a.createElement(Ct,{open:t,onClose:n,title:"Transform Video Keyframes",actions:[{text:"Transform Video Keyframes",disabled:!i.taskOutput,onClick:function(){var e=i.taskData.flatMap((function(e,t){if(!e.videoUrl)return{data:e,output:i.taskOutput[t]};if(e.videoUrl&&!e.videoFrameAt){if(!i.taskOutput[t])return[];if(!i.taskOutput[t].keyframes)return[];var a=i.taskOutput[t].keyframes;return Object.keys(a).map((function(t){return{data:{videoUrl:e.videoUrl,videoFrameAt:parseInt(t)},output:a[t].regions||[]}}))}}));a(eo()(i).setIn(["taskData"],e.map((function(e){return e.data}))).setIn(["taskOutput"],e.map((function(e){return e.output}))).setIn(["interface","type"],"image_segmentation"))}}]},'This operation will convert keyframes set on a video into individual image segmentation frames. Your interface type will change from "video_segmentation" into "image_segmentation". This is sometimes helpful when preparing video data for a computer vision model.',!i.taskOutput&&o.a.createElement("b",null,o.a.createElement("br",null),o.a.createElement("br",null),"You need to label some keyframes to use this."),o.a.createElement(fo,null,o.a.createElement(xo,null,"Details"),o.a.createElement(ho.a,null,o.a.createElement(ut.a,{display:"flex"},o.a.createElement(ut.a,null,o.a.createElement(go,null,'{\n  "interface": { "type": "video_segmentation" },\n  taskData: [\n    {\n      videoUrl: "https://example.com/video1.mp4"\n    }\n  ],\n  taskOutput: [\n    {\n      keyframes: {\n        "0": { /* labels */ },\n        "1000": { /* labels */ },\n        "2000": { /* labels */ }\n      }\n    }\n  ]\n}')),o.a.createElement(ut.a,{display:"flex",justifyContent:"center",alignItems:"center"},o.a.createElement(F.a,{style:{color:z.a[500],width:48,height:48}})),o.a.createElement(ut.a,null,o.a.createElement(go,null,'{\n  "interface": { "type": "image_segmentation" },\n  taskData: [\n    {\n      videoUrl: "https://example.com/vid1.mp4",\n      videoFrameAt: 0\n    },\n    {\n      videoUrl: "https://example.com/vid1.mp4",\n      videoFrameAt: 1000\n    },\n    {\n      videoUrl: "https://example.com/vid1.mp4",\n      videoFrameAt: 2000\n    }\n  ],\n  taskOutput: [\n    { /* labels */ },\n    { /* labels */ },\n    { /* labels */ }\n  ]\n}')))))))},yo=Object(M.a)("div")({height:36,width:"100%",boxSizing:"border-box",position:"relative",marginTop:8,marginBottom:8,backgroundColor:u.a[50]}),jo=Object(M.a)("div")({position:"absolute",left:0,right:0,top:0,bottom:0,paddingTop:4,fontSize:18,textAlign:"center",fontWeight:"bold"}),_o=Object(M.a)("div")({position:"absolute",left:0,bottom:0,top:0,backgroundColor:u.a[300]}),Oo=function(e){var t=e.progress;return(o.a.createElement(yo,null,o.a.createElement(_o,{style:{right:100-t+"%"}}),o.a.createElement(jo,null,Math.floor(t),"%")))},ko=a(245),Eo=a.n(ko),wo=a(140),Co=a.n(wo),So=Object(M.a)("pre")({color:"red",whiteSpace:"prewrap",fontSize:11});function Io(e,t,a){var n="sample_".concat(Eo()(e).slice(0,6),"__").concat(e.split("/").slice(-1)[0].replace(/[^a-zA-Z0-9_\-\.]/g,"")),o=Co.a.join(t,n);return a.require("fs").existsSync(o)?o:new Promise((function(i,c){a.require("download-file")(e,{directory:t,filename:n},(function(e){return e?c(e):i(o)}))}))}var Do=function(e){var t=e.open,a=e.onChangeOHA,i=e.onClose,c=e.oha,r=($()||{}).remote,l=Object(n.useState)(null),s=Object(v.a)(l,2),p=s[0],u=s[1],m=Object(n.useState)(""),d=Object(v.a)(m,2),h=d[0],g=d[1];return o.a.createElement(Ct,{open:t,onClose:i,title:"Download URLs",actions:[{text:"Download URLs",disabled:null!==p,onClick:function(){var e=Object(x.a)(f.a.mark((function e(){var t,n,o,i,l,s,p,m,d,h,x,y;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(0),e.next=3,r.dialog.showOpenDialog({title:"Directory to download files to",buttonLabel:"Download Files Here",properties:["createDirectory","openDirectory","promptToCreate"]});case 3:if(t=e.sent,n=t.cancelled,o=void 0===(o=t.filePaths)?[null]:o,i=Object(v.a)(o,1),l=i[0],!n&&l){e.next=11;break}return u(null),e.abrupt("return");case 11:s=Object(Ht.a)(c.taskData),p="",m=0;case 14:if(!(m<c.taskData.length)){e.next=36;break}if(d=c.taskData[m],h=void 0,d.imageUrl&&(h="imageUrl"),d.videoUrl&&(h="videoUrl"),h&&d[h].startsWith("http")){e.next=21;break}return e.abrupt("continue",33);case 21:return x=d[h],e.prev=22,e.next=25,Io(x,l,r);case 25:y=e.sent,s[m]=Object(b.a)({},d,Object(j.a)({},h,"file://".concat(y))),e.next=32;break;case 29:e.prev=29,e.t0=e.catch(22),p+="Skipping sample, error downloading taskData[".concat(m,"] (").concat(x,"): ").concat(e.t0.toString()," \n");case 32:u(m/c.taskData.length*100);case 33:m++,e.next=14;break;case 36:a(Object($n.setIn)(c,["taskData"],s)),g(p),u(100);case 39:case"end":return e.stop()}}),e,null,[[22,29]])})));return function(){return e.apply(this,arguments)}}()}]},"This transformation will download all the urls from your samples to your computer, and change the paths to filenames. This is usually not a good idea if you're collaborating with others, but is very useful if you're about to build a model.",o.a.createElement(Oo,{progress:p||0}),h&&o.a.createElement(So,null,h))},To=a(193),No=a.n(To),Ao=Object(M.a)("pre")({color:"red",whiteSpace:"prewrap",fontSize:11}),Lo=function(e){var t=Math.floor(e/10)%100,a=Math.floor(e/1e3)%60,n=Math.floor(e/1e3/60)%60;return[Math.floor(e/1e3/60/60),":",n,":",a,".",t].map((function(e){return"number"===typeof e?e.toString().padStart(2,"0"):e})).join("")},Bo=function(e){var t=e.open,a=e.onChangeOHA,i=e.onClose,c=e.oha,r=($()||{}).remote,l=Object(n.useState)(null),s=Object(v.a)(l,2),p=s[0],u=s[1],m=Object(n.useState)(""),d=Object(v.a)(m,2),h=d[0],g=d[1];return o.a.createElement(Ct,{open:t,onClose:i,title:"Convert Video Frames to Images",actions:[{text:"Convert Video Frames to Images",disabled:null!==p,onClick:function(){var e=Object(x.a)(f.a.mark((function e(){var t,n,o,i,l,s,p,m,d;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u(0),t="",(n=r.require("ffmpeg-static"))||g("There was an issue using ffmpeg. Please create an issue on the github repository."),o=r.require("any-shell-escape"),i=r.require("child_process"),l=i.exec,s=Object(Ht.a)(c.taskData),p=0,m=0;case 9:if(!(m<c.taskData.length)){e.next=20;break}if(!(d=c.taskData[m]).videoUrl||void 0===d.videoFrameAt){e.next=16;break}return e.delegateYield(f.a.mark((function e(){var a,i,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!d.videoUrl.startsWith("http")){e.next=3;break}return t+="Sample ".concat(m," has a url to a video, videos must be downloaded before extracting frames."),e.abrupt("return","continue");case 3:return p++,a=d.videoUrl.replace(/^file:\/\//,""),i=a+"__frameat__"+d.videoFrameAt+".jpg",r=o([n,"-y","-ss",Lo(d.videoFrameAt),"-i",a,"-frames:v",1,i]),console.log("running:",r),e.next=10,new Promise((function(e,t){l(r,{timeout:5e3},(function(a){if(a)return t(a);e()}))}));case 10:s[m]=Object(b.a)({},Object($n.without)(Object($n.without)(c.taskData[m],"videoUrl"),"videoFrameAt"),{imageUrl:"file://".concat(i)});case 11:case"end":return e.stop()}}),e)}))(),"t0",13);case 13:if("continue"!==e.t0){e.next=16;break}return e.abrupt("continue",17);case 16:u(m/c.taskData.length*100);case 17:m++,e.next=9;break;case 20:0===p&&(t+="No transforms were performed, do all of your video samples have frames specified? You may need to convert the keyframes to samples."),a(Object($n.setIn)(c,["taskData"],s)),g(t),u(100);case 24:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]},"This transformation will convert samples that reference a video frame into an image. This is a useful step before creating a model. You can only convert videos that are downloaded on your computer. Note: This can take a little while.",o.a.createElement(Oo,{progress:p||0}),h&&o.a.createElement(Ao,null,h))},Ro=Object(M.a)(q.a)({width:240,height:140,display:"inline-flex",flexDirection:"column","&.disabled":{backgroundColor:z.a[200]},margin:8,"& .icon":{width:36,height:36,color:z.a[600],"&.disabled":{color:z.a[400]}}}),Po=Object(M.a)("div")({fontSize:11,fontWeight:"bold",color:z.a[600],"&.disabled":{color:z.a[500]}}),Uo=Object(n.createContext)(),Fo=function(e){var t=e.Icon1,a=e.Icon2,n=e.desktopOnly,i=e.children,c=e.dialog,r=e.disabled,l=Dt();return r=void 0===r?!!n&&!l:r,o.a.createElement(Uo.Consumer,null,(function(e){var l=e.onChangeDialog;return(o.a.createElement(Ro,{onClick:function(){return l(c)},className:kn()({disabled:r}),variant:"outlined",disabled:r},o.a.createElement("div",null,t&&a?o.a.createElement(o.a.Fragment,null,o.a.createElement(t,{className:kn()("icon",{disabled:r})}),o.a.createElement(F.a,{className:kn()("icon",{disabled:r})}),o.a.createElement(a,{className:kn()("icon",{disabled:r})})):o.a.createElement(t,{className:kn()("icon",{disabled:r})}),o.a.createElement("div",null,i),n&&o.a.createElement(Po,{className:kn()({disabled:r})},"DESKTOP ONLY"))))}))},Mo=function(e){var t=e.oha,a=e.onChangeOHA,i=Object(n.useState)(),c=Object(v.a)(i,2),r=c[0],l=c[1],s=($(),function(){var e=Object(x.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t,e.next=(e.t0,3);break;case 3:return e.abrupt("return",l(t));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),p=function(){return l(null)};return o.a.createElement(Uo.Provider,{value:{onChangeDialog:s}},o.a.createElement("div",null,o.a.createElement(Fo,{disabled:"video_segmentation"!==t.interface.type,dialog:"convert-keyframes-to-samples",Icon1:Xe.a,Icon2:No.a},"Convert Video Keyframes to Samples"),o.a.createElement(Fo,{desktopOnly:!0,dialog:"download-urls",Icon1:se.a},"Download URLs"),o.a.createElement(Fo,{desktopOnly:!0,dialog:"convert-video-frames-to-images",Icon1:Xe.a,Icon2:Pe.a},"Convert Video Frames to Images"),o.a.createElement(vo,{open:"convert-keyframes-to-samples"===r,onClose:p,oha:t,onChangeOHA:function(){a.apply(void 0,arguments),p()}}),o.a.createElement(Do,{open:"download-urls"===r,onClose:p,oha:t,desktopOnly:!0,onChangeOHA:a}),o.a.createElement(Bo,{open:"convert-video-frames-to-images"===r,onClose:p,oha:t,desktopOnly:!0,onChangeOHA:a})))},zo=Object(M.a)("div")({padding:16}),Wo=Object(M.a)("div")({padding:8,border:"#888 solid 1px",borderTop:"none",borderRadius:4,borderTopLeftRadius:0,borderTopRightRadius:0,boxShadow:"inset 0 3px 3px rgba(0,0,0,0.2)"}),qo=Object(M.a)("div")({fontSize:11,fontWeight:"bold"}),Ho=Object(M.a)("pre")({whiteSpace:"pre-wrap",fontSize:11}),Vo=function(e){var t=e.data,a=t._output,n=Object(rn.a)(t,["_output"]);return o.a.createElement(Wo,null,o.a.createElement(pt.a,{spacing:2,container:!0},o.a.createElement(pt.a,{item:!0,xs:6},o.a.createElement(qo,null,"taskData[",t.index,"]:"),o.a.createElement(Ho,null,JSON.stringify(n,null,"  "))),o.a.createElement(pt.a,{item:!0,xs:6},o.a.createElement(qo,null,"taskOutput[",t.index,"]:"),o.a.createElement(Ho,null,JSON.stringify(a,null,"  ")))))},Jo=function(e){var t=e.oha,a=e.openSampleInputEditor,i=e.openSampleLabelEditor,c=e.deleteSample,r=e.onChangeOHA,l=Dt(),s=Object(n.useState)(0===(t.taskData||[]).length?"import":window.localStorage.lastSampleTab||"grid"),p=Object(v.a)(s,2),u=p[0],m=p[1],d=function(e){m(e),window.localStorage.lastSampleTab=e},h=Object(n.useMemo)((function(){if(!t.taskData)return[];var e=[{name:"Index",selector:"index",sortable:!0}],n=new Set,r=!0,l=!1,s=void 0;try{for(var p,u=t.taskData[Symbol.iterator]();!(r=(p=u.next()).done);r=!0){var m=p.value;for(var d in m)n.has(d)||(e.push({name:d,selector:d}),n.add(d))}}catch(h){l=!0,s=h}finally{try{r||null==u.return||u.return()}finally{if(l)throw s}}return e.push({name:"Edit",button:!0,cell:function(e){return o.a.createElement(B.a,{raised:!0,onClick:function(){return a(e.index)}},o.a.createElement(qe.a,{style:{width:20,height:20}}))}}),e.push({name:"Label",button:!0,cell:function(e){return o.a.createElement(B.a,{raised:!0,onClick:function(){return i(e.index)}},o.a.createElement(T.a,{style:{width:20,height:20}}))}}),e.push({name:"Delete",button:!0,cell:function(e){return o.a.createElement(B.a,{raised:!0,primary:!0,onClick:function(){return c(e.index)}},o.a.createElement(_n.a,{style:{width:20,height:20}}))}}),e}),[t.taskData,t.taskOutput]),g=Object(n.useMemo)((function(){return t.taskData?t.taskData.map((function(e,a){return Object(b.a)({},e,{_output:t.taskOutput&&t.taskOutput[a]?t.taskOutput[a]:{},index:a})})):[]}),[t.taskData,t.taskOutput]);return o.a.createElement(zo,null,o.a.createElement(k.a,{value:u,onChange:function(e,t){return d(t)}},o.a.createElement(E.a,{icon:o.a.createElement(Pn.a,null),label:"Import",value:"import"}),o.a.createElement(E.a,{icon:o.a.createElement(An.a,null),label:"Transform",value:"transform"}),o.a.createElement(E.a,{icon:o.a.createElement(Tn.a,null),label:"Grid",value:"grid"}),o.a.createElement(E.a,{icon:o.a.createElement(Bn.a,null),label:"Table",value:"table"})),o.a.createElement(ut.a,{paddingTop:2}),"import"===u&&o.a.createElement(uo,{isDesktop:l,onChangeOHA:function(e,t){r(e),t&&d("grid")},oha:t}),"transform"===u&&o.a.createElement(Mo,{isDesktop:l,oha:t,onChangeOHA:function(e,t){r(e),t&&d("grid")}}),"grid"===u&&o.a.createElement(In,{count:(t.taskData||[]).length,completed:(t.taskOutput||[]).map(Boolean),onClick:function(e){i(e)}}),"table"===u&&o.a.createElement(yn.a,{title:"Samples",expandableRowsComponent:o.a.createElement(Vo,null),expandableRows:!0,dense:!0,columns:h,data:g,pagination:!0,paginationPerPage:10,paginationRowsPerPageOptions:[10,20,25,50,100,200]}))},Ko={questions:[{name:"regionTypesAllowed",title:"Region Types Allowed",description:"What types of regions can be drawn on the image.",type:"multiple-dropdown",choices:["bounding-box","polygon","point"]},{name:"multipleRegions",title:"Can multiple regions be created?",type:"boolean"},{name:"multipleRegionLabels",title:"Multiple Region Labels Allowed?",type:"boolean"},{name:"availableLabels",title:"Available Labels",description:"If you're labeling regions on an image, these are the allowed classifications or tags.",type:"matrixdynamic",columns:[{cellType:"text",name:"id",title:"id"},{cellType:"text",name:"description",title:"Description (optional)"}]}]},Go=function(e){var t=e.iface,a=e.onChange,i=Object(n.useMemo)((function(){return{multipleRegions:Boolean(t.multipleRegions||void 0===t.multipleRegions),multipleRegionLabels:Boolean(t.multipleRegionLabels),regionTypesAllowed:t.regionTypesAllowed,availableLabels:(t.availableLabels||[]).map((function(e){return"string"===typeof e?{id:e,description:e}:e}))||[]}}),[]);return o.a.createElement(en.a,{noActions:!0,variant:"flat",defaultAnswers:i,onQuestionChange:function(e,n,o){a(Object($n.setIn)(t,[e],n))},form:Ko})},Yo={questions:[{name:"allowMultiple",title:"Allow multiple classifications per image?",type:"boolean"},{name:"availableLabels",title:"Available Labels",description:"Classifications or tags to be labeled.",type:"matrixdynamic",columns:[{cellType:"text",name:"id",title:"id"},{cellType:"text",name:"description",title:"Description (optional)"}]}]},Qo=function(e){var t=e.iface,a=e.onChange,i=Object(n.useMemo)((function(){return{allowMultiple:!1,availableLabels:(t.availableLabels||[]).map((function(e){return"string"===typeof e?{id:e,description:e}:e}))||[]}}),[]);return o.a.createElement(en.a,{noActions:!0,variant:"flat",defaultAnswers:i,onQuestionChange:function(e,n,o){a(Object($n.setIn)(t,[e],n))},form:Yo})},Xo={questions:[{name:"multiple",title:"Allow Multiple Classifications",type:"boolean"},{name:"labels",title:"Labels",description:"Classifications or tags to be labeled.",type:"matrixdynamic",columns:[{cellType:"text",name:"id",title:"id"},{cellType:"text",name:"displayName",title:"Display Name"},{cellType:"text",name:"description",title:"Description (optional)"}]}]},Zo=function(e){var t=e.iface,a=e.onChange,i=Object(n.useMemo)((function(){return{multiple:!1,labels:(t.labels||[]).map((function(e){return"string"===typeof e?{id:e,displayName:e,description:e}:e}))||[]}}),[]);return o.a.createElement(en.a,{noActions:!0,variant:"flat",defaultAnswers:i,onQuestionChange:function(e,n,o){a(Object($n.setIn)(t,[e],n))},form:Xo})},$o=Object(M.a)("div")({margin:16,padding:16,border:"1px solid #ccc",borderRadius:4,boxShadow:"0px 2px 2px rgba(0,0,0,0.1)"}),ei={questions:[{name:"transcriptionType",title:"Transcription Type",type:"dropdown",choices:["simple","proper"]},{name:"phraseBank",title:"Phrase Bank",description:"URL of single-column CSV or TXT file with allowed phrases",type:"text"},{name:"onlyUseWordsInPhraseBank",title:"Only Use Words In Phrase Bank",type:"boolean"},{name:"language",title:"Language",type:"dropdown",choices:[{value:"ab",text:"Abkhazian"},{value:"aa",text:"Afar"},{value:"af",text:"Afrikaans"},{value:"ak",text:"Akan"},{value:"sq",text:"Albanian"},{value:"am",text:"Amharic"},{value:"ar",text:"Arabic"},{value:"an",text:"Aragonese"},{value:"hy",text:"Armenian"},{value:"as",text:"Assamese"},{value:"av",text:"Avaric"},{value:"ae",text:"Avestan"},{value:"ay",text:"Aymara"},{value:"az",text:"Azerbaijani"},{value:"bm",text:"Bambara"},{value:"ba",text:"Bashkir"},{value:"eu",text:"Basque"},{value:"be",text:"Belarusian"},{value:"bn",text:"Bengali"},{value:"bh",text:"Bihari languages"},{value:"bi",text:"Bislama"},{value:"bs",text:"Bosnian"},{value:"br",text:"Breton"},{value:"bg",text:"Bulgarian"},{value:"my",text:"Burmese"},{value:"ca",text:"Catalan, Valencian"},{value:"km",text:"Central Khmer"},{value:"ch",text:"Chamorro"},{value:"ce",text:"Chechen"},{value:"ny",text:"Chichewa, Chewa, Nyanja"},{value:"zh",text:"Chinese"},{value:"cu",text:"Church Slavonic, Old Bulgarian, Old Church Slavonic"},{value:"cv",text:"Chuvash"},{value:"kw",text:"Cornish"},{value:"co",text:"Corsican"},{value:"cr",text:"Cree"},{value:"hr",text:"Croatian"},{value:"cs",text:"Czech"},{value:"da",text:"Danish"},{value:"dv",text:"Divehi, Dhivehi, Maldivian"},{value:"nl",text:"Dutch, Flemish"},{value:"dz",text:"Dzongkha"},{value:"en",text:"English"},{value:"eo",text:"Esperanto"},{value:"et",text:"Estonian"},{value:"ee",text:"Ewe"},{value:"fo",text:"Faroese"},{value:"fj",text:"Fijian"},{value:"fi",text:"Finnish"},{value:"fr",text:"French"},{value:"ff",text:"Fulah"},{value:"gd",text:"Gaelic, Scottish Gaelic"},{value:"gl",text:"Galician"},{value:"lg",text:"Ganda"},{value:"ka",text:"Georgian"},{value:"de",text:"German"},{value:"ki",text:"Gikuyu, Kikuyu"},{value:"el",text:"Greek (Modern)"},{value:"kl",text:"Greenlandic, Kalaallisut"},{value:"gn",text:"Guarani"},{value:"gu",text:"Gujarati"},{value:"ht",text:"Haitian, Haitian Creole"},{value:"ha",text:"Hausa"},{value:"he",text:"Hebrew"},{value:"hz",text:"Herero"},{value:"hi",text:"Hindi"},{value:"ho",text:"Hiri Motu"},{value:"hu",text:"Hungarian"},{value:"is",text:"Icelandic"},{value:"io",text:"Ido"},{value:"ig",text:"Igbo"},{value:"id",text:"Indonesian"},{value:"ia",text:"Interlingua (International Auxiliary Language Association)"},{value:"ie",text:"Interlingue"},{value:"iu",text:"Inuktitut"},{value:"ik",text:"Inupiaq"},{value:"ga",text:"Irish"},{value:"it",text:"Italian"},{value:"ja",text:"Japanese"},{value:"jv",text:"Javanese"},{value:"kn",text:"Kannada"},{value:"kr",text:"Kanuri"},{value:"ks",text:"Kashmiri"},{value:"kk",text:"Kazakh"},{value:"rw",text:"Kinyarwanda"},{value:"kv",text:"Komi"},{value:"kg",text:"Kongo"},{value:"ko",text:"Korean"},{value:"kj",text:"Kwanyama, Kuanyama"},{value:"ku",text:"Kurdish"},{value:"ky",text:"Kyrgyz"},{value:"lo",text:"Lao"},{value:"la",text:"Latin"},{value:"lv",text:"Latvian"},{value:"lb",text:"Letzeburgesch, Luxembourgish"},{value:"li",text:"Limburgish, Limburgan, Limburger"},{value:"ln",text:"Lingala"},{value:"lt",text:"Lithuanian"},{value:"lu",text:"Luba-Katanga"},{value:"mk",text:"Macedonian"},{value:"mg",text:"Malagasy"},{value:"ms",text:"Malay"},{value:"ml",text:"Malayalam"},{value:"mt",text:"Maltese"},{value:"gv",text:"Manx"},{value:"mi",text:"Maori"},{value:"mr",text:"Marathi"},{value:"mh",text:"Marshallese"},{value:"ro",text:"Moldovan, Moldavian, Romanian"},{value:"mn",text:"Mongolian"},{value:"na",text:"Nauru"},{value:"nv",text:"Navajo, Navaho"},{value:"nd",text:"Northern Ndebele"},{value:"ng",text:"Ndonga"},{value:"ne",text:"Nepali"},{value:"se",text:"Northern Sami"},{value:"no",text:"Norwegian"},{value:"nb",text:"Norwegian Bokm\xe5l"},{value:"nn",text:"Norwegian Nynorsk"},{value:"ii",text:"Nuosu, Sichuan Yi"},{value:"oc",text:"Occitan (post 1500)"},{value:"oj",text:"Ojibwa"},{value:"or",text:"Oriya"},{value:"om",text:"Oromo"},{value:"os",text:"Ossetian, Ossetic"},{value:"pi",text:"Pali"},{value:"pa",text:"Panjabi, Punjabi"},{value:"ps",text:"Pashto, Pushto"},{value:"fa",text:"Persian"},{value:"pl",text:"Polish"},{value:"pt",text:"Portuguese"},{value:"qu",text:"Quechua"},{value:"rm",text:"Romansh"},{value:"rn",text:"Rundi"},{value:"ru",text:"Russian"},{value:"sm",text:"Samoan"},{value:"sg",text:"Sango"},{value:"sa",text:"Sanskrit"},{value:"sc",text:"Sardinian"},{value:"sr",text:"Serbian"},{value:"sn",text:"Shona"},{value:"sd",text:"Sindhi"},{value:"si",text:"Sinhala, Sinhalese"},{value:"sk",text:"Slovak"},{value:"sl",text:"Slovenian"},{value:"so",text:"Somali"},{value:"st",text:"Sotho, Southern"},{value:"nr",text:"South Ndebele"},{value:"es",text:"Spanish, Castilian"},{value:"su",text:"Sundanese"},{value:"sw",text:"Swahili"},{value:"ss",text:"Swati"},{value:"sv",text:"Swedish"},{value:"tl",text:"Tagalog"},{value:"ty",text:"Tahitian"},{value:"tg",text:"Tajik"},{value:"ta",text:"Tamil"},{value:"tt",text:"Tatar"},{value:"te",text:"Telugu"},{value:"th",text:"Thai"},{value:"bo",text:"Tibetan"},{value:"ti",text:"Tigrinya"},{value:"to",text:"Tonga (Tonga Islands)"},{value:"ts",text:"Tsonga"},{value:"tn",text:"Tswana"},{value:"tr",text:"Turkish"},{value:"tk",text:"Turkmen"},{value:"tw",text:"Twi"},{value:"ug",text:"Uighur, Uyghur"},{value:"uk",text:"Ukrainian"},{value:"ur",text:"Urdu"},{value:"uz",text:"Uzbek"},{value:"ve",text:"Venda"},{value:"vi",text:"Vietnamese"},{value:"vo",text:"Volap_k"},{value:"wa",text:"Walloon"},{value:"cy",text:"Welsh"},{value:"fy",text:"Western Frisian"},{value:"wo",text:"Wolof"},{value:"xh",text:"Xhosa"},{value:"yi",text:"Yiddish"},{value:"yo",text:"Yoruba"},{value:"za",text:"Zhuang, Chuang"},{value:"zu",text:"Zulu"}]},{name:"description",title:"Description",type:"multiline-text"}]},ti=function(e){var t=e.iface,a=e.onChange;return(o.a.createElement(en.a,{noActions:!0,variant:"flat",onQuestionChange:function(e,n,o){n.value?a(Object(b.a)({},t,Object(j.a)({},e,n.value))):a(Object(b.a)({},t,Object(j.a)({},e,n)))},form:ei}))},ai={questions:[{name:"description",title:"Description",type:"multiline-text"},{name:"overlapAllowed",title:"Overlap Allowed",type:"boolean"},{name:"labels",title:"Labels",type:"matrixdynamic",hasOther:!0,columns:[{cellType:"text",name:"id",title:"ID"},{cellType:"text",name:"displayName",title:"Display Name"},{cellType:"text",name:"description",title:"Description"}]}]},ni=function(e){var t=e.iface,a=e.onChange,i=Object(n.useMemo)((function(){return{description:t.description,overlapAllowed:Boolean(t.overlapAllowed||void 0===t.overlapAllowed),labels:(t.labels||[]).map((function(e){return"string"===typeof e?{id:e,displayName:e,description:e}:e}))}}));return o.a.createElement(en.a,{noActions:!0,variant:"flat",onQuestionChange:function(e,n,o){a(Object($n.setIn)(t,[e],n))},form:ai,defaultAnswers:i})},oi=a(389),ii=a(308),ci=a(386),ri=a.n(ci),li=a(385),si=a.n(li),pi=Object(M.a)("div")({textAlign:"right"}),ui=Object(M.a)("div")({fontSize:18,color:z.a[500],fontWeight:"bold",textAlign:"center",padding:16}),mi=Object(M.a)("div")({position:"relative",padding:16,margin:16,borderLeft:"4px solid ".concat(u.a[400]),borderRadius:4,paddingRight:64,"& .quitButton":{position:"absolute",right:4,top:4},"& > *":{margin:8}}),di=Object(M.a)("div")({fontSize:12,fontWeight:"bold",color:z.a[600],textTransform:"uppercase",margin:16,marginBottom:32}),hi=Object(M.a)(q.a)({position:"relative","& .icon":{marginRight:8,opacity:.7}}),bi=function(e){var t=e.iface,a=e.onChange,i=Object(n.useRef)(),c=Object(n.useState)(!1),r=Object(v.a)(c,2),l=r[0],s=r[1],p=(t.surveyjs||{}).questions,u=void 0===p?[]:p;return o.a.createElement("div",null,0===u.length?o.a.createElement(ui,null,"No Inputs, Click Add Input Below"):u.map((function(e,n){return o.a.createElement(mi,{key:n},o.a.createElement("div",{style:{display:"flex"}},o.a.createElement(H.a,{variant:"outlined",label:"Name / Identifier",value:e.name||"",onChange:function(e){a(Object($n.setIn)(t,["surveyjs","questions",n,"name"],e.target.value))}}),o.a.createElement(H.a,{style:{marginLeft:8,flexGrow:1},variant:"outlined",label:"Title / Instruction",value:e.title||"",onChange:function(e){a(Object($n.setIn)(t,["surveyjs","questions",n,"title"],e.target.value))}})),o.a.createElement(pt.a,{container:!0},o.a.createElement(pt.a,{item:!0,xs:6},e.choices&&o.a.createElement(H.a,{style:{marginTop:8,paddingRight:8,boxSizing:"border-box"},variant:"outlined",fullWidth:!0,label:"Choices (One per Line)",defaultValue:e.choices.join("\n")||"",onChange:function(e){a(Object($n.setIn)(t,["surveyjs","questions",n,"choices"],e.target.value.split("\n")))},multiline:!0,rows:6})),o.a.createElement(pt.a,{item:!0,xs:6},o.a.createElement(di,null,"Preview"),o.a.createElement(en.a,{noActions:!0,variant:"flat",key:e,form:{questions:[e]}}))),o.a.createElement(B.a,{className:"quitButton",onClick:function(){a(Object($n.setIn)(t,["surveyjs","questions"],[].concat(Object(Ht.a)(u.slice(0,n)),Object(Ht.a)(u.slice(n+1)))))}},o.a.createElement(si.a,null)))})),o.a.createElement(pi,null,o.a.createElement(hi,{onClick:function(e){return s(!0)},ref:i},o.a.createElement(ri.a,{className:"icon"}),"Add Input")),o.a.createElement(oi.a,{anchorEl:i&&i.current,open:l,onClose:function(){return s(!1)}},o.a.createElement(ii.a,{onClick:function(){s(!1),a(Object($n.setIn)(t,["surveyjs","questions"],t.surveyjs.questions.concat([{name:"input"+u.length,type:"text",title:"New Text Input"}])))}},"Text Input"),o.a.createElement(ii.a,{onClick:function(){s(!1),a(Object($n.setIn)(t,["surveyjs","questions"],(t.surveyjs.questions||[]).concat({name:"input"+u.length,type:"radiogroup",title:"New Exclusive Choice Input",choices:["Yes","Maybe","No"]})))}},"Exclusive Choice"),o.a.createElement(ii.a,{onClick:function(){s(!1),a(Object($n.setIn)(t,["surveyjs","questions"],(t.surveyjs.questions||[]).concat({name:"input"+u.length,type:"checkbox",title:"New Checkbox Input",choices:["A","B","C"]})))}},"Checkboxes"),o.a.createElement(ii.a,{onClick:function(){s(!1),a(Object($n.setIn)(t,["surveyjs","questions"],t.surveyjs.questions.concat({name:"input"+u.length,type:"boolean",title:"New Boolean Input"})))}},"Boolean"),o.a.createElement(ii.a,{onClick:function(){s(!1),a(Object($n.setIn)(t,["surveyjs","questions"],(t.questions||[]).concat({name:"input"+u.length,type:"dropdown",title:"New Dropdown Input",choices:["A","B","C"]})))}},"Dropdown / Autocomplete"),o.a.createElement(ii.a,{onClick:function(){s(!1),a(Object($n.setIn)(t,["surveyjs","questions"],t.surveyjs.questions.concat([{name:"input"+u.length,type:"multiple-dropdown",title:"New Multiple Dropdown Input",choices:["A","B","C"]}])))}},"Multiple Item Dropdown / Autocomplete")))},gi=a(192),fi=a.n(gi),xi=Object(M.a)("div")({}),vi=Object(M.a)(mo.a)({marginTop:16,border:"2px solid #000"}),yi=Object(M.a)(q.a)({width:"100%",margin:16,marginLeft:0}),ji=function(e){var t=e.iface,a=e.onChange;return(o.a.createElement(o.a.Fragment,null,o.a.createElement(xi,null,(t.fields||[]).map((function(e,n){return o.a.createElement(vi,{key:n},o.a.createElement(bo.a,{expandIcon:o.a.createElement(fi.a,null)},e.fieldName),o.a.createElement(ho.a,null,o.a.createElement(ut.a,{display:"flex",flexDirection:"column"},o.a.createElement(H.a,{label:"Field Name",value:e.fieldName,onChange:function(e){a(Object($n.setIn)(["fields",n,"fieldName"],e.target.value,t))}}),o.a.createElement(Ni,{iface:e.interface,onChange:function(n){a(Object(b.a)({},t,{fields:t.fields.map((function(t){return t.fieldName===e.fieldName?Object(b.a)({},e,{interface:n}):t}))}))}}),o.a.createElement(q.a,{onClick:function(){a(Object(b.a)({},t,{fields:t.fields.filter((function(t){return t.fieldName!==e.fieldName}))}))}},"Remove Field"))))})),o.a.createElement(yi,{onClick:function(){a(Object($n.setIn)(t,["fields"],(t.fields||[]).concat({fieldOrder:(t.fields||[]).length,fieldName:"New Field",interface:{type:"empty"}})))}},"Add New Field"))))},_i=Object(M.a)("div")({textAlign:"center",paddingTop:30,paddingBottom:50,userSelect:"none"}),Oi=Object(M.a)("h3")({fontWeight:"bold",color:z.a[500]}),ki=Object(M.a)("a")({color:u.a[500]}),Ei=function(){return o.a.createElement(_i,null,o.a.createElement(Oi,null,"Hey, this isn't currently available, but if you'd like this functionality please let us know by leaving a thumbs up on ",o.a.createElement(ki,{target:"_blank",rel:"noopener noreferrer",href:"https://github.com/UniversalDataTool/universal-data-tool/issues/20"},"this")," github issue."))},wi={questions:[{name:"regionTypesAllowed",title:"Region Types Allowed",description:"What types of regions can be drawn on the image.",type:"multiple-dropdown",choices:["bounding-box","polygon","point"]},{name:"multipleRegions",title:"Can multiple regions be created?",type:"boolean"},{name:"multipleRegionLabels",title:"Multiple Region Labels Allowed?",type:"boolean"},{name:"availableLabels",title:"Available Labels",description:"If you're labeling regions on an video frames, these are the allowed classifications or tags.",type:"matrixdynamic",columns:[{cellType:"text",name:"id",title:"id"},{cellType:"text",name:"description",title:"Description (optional)"}]}]},Ci=function(e){var t=e.iface,a=e.onChange,i=Object(n.useMemo)((function(){return{multipleRegions:Boolean(t.multipleRegions||void 0===t.multipleRegions),multipleRegionLabels:Boolean(t.multipleRegionLabels),regionTypesAllowed:t.regionTypesAllowed,availableLabels:(t.availableLabels||[]).map((function(e){return"string"===typeof e?{id:e,description:e}:e}))||[]}}),[]);return o.a.createElement(en.a,{noActions:!0,variant:"flat",defaultAnswers:i,onQuestionChange:function(e,n,o){a(Object($n.setIn)(t,[e],n))},form:wi})},Si=Object(M.a)("div")({fontSize:18,textAlign:"center",fontWeight:"bold",color:z.a[500],paddingTop:30,paddingBottom:50}),Ii=Object(M.a)(q.a)({margin:8,"& .icon":{marginRight:8,color:"#888"},alignItems:"center",justifyContent:"center","&.selected":{backgroundColor:u.a[500],color:"#fff","& .icon":{color:"#fff"}}}),Di=Object(M.a)("div")({fontWeight:"bold",textTransform:"uppercase",fontSize:12,paddingLeft:8,marginBottom:8,marginTop:16,color:z.a[700]}),Ti=function(e){var t=e.currentlySelected,a=e.onChange;return et.map((function(e){return o.a.createElement(Ii,{key:e.oha.interface.type||"empty",className:t===e.oha.interface.type?"selected":"",variant:"outlined",onClick:function(){t!==e.oha.interface.type&&a(e.oha.interface.type)}},o.a.createElement(e.Icon,{className:"icon"}),e.name)}))},Ni=function(e){var t=e.iface,a=void 0===t?{}:t,n=e.onChange;e.onClickEditJSON;return(o.a.createElement($o,null,o.a.createElement(Ti,{currentlySelected:a.type,onChange:function(e){n(Object($n.setIn)(a,["type"],e))}}),o.a.createElement(Di,null,"Options"),o.a.createElement(ut.a,{paddingTop:2}),!a.type&&o.a.createElement(Si,null,"Select a Type"),"image_segmentation"===a.type&&o.a.createElement(Go,{iface:a,onChange:n}),"image_classification"===a.type&&o.a.createElement(Qo,{iface:a,onChange:n}),"composite"===a.type&&o.a.createElement(ji,{iface:a,onChange:n}),"data_entry"===a.type&&o.a.createElement(bi,{iface:a,onChange:n}),"audio_transcription"===a.type&&o.a.createElement(ti,{iface:a,onChange:n}),"text_entity_recognition"===a.type&&o.a.createElement(ni,{iface:a,onChange:n}),"text_classification"===a.type&&o.a.createElement(Zo,{iface:a,onChange:n}),"video_segmentation"===a.type&&o.a.createElement(Ci,{iface:a,onChange:n}),"3d_bounding_box"===a.type&&o.a.createElement(Ei,{iface:a,onChange:n})))},Ai=a(789),Li=Object(M.a)(q.a)({margin:8}),Bi=function(e){var t=e.oha,a=e.onChange,n=e.onClickEditJSON,i=e.onClearLabelData,c=t.interface,r=ee(),l=Object(Ai.a)();Dt();return o.a.createElement("div",null,o.a.createElement(Ni,{iface:c,onChange:a,onClickEditJSON:n}),o.a.createElement($o,null,o.a.createElement(Di,null,"Advanced"),o.a.createElement(ut.a,{padding:2},o.a.createElement(Li,{onClick:n,variant:"outlined"},"Edit JSON"),o.a.createElement(Li,{onClick:function(){window.confirm("Are you sure you want to delete all your label data? Click OK to delete.")&&i()},variant:"outlined"},"Clear All Labels"),o.a.createElement(Li,Object(j.a)({onClick:n,variant:"outlined"},"onClick",(function(){r.has_opted_out_captureing()?r.opt_in_captureing():r.opt_out_captureing(),l()})),r.has_opted_out_captureing()?"Enable":"Disable"," ","Telemetry"))))},Ri=function(e){var t=e.open,a=e.sampleIndex,i=e.sampleInput,c=e.onChange,r=e.onClose,l=Object(n.useState)(),s=Object(v.a)(l,2),p=s[0],u=s[1],m=Object(n.useState)(),d=Object(v.a)(m,2),h=d[0],b=d[1];return Object(n.useEffect)((function(){var e=JSON.stringify(i,null,"  ");e!==p&&(u(e),b(null))}),[a]),o.a.createElement(Ct,{open:t,onClose:r,title:"taskData[".concat(a,"]")},o.a.createElement(Jt.a,{theme:"github",mode:"javascript",width:"100%",value:p,editorProps:{$blockScrolling:1/0},onChange:function(e){u(e),b(null);try{c(JSON.parse(e))}catch(t){b(t.toString())}}}),o.a.createElement(ut.a,{color:"red"},h))},Pi=Object(M.a)("div")({}),Ui=Object(M.a)("div")({display:"inline-flex",flexDirection:"column",margin:16}),Fi=Object(M.a)("div")({fontSize:14,fontWeight:"bold",color:z.a[700]}),Mi=Object(M.a)("div")({fontSize:32,marginTop:8}),zi=function(e){var t=e.stats;return(o.a.createElement(Pi,null,t.map((function(e){return o.a.createElement(Ui,{key:e.name},o.a.createElement(Fi,null,e.name),o.a.createElement(Mi,null,e.value))}))))},Wi=(a(85),a(252)),qi=a.n(Wi),Hi=a(116),Vi=a(786),Ji=a(394),Ki=Object(r.a)({root:{position:"fixed",display:"flex",flexDirection:"column",bottom:0,left:0,right:0,alignItems:"flex-start",pointerEvents:"none"},msgBox:{display:"flex",backgroundColor:u.a[700],fontSize:12,color:"#fff",padding:4,marginBottom:4,boxShadow:"0px 3px 8px rgba(0,0,0,0.5)","&.warning":{backgroundColor:Hi.a[700]},"&.error":{backgroundColor:W.a[700]}}}),Gi=Object(n.createContext)(),Yi=function(){return{addToast:Object(n.useContext)(Gi).addToast}},Qi=function(e){var t=e.children,a=Object(n.useReducer)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;if("add"===t.type){var a="info"===t.messageType?2e3:(t.messageType,5e3);return e.concat([{id:Math.random().toString().split(".")[1],message:t.message,type:t.messageType,life:a,fullLife:a}])}return"tick"===t.type?e.map((function(e){return Object(b.a)({},e,{life:e.life-100})})).filter((function(e){return e.life>0})):e}),[]),i=Object(v.a)(a,2),c=i[0],r=i[1],l=Ki();Object(n.useEffect)((function(){if(0===c.length)return function(){};var e=setInterval((function(){r({type:"tick"})}),100);return function(){return clearInterval(e)}}),[c]);return o.a.createElement(o.a.Fragment,null,o.a.createElement(Gi.Provider,{value:{toasts:c,addToast:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info";return r({type:"add",message:e,messageType:t})}}},t),o.a.createElement("div",{className:l.root},c.map((function(e){return o.a.createElement(Vi.a,{key:e.id,in:e.life<e.fullLife},o.a.createElement(Ji.a,{in:e.life>600},o.a.createElement("div",{className:kn()(l.msgBox,e.type)},e.message)))}))))},Xi=(a(671),a(673),Object(r.a)({headerButton:{color:"#fff"},saveIcon:{marginRight:4},editIcon:{marginLeft:4},container:{display:"flex",flexDirection:"column",width:"100vw",height:"100vh"}})),Zi=["Settings","Samples","Label"],$i=function(e){e.datasetName;var t=e.oha,a=(e.content,e.inSession),i=e.url,c=e.fileName,r=void 0===c?"unnamed":c,l=e.onChangeFileName,s=e.onChangeOHA,p=void 0===s?function(){return null}:s,u=(e.onFileDrop,e.initialMode),m=void 0===u?"settings":u,d=Xi(),h=Yi().addToast,g=Object(n.useState)(m),f=Object(v.a)(g,2),x=f[0],y=f[1],j=Object(n.useState)(),_=Object(v.a)(j,2),O=_[0],k=_[1],E=Object(n.useState)({}),w=Object(v.a)(E,2),C=w[0],S=w[1],I=Object(n.useState)(),D=Object(v.a)(I,2),T=D[0],N=D[1],A=$()||{},L=(A.remote,A.ipcRenderer),B=function(){var e=Object(n.useReducer)((function(e,t){var a=e.samplesInWindow.slice(-10).concat([t]);return{timeToCompleteSample:a.reduce((function(e,t){return e+t}),0)/a.length,samplesInWindow:a}}),{timeToCompleteSample:0,samplesInWindow:[]}),t=Object(v.a)(e,2);return[t[0].timeToCompleteSample,t[1]]}(),R=Object(v.a)(B,2),P=R[0],U=R[1];Object(n.useEffect)((function(){if(L){var e=function(){return y("settings")},t=function(){return y("samples")},a=function(){return y("label")};return L.on("open-settings-page",e),L.on("open-samples-page",t),L.on("open-label-page",a),function(){L.removeListener("open-settings-page",e),L.removeListener("open-samples-page",t),L.removeListener("open-label-page",a)}}}),[]),Object(n.useEffect)((function(){"json"===x&&N(JSON.stringify(t,null,"  "))}),[x]),Object(n.useEffect)((function(){if(T&&"json"===x)try{p(JSON.parse(T))}catch(e){}}),[T]);var F=Object(Tt.a)((function(e){return y(e.toLowerCase())})),M=0;return t.taskOutput&&t.taskOutput.length>0&&t.taskData&&t.taskData.length>0&&(M=t.taskOutput.filter(Boolean).length/t.taskData.length),o.a.createElement("div",{className:d.container},o.a.createElement(st,{title:a?o.a.createElement(H.a,{label:"Share Link",value:i,variant:"outlined",size:"small"}):o.a.createElement(xn,{label:"File Name",onChange:l,value:r||""}),onChangeTab:F,currentTab:x,tabs:Zi}),o.a.createElement("div",{style:{overflowY:"scroll"}},"json"===x&&o.a.createElement(Jt.a,{theme:"github",mode:"javascript",width:"100%",value:T||"",editorProps:{$blockScrolling:1/0},onChange:function(e){return N(e)}}),"settings"===x&&o.a.createElement(Bi,{onClickEditJSON:function(){return y("json")},oha:t,onClearLabelData:function(){p(Object($n.without)(t,"taskOutput"))},onChange:function(e){e.type!==t.interface.type&&"empty"!==t.interface.type&&t.taskOutput&&t.taskOutput.some(Boolean)&&h("Warning: Changing label types can cause label data issues. You might want to clear all label data.","error"),p(Object(b.a)({},t,{interface:e}))}}),"samples"===x&&o.a.createElement(Jo,{oha:t,openSampleLabelEditor:function(e){k(Object(b.a)({},t,{taskData:[t.taskData[e]],taskOutput:[(t.taskOutput||[])[e]],sampleIndex:e,annotationStartTime:Date.now()})),y("label")},openSampleInputEditor:function(e){S({open:!0,sampleIndex:e})},deleteSample:function(e){var a=Object(Ht.a)(t.taskData),n=t.taskOutput?Object(Ht.a)(t.taskOutput):void 0;a.splice(e,1),n&&n.splice(e,1),p(Object(b.a)({},t,{taskData:a,taskOutput:n}))},onChangeOHA:p}),"label"===x&&O?o.a.createElement(gn,{datasetName:"Sample ".concat(O.sampleIndex),onSaveTaskOutputItem:function(e,a){var n=t;n.taskOutput||(n=Object($n.setIn)(n,["taskOutput"],(n.taskData||[]).map((function(e){return null})))),(n.taskOutput.length<n.taskData.length||n.taskOutput.includes(void 0))&&(n=Object($n.setIn)(n,["taskOutput"],n.taskData.map((function(e,t){return void 0===n.taskOutput[t]?null:n.taskOutput[t]})))),n=Object($n.setIn)(n,["taskOutput",O.sampleIndex],a),k(Object($n.setIn)(O,["taskOutput",e],a)),p(n)},onExit:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"nothing";O.startTime&&U(Date.now()-O.startTime);var a=O.sampleIndex;switch(e){case"go-to-next":if(a!==t.taskData.length-1)return void k(Object(b.a)({},t,{taskData:[t.taskData[a+1]],taskOutput:[(t.taskOutput||[])[a+1]],sampleIndex:a+1,startTime:Date.now()}));break;case"go-to-previous":if(0!==a)return void k(Object(b.a)({},t,{taskData:[t.taskData[a-1]],taskOutput:[(t.taskOutput||[])[a-1]],sampleIndex:a-1,startTime:Date.now()}))}k(null)},oha:O}):"label"===x&&o.a.createElement($o,null,o.a.createElement(zi,{stats:[{name:"Percent Complete",value:Math.floor(100*M)+"%"},{name:"Time per Sample",value:qi()(new Date(Date.now()-P)).toString(1,1)},{name:"Estimated Remaining",value:qi()(new Date(Date.now()-P*(1-M)*(t.taskData||[]).length)).toString(1,2)}]}),o.a.createElement(In,{count:(t.taskData||[]).length,completed:(t.taskOutput||[]).map(Boolean),onClick:function(e){k(Object(b.a)({},t,{taskData:[t.taskData[e]],taskOutput:[(t.taskOutput||[])[e]],sampleIndex:e,startTime:Date.now()}))}}))),o.a.createElement(Ri,Object.assign({},C,{sampleInput:void 0!==C.sampleIndex?t.taskData[C.sampleIndex]:null,onClose:function(){S({open:!1})},onChange:function(e){p(Object($n.setIn)(t,["taskData",C.sampleIndex],e))}})))},ec=Object(r.a)({root:{position:"fixed",display:"flex",flexDirection:"column",bottom:0,left:0,right:0,alignItems:"center",pointerEvents:"none"},errorBox:{display:"flex",backgroundColor:W.a[700],color:"#fff",padding:4,marginBottom:4}}),tc=function(e){var t=e.errors,a=ec();return o.a.createElement("div",{className:a.root},t.map((function(e){return o.a.createElement(Vi.a,{key:e.id,in:e.life<5e3},o.a.createElement(Ji.a,{in:e.life>500},o.a.createElement("div",{className:a.errorBox},e.message)))})))},ac=function(){var e=Object(n.useState)([]),t=Object(v.a)(e,2),a=t[0],o=t[1];return Object(n.useEffect)((function(){if(0===a.length)return function(){};var e=setInterval((function(){o(a.map((function(e){return Object(b.a)({},e,{life:e.life-100})})).filter((function(e){return e.life>0})))}),100);return function(){return clearInterval(e)}}),[a]),[a,function(e){o(a.concat([{id:Math.random().toString().split(".")[1],message:e,life:5e3}]))}]},nc=a(202),oc=a.n(nc),ic=a(387),cc=a(388),rc=a.n(cc),lc=a(143),sc=a.n(lc);function pc(e,t){return e.concat([t])}function uc(e,t){if(0===t.length)return Object($n.without)(e,t[0]);var a=t.slice(0,-1),n=t[t.length-1],o=Object($n.getIn)(e,a);if(Array.isArray(o)){var i=parseInt(n);return Object($n.setIn)(e,a,[].concat(Object(Ht.a)(o.slice(0,i)),Object(Ht.a)(o.slice(i+1))))}return Object($n.setIn)(e,a,Object($n.without)(o,n))}var mc=function(e,t){var a=!0,n=!1,o=void 0;try{for(var i,c=t[Symbol.iterator]();!(a=(i=c.next()).done);a=!0){var r=i.value,l=r.op,s=r.path;if(0===(s=s.split("/").filter(Boolean)).length){if("replace"===l){e=r.value;continue}throw new Error("Operation on root object not supported")}switch(l){case"replace":e=Object($n.setIn)(e,s,r.value);continue;case"copy":e=Object($n.setIn)(e,s,Object($n.getIn)(e,r.from.split("/")));continue;case"add":if(isNaN(parseInt(s.slice(-1)[0])))e=Array.isArray(Object($n.getIn)(e,s))?Object($n.updateIn)(e,s,pc,r.value):Object($n.setIn)(e,s,r.value);else e=Object($n.setIn)(e,s,r.value);continue;case"move":var p=r.from.split("/");e=uc(e=Object($n.setIn)(e,s,Object($n.getIn)(e,p)),p);continue;case"remove":e=uc(e,s);continue}}}catch(u){n=!0,o=u}finally{try{a||null==c.return||c.return()}finally{if(n)throw o}}return e},dc=window.localStorage.useLocalCollaborationServer?"http://localhost:3000":"https://udt-collaboration.workaround.now.sh",hc=oc()("json","GET",dc),bc=oc()("json","POST",dc),gc=oc()("json","PATCH",dc),fc=function(e){return rc()(JSON.parse(JSON.stringify(e)))},xc=function(){var e=Object(x.a)(f.a.mark((function e(t){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,hc("/api/session/".concat(encodeURIComponent(t)));case 3:return a=e.sent,e.abrupt("return",{state:a.udt_json,version:a.version});case 7:return e.prev=7,e.t0=e.catch(0),console.log('error getting session "'.concat(t,'"')),e.abrupt("return",{state:null,version:null});case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),vc=function(){var e=Object(x.a)(f.a.mark((function e(t){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,bc("/api/session",{udt:t.content});case 2:return a=e.sent,e.abrupt("return",{id:a.short_id,sessionId:a.short_id,url:"".concat(window.location.origin,"?s=").concat(a.short_id),content:t.content,lastSyncedVersion:a.version,lastSyncedState:sc()(t.content),mode:"server"});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),yc={saveFile:function(){return null}},jc=a(198),_c=a.n(jc),Oc=ee(),kc=function(){var e,t=Object(n.useState)(),a=Object(v.a)(t,2),o=a[0],i=a[1],c=Yi().addToast,r=function(e,t){if(!Dt())return yc;var a=Yi().addToast,o=$(),i=o.remote,c=(o.ipcRenderer,Object(Tt.a)((function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=n.saveAs,c=void 0!==o&&o;function r(){return l.apply(this,arguments)}function l(){return(l=Object(x.a)(f.a.mark((function n(){var o,r,l,s;return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(o=e.filePath,e.filePath&&!c){n.next=12;break}return n.next=4,i.dialog.showSaveDialog({filters:[{name:".udt.json",extensions:["udt.json"]}]});case 4:if(r=n.sent,l=r.cancelled,s=r.filePath,o=!s||s.endsWith(".json")?s:"".concat(s,".udt.json"),!l&&o){n.next=11;break}return a("Could not save"),n.abrupt("return");case 11:t(Object(b.a)({},e,{filePath:o,fileName:o.split("/").slice(-1)[0]}));case 12:return n.next=14,i.require("fs").promises.writeFile(o,JSON.stringify(e.content,null,"  "));case 14:a("File Saved!");case 15:case"end":return n.stop()}}),n)})))).apply(this,arguments)}e&&r()})));return Object(n.useEffect)((function(){e&&e.filePath&&e.fileName!==e.filePath.split("/").slice(-1)[0]&&t(Object($n.setIn)(e,["filePath"],e.filePath.split("/").slice(0,-1).concat([e.fileName+(e.fileName.endsWith(".json")?"":".oha.json")]).join("/")))}),[e&&e.fileName,e&&e.fileName]),{saveFile:c}}(o,i).saveFile,l=function(e,t){var a=Object(L.a)("recentItems",[]),o=Object(v.a)(a,2),i=o[0],c=o[1];return i||(i=[]),Object(n.useEffect)((function(){e&&e.fileName&&"unnamed"!==e.fileName&&("local-storage"!==e.mode&&"filesystem"!==e.mode||(i.map((function(e){return e.id})).includes(e.id)?c(i.map((function(t){return t.id===e.id?e:t}))):c([e].concat(i).slice(0,3))))}),[e]),{recentItems:i}}(o).recentItems;!function(e,t){var a=Yi().addToast;Object(n.useEffect)((function(){if(e&&"server"===e.mode){var n=function(){var i=Object(x.a)(f.a.mark((function i(){var c,r,l,s,p,u,m,d,h,g,x,v,y,j,_,O,k,E,w;return f.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=4,hc("/api/session/".concat(encodeURIComponent(e.sessionId),"/diffs?since=").concat(e.lastSyncedVersion));case 4:p=i.sent,c=p.patch,r=p.hashOfLatestState,l=p.latestVersion,s=p.changeLog,i.next=15;break;case 11:return i.prev=11,i.t0=i.catch(0),a("There was an issue connecting to the server. Refresh to retry.","error"),i.abrupt("return");case 15:if(o){i.next=17;break}return i.abrupt("return");case 17:for(u=!0,m=!1,d=void 0,i.prev=20,h=s[Symbol.iterator]();!(u=(g=h.next()).done);u=!0)x=g.value,v=x.userName,y=x.op,(j=x.path).startsWith("/interface")?a("".concat(v," changed the project settings"),"warning"):j.startsWith("/taskOutput")?(_=j.match(/\/taskOutput\/([^\/]+)/))?a("".concat(v," labeled sample ").concat(_[1])):a("".concat(v," changed many samples"),"warning"):j.startsWith("/taskData")?a("".concat(v," changed the sample data"),"warning"):a("".concat(v," did a ").concat(y," at ").concat(j));i.next=28;break;case 24:i.prev=24,i.t1=i.catch(20),m=!0,d=i.t1;case 28:i.prev=28,i.prev=29,u||null==h.return||h.return();case 31:if(i.prev=31,!m){i.next=34;break}throw d;case 34:return i.finish(31);case 35:return i.finish(28);case 36:if(!(c.length>0)){i.next=50;break}if(!1,O=mc(e.content,c),fc(O)===r){i.next=49;break}return console.log("when getting diffs, hashes were not equal! getting latest version from server..."),i.next=43,xc(e.sessionId);case 43:k=i.sent,E=k.state,w=k.version,t(eo()(Object(b.a)({},e,{content:E,lastSyncedState:E,lastSyncedVersion:w}))),i.next=50;break;case 49:t(eo()(Object(b.a)({},e,{content:O,lastSyncedState:O,lastSyncedVersion:l})));case 50:if(o){i.next=52;break}return i.abrupt("return");case 52:o=setTimeout(n,500);case 53:case"end":return i.stop()}}),i,null,[[0,11],[20,24,28,36],[29,,31,35]])})));return function(){return i.apply(this,arguments)}}(),o=setTimeout(n,500);return function(){clearTimeout(o),o=null}}}),[e]),Object(n.useEffect)((function(){function a(){return(a=Object(x.a)(f.a.mark((function a(){var n,o,i,c,r,l,s,p;return f.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(0!==(n=ic.createPatch(e.lastSyncedState,e.content)).length){a.next=3;break}return a.abrupt("return");case 3:o="anonymous";try{o=JSON.parse(window.localStorage.userName)}catch(u){}return a.next=7,gc("/api/session/".concat(encodeURIComponent(e.sessionId)),{patch:n,userName:o});case 7:if(i=a.sent,c=i.hashOfLatestState,r=i.latestVersion,fc(e.content)===c){a.next=20;break}return console.log("after patch, hashes were not equal! getting latest version from server..."),a.next=14,xc(e.sessionId);case 14:l=a.sent,s=l.state,p=l.version,t(eo()(Object(b.a)({},e,{content:s,lastSyncedState:s,lastSyncedVersion:p}))),a.next=21;break;case 20:t(Object($n.setIn)(Object($n.setIn)(e,["lastSyncedVersion"],r),["lastSyncedState"],e.content));case 21:case"end":return a.stop()}}),a)})))).apply(this,arguments)}e&&"server"===e.mode&&function(){a.apply(this,arguments)}()}),[e&&e.content])}(o,i),e=o&&o.content,Object(n.useEffect)((function(){e&&e.interface&&(Oc.capture("interface_type",{interface_type:e.interface.type}),Oc.people.set({last_used_interface_type:e.interface.type}))}),[e&&e.interface&&e.interface.type]),Object(n.useEffect)((function(){e&&e.taskData&&Oc.capture("dataset_size",{dataset_size:(e.taskData||[]).length})}),[e&&(e.taskData||[]).length]),Object(n.useEffect)((function(){if(e&&e.taskOutput){var t=e.taskOutput.filter(Boolean).length;Oc.capture("sample_completion",{dataset_size:(e.taskData||[]).length,samples_completed:t,percent_completed:t/(e.taskData||[]).length})}}),[e&&(e.taskData||[]).length,e&&e.taskOutput&&e.taskOutput.filter(Boolean).length]);var s=Object(Tt.a)((function(e){var t=e.name,a=e.path;function n(e){try{var n;n=t.endsWith("csv")?function(e){var t=_c.a.fromCSV(e);return{interface:t.interface,taskOutput:t.samples.map((function(e){return e.output})),taskData:t.samples.map((function(e){return delete e.output,e}))}}(e):JSON.parse(e),i({fileName:t,filePath:a,mode:a?"filesystem":"local-storage",content:n,id:a})}catch(o){console.log(o.toString()),c("Couldn't read file, see console for details","error")}}if(e.content)n(e.content);else{var o=new FileReader;o.onload=function(e){n(e.target.result)},o.readAsText(e)}})),p=Object(Tt.a)(function(){var e=Object(x.a)(f.a.mark((function e(t){var a,n,o,c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=decodeURIComponent(t.match(/[\?&]s=([^&]+)/)[1])){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,xc(a);case 5:if(n=e.sent,o=n.state,c=n.version,o){e.next=10;break}return e.abrupt("return");case 10:window.history.replaceState({},window.document.title,"/?s=".concat(encodeURIComponent(a))),i({url:t,sessionId:a,mode:"server",id:a,content:o,lastSyncedState:sc()(o),lastSyncedVersion:c});case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());Object(n.useEffect)((function(){o&&"server"!==o.mode&&window.history.replaceState({},window.document.title,"/")}),[o&&o.mode]),Object(n.useEffect)((function(){window.location.search.match(/[\?&]s=([a-zA-Z0-9]+)/)&&p(window.location.href)}),[]);var u=Object(Tt.a)(Object(x.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,vc(o);case 2:t=e.sent,i(t),window.history.replaceState({},window.document.title,"/?s=".concat(encodeURIComponent(t.sessionId)));case 5:case"end":return e.stop()}}),e)}))));return Object(n.useMemo)((function(){return{file:o,changeFile:i,openFile:s,openUrl:p,makeSession:u,saveFile:r,recentItems:l}}),[o,i,s,u,l])},Ec=a(253),wc=a.n(Ec),Cc=a(246),Sc=function(e){var t={};t.interface=e.interface,t.samples=e.taskData.map((function(t,a){return Object(b.a)({},t,{output:(e.taskOutput||[])[a]})}));var a=new Set,n=!0,o=!1,i=void 0;try{for(var c,r=t.samples[Symbol.iterator]();!(n=(c=r.next()).done);n=!0){var l=c.value;Object.keys(Object(Cc.flatten)(l)).forEach((function(e){return a.add(e)}))}}catch(p){o=!0,i=p}finally{try{n||null==r.return||r.return()}finally{if(o)throw i}}(a=Array.from(a).sort((function(e,t){return e.split(".").length-t.split(".").length}))).some((function(e){return e.includes("output.keyframes")}))&&(a=a.filter((function(e){return e.includes("output.keyframes")}))).push("output.keyframes");var s={rows:["interface"].concat(Object(Ht.a)(ia()(t.samples.length).map((function(e){return"samples.".concat(e)})))),columns:["."].concat(Object(Ht.a)(a))};return _c.a.toCSV(t,s)},Ic=Object(r.a)({empty:{textAlign:"center",padding:100,color:"#666",fontSize:28}}),Dc=function(){return Math.random().toString().split(".")[1]},Tc=function(){Ic();var e=kc(),t=e.file,a=e.changeFile,i=e.openFile,c=e.openUrl,r=e.makeSession,l=e.recentItems,s=ac(),p=Object(v.a)(s,2),u=p[0],m=(p[1],Object(Tt.a)((function(e){a({fileName:"unnamed",content:e.oha,id:Dc(),mode:"local-storage"})}))),d=Object(Tt.a)((function(e){return a(e)})),h=Object(Tt.a)((function(){return a(null)})),g=Object(Tt.a)((function(e){if(t){var a=(t.sessionId||t.fileName)+".udt."+e;"json"===e?wc()(JSON.stringify(t.content),a):"csv"===e&&wc()(Sc(t.content),a)}})),y=t&&"server"===t.mode,j=Object(n.useState)(!1),_=Object(v.a)(j,2),O=_[0],k=_[1],E=Object(n.useCallback)(function(){var e=Object(x.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[]),w=Object(Tt.a)((function(){return a(Object(b.a)({},t,{mode:"local-storage",id:Dc(),fileName:"unnamed"}))}));return o.a.createElement(o.a.Fragment,null,o.a.createElement(rt.Provider,{value:{title:t?"local-storage"===t.mode?t.fileName:t.url:"unnamed",recentItems:l,onClickTemplate:m,onClickHome:h,onOpenFile:i,onOpenRecentItem:d,inSession:y,sessionBoxOpen:O,changeSessionBoxOpen:k,onJoinSession:E,onLeaveSession:w,onCreateSession:r,fileOpen:Boolean(t),onDownload:g}},t?o.a.createElement($i,Object.assign({key:t.id},t,{inSession:y,oha:t.content,onChangeFileName:function(e){a(Object($n.setIn)(t,["fileName"],e))},onChangeOHA:function(e){a(Object($n.setIn)(t,["content"],e))}})):o.a.createElement(qt,{onFileDrop:i,onOpenTemplate:m,recentItems:l,onOpenRecentItem:d,onClickOpenSession:function(){return k(!0)}})),o.a.createElement(tc,{errors:u}))},Nc=Object(r.a)({empty:{textAlign:"center",padding:100,color:"#666",fontSize:28}}),Ac=function(){Nc();var e=kc(),t=e.file,a=e.changeFile,i=e.openFile,c=(e.openUrl,e.makeSession,e.saveFile),r=e.recentItems,l=Object(n.useState)(),s=Object(v.a)(l,2),p=(s[0],s[1],ac()),u=Object(v.a)(p,2),m=u[0],d=(u[1],Yi().addToast,$()),h=d.remote,b=d.ipcRenderer,g=Object(Tt.a)((function(e){a({fileName:"unnamed",content:e.oha,id:Math.random().toString().split(".")[1],mode:"filesystem"})})),y=Object(Tt.a)((function(e){return a(e)})),j=Object(Tt.a)((function(){return a(null)}));return Object(n.useEffect)((function(){var e=function(){return a(null)},n=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=t.templateName;g(et.find((function(e){return e.name===a}))||et[0])},o=function(){return c({saveAs:!0})},r=function(){var e=Object(x.a)(f.a.mark((function e(){var a,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,h.dialog.showSaveDialog({filters:[{name:".udt.csv",extensions:["udt.csv"]}]});case 4:return a=e.sent,a.cancelled,n=!(n=a.filePath)||n.endsWith(".csv")?n:"".concat(n,".udt.csv"),e.next=10,h.require("fs").promises.writeFile(n,Sc(t.content));case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),l=function(e,t){return console.log(t),i(t)};return b.on("open-welcome-page",e),b.on("new-file",n),b.on("open-file",l),b.on("save-file",c),b.on("save-file-as",o),b.on("export-to-csv",r),function(){b.removeListener("open-welcome-page",e),b.removeListener("new-file",n),b.removeListener("open-file",l),b.removeListener("save-file",c),b.removeListener("save-file-as",o),b.removeListener("export-to-csv",r)}}),[t]),o.a.createElement(o.a.Fragment,null,o.a.createElement(rt.Provider,{value:{recentItems:r,onClickTemplate:g,onClickHome:j,title:t?t.fileName:null,fileOpen:Boolean(t),onOpenRecentItem:y,isDesktop:!0,onOpenFile:i}},t?o.a.createElement($i,Object.assign({key:t.id},t,{oha:t.content,onChangeFileName:function(e){a(Object($n.setIn)(t,["fileName"],e))},onChangeOHA:function(e){a(Object($n.setIn)(t,["content"],e))}})):o.a.createElement(qt,{showDownloadLink:!1,onFileDrop:i,onOpenTemplate:g,recentItems:r,onOpenRecentItem:y})),o.a.createElement(tc,{errors:m}))},Lc=function(){var e=$();return(o.a.createElement(h,null,o.a.createElement(Qi,null,Boolean(e)?o.a.createElement(Ac,null):o.a.createElement(Tc,null))))};c.a.render(o.a.createElement(Lc,null),document.getElementById("root"))}},[[414,1,2]]]);
//# sourceMappingURL=main.96702434.chunk.js.map